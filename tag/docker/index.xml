<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker | äº‘åŸç”Ÿç¤¾åŒºï¼ˆä¸­å›½ï¼‰</title>
    <link>https://cloudnativecn.com/tag/docker/</link>
      <atom:link href="https://cloudnativecn.com/tag/docker/index.xml" rel="self" type="application/rss+xml" />
    <description>Docker</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><lastBuildDate>Tue, 19 Sep 2023 12:03:00 +0800</lastBuildDate>
    <image>
      <url>https://cloudnativecn.com/media/sharing.png</url>
      <title>Docker</title>
      <link>https://cloudnativecn.com/tag/docker/</link>
    </image>
    
    <item>
      <title>å¦‚ä½•åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ GUI åº”ç”¨ç¨‹åº</title>
      <link>https://cloudnativecn.com/blog/run-gui-applications-as-containers-with-x11docker/</link>
      <pubDate>Tue, 19 Sep 2023 12:03:00 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/run-gui-applications-as-containers-with-x11docker/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šæœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ GUI åº”ç”¨ç¨‹åºã€‚é€šè¿‡ä½¿ç”¨ x11docker åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è½»æ¾å¯åŠ¨å¸¦æœ‰æ¡Œé¢ç¯å¢ƒçš„ GUI å®¹å™¨ï¼Œå¹¶æä¾›äº†è®¸å¤šåŠŸèƒ½ï¼Œå¦‚ GPU ç¡¬ä»¶åŠ é€Ÿã€å£°éŸ³ã€å‰ªè´´æ¿å…±äº«ç­‰ã€‚æ–‡ç« è¿˜æä¾›äº†å®‰è£… Docker è¿è¡Œæ—¶å¼•æ“å’Œ x11docker çš„è¯¦ç»†æ­¥éª¤ï¼Œå¹¶æ¼”ç¤ºäº†ä½¿ç”¨ VLC åª’ä½“æ’­æ”¾å™¨åœ¨å®¹å™¨ä¸­è¿è¡Œ GUI åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æœ¬æ–‡è¯‘è‡ªï¼š&lt;a href=&#34;https://thenewstack.io/run-gui-applications-as-containers-with-x11docker/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://thenewstack.io/run-gui-applications-as-containers-with-x11docker/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½œä¸ºå¼€å‘äººå‘˜ï¼Œæ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨ GUI å®¹å™¨è¿›è¡Œå·¥ä½œã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œæ‚¨ä¼šå¾ˆå¿«å‘ç°ï¼Œä¼ ç»Ÿçš„ Docker è¿è¡Œæ—¶å¼•æ“å¹¶ä¸æ”¯æŒè¿è¡Œ GUI åº”ç”¨ç¨‹åºï¼ˆé™¤éå®ƒä»¬æ˜¯åŸºäº Web çš„ç±»å‹ï¼‰ã€‚å½“æ‚¨æƒ³è¦å¼€å‘å®¹å™¨åŒ–çš„ GUI åº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼Œæœ‰è®¸å¤šç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå¯ä»¥åœ¨æ¡Œé¢ä¸Šè½»æ¾å¯åŠ¨ GUI å®¹å™¨ã€‚æ­£å¦‚æ‚¨å¯èƒ½é¢„æœŸçš„é‚£æ ·ï¼Œè¿™éœ€è¦ä¸€ä¸ªæ¡Œé¢ç¯å¢ƒï¼ˆå¦åˆ™ï¼Œæ‚¨å°†åœ¨æ›´ä¼ ç»Ÿçš„åŸºäºæœåŠ¡å™¨çš„è®¾ç½®ä¸Šè¿›è¡Œå¼€å‘ï¼‰ã€‚å…¶ä¸­ä¸€ä¸ªåº”ç”¨ç¨‹åºå«åš &lt;a href=&#34;https://github.com/mviereck/x11docker&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;x11docker&lt;/a&gt;ã€‚é¡¾åæ€ä¹‰ï¼Œæ­¤åº”ç”¨ç¨‹åºä¸ Linux X æ˜¾ç¤ºæœåŠ¡å™¨é…åˆä½¿ç”¨ï¼ˆè¿™æ„å‘³ç€æ‚¨éœ€è¦ä¸€ä¸ª Linux å‘è¡Œç‰ˆæ‰èƒ½ä½¿å…¶æ­£å¸¸å·¥ä½œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;x11docker åº”ç”¨ç¨‹åºåŒ…æ‹¬ä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GPU ç¡¬ä»¶åŠ é€Ÿ&lt;/li&gt;
&lt;li&gt;PulseAudio æˆ– ALSA å£°éŸ³&lt;/li&gt;
&lt;li&gt;å‰ªè´´æ¿å…±äº«&lt;/li&gt;
&lt;li&gt;æ‰“å°æœºå’Œæ‘„åƒå¤´è®¿é—®&lt;/li&gt;
&lt;li&gt;æŒä¹…çš„ä¸»ç›®å½•&lt;/li&gt;
&lt;li&gt;Wayland æ”¯æŒ&lt;/li&gt;
&lt;li&gt;è¯­è¨€åŒºåŸŸè®¾ç½®åˆ›å»º&lt;/li&gt;
&lt;li&gt;å®¹å™¨å†…çš„å¤šä¸ª init ç³»ç»Ÿå’Œ DBus&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šä¸ªå®¹å™¨è¿è¡Œæ—¶å’Œåç«¯ï¼ˆåŒ…æ‹¬ Podmanï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‚¨å¯èƒ½ä¼šé—®ï¼šâ€œX11 ä¸å®‰å…¨å—ï¼Ÿâ€æ˜¯çš„ï¼Œç¡®å®ã€‚å¹¸è¿çš„æ˜¯ï¼Œx11docker é€šè¿‡ä½¿ç”¨å¤šä¸ª X æœåŠ¡å™¨æ¥é¿å… X æœåŠ¡å™¨æ³„æ¼ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥æ”¾å¿ƒä½¿ç”¨è¯¥å·¥å…·ï¼Œè€Œä¸å¿…æ‹…å¿ƒä¼šæš´éœ²è‡ªå·±ã€ç³»ç»Ÿæˆ–å®¹å™¨ç»™å…¸å‹çš„ X11 æœåŠ¡å™¨å¼±ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦è®°ä½çš„ä¸€ä»¶äº‹æ˜¯ï¼Œx11docker åˆ›å»ºäº†ä¸€ä¸ªéç‰¹æƒå®¹å™¨ç”¨æˆ·ã€‚è¯¥ç”¨æˆ·çš„å¯†ç ä¸º x11dockerï¼Œå¹¶é™åˆ¶äº†å®¹å™¨çš„åŠŸèƒ½ã€‚å› æ­¤ï¼ŒæŸäº›åº”ç”¨ç¨‹åºå¯èƒ½æ— æ³•æŒ‰é¢„æœŸæ–¹å¼è¿è¡Œã€‚ä¾‹å¦‚ï¼Œå½“å°è¯•ä»å®¹å™¨å†…è¿è¡Œ Tor æµè§ˆå™¨æ—¶ï¼Œå®ƒæ— æ³•è®¿é—® /dev/stdoutï¼Œè¿™æ„å‘³ç€å®¹å™¨å°†æ— æ³•è¿è¡Œã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰å®¹å™¨éƒ½æ˜¯å¦‚æ­¤ã€‚æˆ‘å°†ç”¨ VLC åª’ä½“æ’­æ”¾å™¨è¿›è¡Œæ¼”ç¤ºï¼Œè¯¥æ’­æ”¾å™¨å¯ä»¥æŒ‰é¢„æœŸè¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨è¿è¡Œä¸­çš„åŸºäº Ubuntu çš„æ¡Œé¢æ“ä½œç³»ç»Ÿå®ä¾‹ä¸Šå®‰è£… x11dockerã€‚å½“ç„¶ï¼Œé¦–å…ˆæ‚¨å¿…é¡»å®‰è£… Docker è¿è¡Œæ—¶å¼•æ“ã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºä¸¤ç§ä¸åŒçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å‡†å¤‡å¥½äº†å—ï¼Ÿæˆ‘ä»¬å¼€å§‹å§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ‰€éœ€çš„å·¥å…·&#34;&gt;æ‰€éœ€çš„å·¥å…·&lt;/h2&gt;
&lt;p&gt;æ­£å¦‚æˆ‘å·²ç»æåˆ°çš„ï¼Œæ‚¨éœ€è¦è¿è¡Œä¸­çš„åŸºäº Ubuntu çš„ Linux æ¡Œé¢å‘è¡Œç‰ˆå®ä¾‹ã€‚æ‚¨è¿˜éœ€è¦ä¸€ä¸ªå…·æœ‰ sudo æƒé™çš„ç”¨æˆ·ã€‚å°±è¿™äº›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…-docker&#34;&gt;å®‰è£… Docker&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹æ³•å®‰è£… Docker è¿è¡Œæ—¶å¼•æ“ã€‚é¦–å…ˆè¦åšçš„æ˜¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å®˜æ–¹ Docker GPG æ·»åŠ åˆ°ç³»ç»Ÿä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -fsSL &amp;lt;https://download.docker.com/linux/ubuntu/gpg&amp;gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¿…é¡»æ·»åŠ  Docker ä»“åº“ï¼Œä»¥ä¾¿å®‰è£…è½¯ä»¶ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®Œæˆæ­¤æ“ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] &amp;lt;https://download.docker.com/linux/ubuntu&amp;gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;lsb_release -cs&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; stable&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo tee /etc/apt/sources.list.d/docker.list &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;gt&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ·»åŠ ä»“åº“åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¸€äº›ä¾èµ–é¡¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install apt-transport-https ca-certificates curl gnupg lsb-release -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–° aptï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Dockerï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install docker-ce docker-ce-cli containerd.io -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†èƒ½å¤Ÿåœ¨ä¸ä½¿ç”¨ &lt;em&gt;sudo&lt;/em&gt; çš„æƒ…å†µä¸‹è¿è¡Œ Docker å‘½ä»¤ï¼ˆè¿™å¯èƒ½å­˜åœ¨å®‰å…¨é£é™©ï¼‰ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ‚¨çš„ç”¨æˆ·æ·»åŠ åˆ° docker ç”¨æˆ·ç»„ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo usermod -aG docker &lt;span class=&#34;nv&#34;&gt;$USER&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨é”€å¹¶é‡æ–°ç™»å½•ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨å¸Œæœ›é‡‡ç”¨å¿«é€Ÿæ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Dockerï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install curl wget uidmap -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget -qO- https://get.docker.com/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¦èƒ½å¤Ÿä»¥æ— ç‰¹æƒæ–¹å¼è¿è¡Œ Dockerï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dockerd-rootless-setuptool.sh install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¦‚ä½•å®‰è£…-x11docker&#34;&gt;å¦‚ä½•å®‰è£… x11docker&lt;/h2&gt;
&lt;p&gt;åœ¨å®‰è£… x11docker ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å®‰è£…ä¸€äº›ä¾èµ–é¡¹ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®Œæˆæ­¤æ“ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install xpra xserver-xephyr xinit xauth xclip x11-xserver-utils x11-utils -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… x11dockerï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -fsSL https://raw.githubusercontent.com/mviereck/x11docker/master/x11docker &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo bash -s -- --update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–° x11dockerï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo x11docker --update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¦‚ä½•ä½¿ç”¨-x11docker&#34;&gt;å¦‚ä½•ä½¿ç”¨ x11docker&lt;/h2&gt;
&lt;p&gt;å®‰è£…äº† x11docker ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹æµ‹è¯•äº†ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ VLC åº”ç”¨ç¨‹åºå®¹å™¨è¿›è¡Œæµ‹è¯•ã€‚é¦–å…ˆï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‹‰å–é•œåƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker pull jess/vlc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‹‰å–é•œåƒåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼ˆå€ŸåŠ© x11dockerï¼‰è¿è¡Œ VLCï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;x11docker --pulseaudio --share&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/Videos jess/vlc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‚¨åº”è¯¥ä¼šçœ‹åˆ° VLC çª—å£æ‰“å¼€ï¼Œå‡†å¤‡å¥½ä¾›ä½¿ç”¨ï¼ˆå›¾ 1ï¼‰ã€‚å®ƒçš„é€Ÿåº¦æ¯”ç›´æ¥å®‰è£…åœ¨æ‚¨çš„æ¡Œé¢ä¸Šè¦æ…¢ä¸€äº›ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒåº”è¯¥æŒ‰é¢„æœŸå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/run-gui-applications-as-containers-with-x11docker/docker_hu_c73d0da09d0d6fe8.webp 400w,
               /blog/run-gui-applications-as-containers-with-x11docker/docker_hu_7b5b09cbf653fd1e.webp 760w,
               /blog/run-gui-applications-as-containers-with-x11docker/docker_hu_23450f2a4c7a5b91.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/run-gui-applications-as-containers-with-x11docker/docker_hu_c73d0da09d0d6fe8.webp&#34;
               width=&#34;621&#34;
               height=&#34;486&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœæ‚¨æ˜¯å¼€å‘äººå‘˜ï¼Œè¿™å¯¹æ‚¨å¸®åŠ©ä¸å¤§ï¼Œå› ä¸ºæ‚¨æƒ³è¦å¼€å‘è‡ªå·±çš„å®¹å™¨ã€‚æ‚¨å¯ä»¥å§‹ç»ˆåˆ›å»ºè¦ä½¿ç”¨çš„æ˜ åƒï¼Œå¯¹å…¶è¿›è¡Œæ ‡è®°ï¼Œå°†å…¶æ¨é€åˆ°æ‚¨é€‰æ‹©çš„å­˜å‚¨åº“ï¼Œä½¿ç”¨ docker pull å‘½ä»¤å°†å…¶æ‹‰åˆ°å¼€å‘ç³»ç»Ÿä¸Šï¼Œç„¶åä½¿ç”¨ x11docker éƒ¨ç½²å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¿™æ ·ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡ x11docker åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ GUI åº”ç”¨ç¨‹åºäº†ã€‚å€ŸåŠ©è‡ªå·±çš„å›¾åƒéƒ¨ç½²è‡ªå·±çš„å®šåˆ¶å®¹å™¨ï¼Œçœ‹çœ‹å®ƒçš„å·¥ä½œåŸç†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>WebAssemblyï¼šæ— éœ€å®¹å™¨å°±èƒ½è¿è¡Œ Dockerï¼</title>
      <link>https://cloudnativecn.com/blog/docker-without-containers/</link>
      <pubDate>Thu, 27 Apr 2023 06:27:22 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/docker-without-containers/</guid>
      <description>&lt;p&gt;æœ€è¿‘ï¼ŒDocker å®£å¸ƒä¸ WasmEdge åˆä½œï¼Œåœ¨ Docker ç”Ÿæ€ç³»ç»Ÿä¸­æ”¯æŒ &lt;a href=&#34;https://docs.docker.com/desktop/wasm/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WebAssembly&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»ä»€ä¹ˆæ˜¯ WebAssemblyï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒä¸ Docker ç”Ÿæ€ç³»ç»Ÿç›¸å…³ï¼Œå¹¶æä¾›ä¸€äº›å®è·µç¤ºä¾‹ã€‚æˆ‘ä»¬å‡è®¾æ‚¨ç†Ÿæ‚‰ Docker å·¥å…·é›†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æˆ‘ä»¬çš„ &lt;a href=&#34;https://wasmlabs.dev/articles/php-wasm32-wasi-port/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WebAssembly PHP çš„ç«¯å£&lt;/a&gt; æ¥æ¼”ç¤ºå¦‚ä½•æ„å»º PHP è§£é‡Šå™¨ï¼Œå°†å…¶æ‰“åŒ…ä¸º OCI é•œåƒçš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä½¿ç”¨ Docker è¿è¡Œå®ƒã€‚&lt;/p&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œæœ¬æ–‡çš„é‡ç‚¹æ˜¯è·å¾—å®è·µç»éªŒï¼Œè€Œä¸æ˜¯è®¨è®ºæŠ€æœ¯ç»†èŠ‚ã€‚æ‚¨å¯ä»¥å¤åˆ¶ä»¥ä¸‹ç¤ºä¾‹ï¼Œä¹Ÿå¯ä»¥åªè¯»åˆ°æœ€åï¼Œå› ä¸ºæˆ‘ä»¬è¿˜å°†æä¾›è¾“å‡ºã€‚&lt;/p&gt;
&lt;h2 id=&#34;webassembly---ä»€ä¹ˆä¸ºä»€ä¹ˆ&#34;&gt;WebAssembly - ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªéå¸¸åŸºæœ¬çš„ä»‹ç»ã€‚å¦‚æœæ‚¨å·²ç»ç†Ÿæ‚‰è¯¥æŠ€æœ¯ï¼Œåˆ™å¯ä»¥è·³åˆ°åŠ¨æ‰‹ç¯èŠ‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯-webassembly&#34;&gt;ä»€ä¹ˆæ˜¯ WebAssemblyï¼Ÿ&lt;/h3&gt;
&lt;p&gt;WebAssemblyï¼ˆæˆ– Wasmï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œå®šä¹‰äº†ä¸€ç§äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œå¯ä»¥ä»ä¸åŒçš„æºè¯­è¨€åˆ›å»ºå¯ç§»æ¤çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/1_hu_abc27f74f154f239.webp 400w,
               /blog/docker-without-containers/1_hu_47e0fdf9614deada.webp 760w,
               /blog/docker-without-containers/1_hu_e75c39f4b21137ab.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/1_hu_abc27f74f154f239.webp&#34;
               width=&#34;757&#34;
               height=&#34;181&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥åœ¨å„ç§ç¯å¢ƒä¸­è¿è¡Œã€‚å®ƒèµ·æºäº webï¼Œå¹¶å¾—åˆ°æ‰€æœ‰ä¸»è¦æµè§ˆå™¨çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;wasm-åœ¨æµè§ˆå™¨ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„&#34;&gt;Wasm åœ¨æµè§ˆå™¨ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æµè§ˆå™¨å¼•æ“é›†æˆäº†ä¸€ä¸ª Wasm è™šæ‹Ÿæœºï¼Œé€šå¸¸ç§°ä¸º Wasm è¿è¡Œæ—¶ï¼Œå®ƒå¯ä»¥è¿è¡Œ Wasm äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚æœ‰ç¼–è¯‘å™¨å·¥å…·é“¾ï¼ˆå¦‚ Emscriptenï¼‰å¯ä»¥å°†æºä»£ç ç¼–è¯‘ä¸º Wasm ç›®æ ‡ã€‚è¿™å…è®¸å°†ä¼ ç»Ÿåº”ç”¨ç¨‹åºç§»æ¤åˆ°æµè§ˆå™¨ï¼Œå¹¶ç›´æ¥ä¸åœ¨å®¢æˆ·ç«¯ Web åº”ç”¨ç¨‹åºä¸­è¿è¡Œçš„ JS ä»£ç é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/2_hu_14807bd2b27c7693.webp 400w,
               /blog/docker-without-containers/2_hu_4cc9d0fd804841e7.webp 760w,
               /blog/docker-without-containers/2_hu_a3cc3f5d6dcc52ba.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/2_hu_14807bd2b27c7693.webp&#34;
               width=&#34;757&#34;
               height=&#34;312&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¿™äº›æŠ€æœ¯ä½¿ä¼ ç»Ÿæ¡Œé¢åº”ç”¨ç¨‹åºå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚ç°åœ¨å®ƒä»¬å¯ä»¥åœ¨ä»»ä½•æ‚¨æ‹¥æœ‰æµè§ˆå™¨çš„è®¾å¤‡ä¸Šè¿è¡Œã€‚ä¸€äº›è‘—åçš„ä¾‹å­æ˜¯ &lt;a href=&#34;https://earth.google.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Google Earth&lt;/a&gt; å’Œè®¡ç®—æœºè§†è§‰çš„ &lt;a href=&#34;https://opencv.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Open CV&lt;/a&gt; åº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;wasm-åœ¨æœåŠ¡å™¨ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„&#34;&gt;Wasm åœ¨æœåŠ¡å™¨ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æœ‰ä¸€äº› Wasm è¿è¡Œæ—¶å¯ä»¥åœ¨æµè§ˆå™¨ä¹‹å¤–è¿è¡Œï¼ŒåŒ…æ‹¬ä¼ ç»Ÿæ“ä½œç³»ç»Ÿï¼Œå¦‚ Linuxã€Windows å’Œ macOSã€‚ç”±äºå®ƒä»¬ä¸èƒ½ä¾èµ–äº JavaScript å¼•æ“çš„å¯ç”¨æ€§ï¼Œå®ƒä»¬ä½¿ç”¨ä¸åŒçš„æ¥å£ï¼ˆä¾‹å¦‚ WASIï¼Œ&lt;a href=&#34;https://wasi.dev/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WebAssembly ç³»ç»Ÿæ¥å£&lt;/a&gt;ï¼‰ä¸å¤–ç•Œé€šä¿¡ã€‚è¿™äº›è¿è¡Œæ—¶å…è®¸ Wasm åº”ç”¨ç¨‹åºä»¥ä¸ POSIX ç±»ä¼¼ï¼ˆä½†ä¸å®Œå…¨ç›¸åŒï¼‰çš„æ–¹å¼ä¸å…¶ä¸»æœºç³»ç»Ÿäº¤äº’ã€‚åƒ WASI SDK å’Œ wasi-libc è¿™æ ·çš„é¡¹ç›®å¯ä»¥å¸®åŠ©äººä»¬å°†ç°æœ‰çš„ POSIX å…¼å®¹åº”ç”¨ç¨‹åºç¼–è¯‘åˆ° WebAssemblyã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/3_hu_b17dae37d7eee3f0.webp 400w,
               /blog/docker-without-containers/3_hu_46de7252e8401a08.webp 760w,
               /blog/docker-without-containers/3_hu_68079f8dbfed2015.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/3_hu_b17dae37d7eee3f0.webp&#34;
               width=&#34;757&#34;
               height=&#34;306&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æ‚¨åªéœ€è¦å°†åº”ç”¨ç¨‹åºç¼–è¯‘ä¸º Wasm æ¨¡å—ä¸€æ¬¡ï¼Œç„¶åå°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œå®Œå…¨ç›¸åŒçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆä½¿-wasm-å¦‚æ­¤å‡ºè‰²&#34;&gt;ä»€ä¹ˆä½¿ Wasm å¦‚æ­¤å‡ºè‰²ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä¸€äº›ä½¿ Wasm åœ¨æµè§ˆå™¨ä¸­å‡ºè‰²çš„åŠŸèƒ½ä¹Ÿä½¿å…¶å¯¹æœåŠ¡å™¨ç«¯å¼€å‘éå¸¸æœ‰å¸å¼•åŠ›ï¼š&lt;/p&gt;
&lt;p&gt;ğŸŒ å¼€æ”¾ - å®ƒæ˜¯è¡Œä¸šå¹¿æ³›é‡‡ç”¨çš„æ ‡å‡†ã€‚ä¸è¿‡å»çš„æµè§ˆå™¨ä¹‹äº‰ä¸åŒï¼Œä¸»è¦å…¬å¸æ­£åœ¨åä½œæ ‡å‡†åŒ– WASI å’Œ WebAssembly åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ğŸš€ å¿«é€Ÿ - å®ƒå¯ä»¥é€šè¿‡å¤§å¤šæ•°è¿è¡Œæ—¶çš„ JIT/AOT èƒ½åŠ›æä¾›ç±»ä¼¼æœ¬æœºçš„é€Ÿåº¦ã€‚ä¸åƒå¯åŠ¨ VM æˆ–å¯åŠ¨å®¹å™¨é‚£æ ·æœ‰å†·å¯åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”’ å®‰å…¨ - Wasm è¿è¡Œæ—¶é»˜è®¤æƒ…å†µä¸‹æ˜¯éš”ç¦»çš„ï¼Œå¹¶å…è®¸å®‰å…¨åœ°è®¿é—®å†…å­˜ã€‚åŸºäºèƒ½åŠ›çš„æ¨¡å‹ç¡®ä¿ Wasm åº”ç”¨ç¨‹åºä»…èƒ½è®¿é—®å…¶æ˜ç¡®å…è®¸çš„å†…å®¹ã€‚å®‰å…¨çš„ä¾›åº”é“¾ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ’¼ å¯ç§»æ¤ - åœ¨å‡ ä¸ªä¸»è¦è¿è¡Œæ—¶ä¸­ï¼Œæ”¯æŒå¤§å¤šæ•° CPUï¼ˆx86ã€ARMã€RISC-Vï¼‰å’Œå¤§å¤šæ•°æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Linuxã€Windowsã€macOSã€Androidã€ESXiï¼Œç”šè‡³é POSIX çš„æ“ä½œç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”‹ é«˜æ•ˆ - Wasm åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡æœ€å°çš„å†…å­˜å ç”¨å’Œ CPU è¦æ±‚è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ğŸ—£ï¸ å¤šè¯­è¨€æ”¯æŒ - 40 å¤šç§è¯­è¨€å¯ä»¥ç¼–è¯‘ä¸º Wasmï¼Œå¹¶å…·æœ‰ç°ä»£çš„ã€ä¸æ–­æ”¹è¿›çš„å·¥å…·é“¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡å™¨å¹³å°æ¼”è¿›çš„ä¸‹ä¸€æ­¥&#34;&gt;æœåŠ¡å™¨å¹³å°æ¼”è¿›çš„ä¸‹ä¸€æ­¥ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æ‚¨å¯èƒ½å·²ç»çœ‹åˆ°è¿‡ Docker çš„å…±åŒåˆ›å§‹äººä¹‹ä¸€ Solomon Hykes çš„è¿™æ®µ &lt;a href=&#34;https://twitter.com/solomonstre/status/1111004913222324225&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¼•è¿°&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœ WASM+WASI åœ¨ 2008 å¹´å­˜åœ¨ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åˆ›å»º Docker äº†ã€‚è¿™å°±æ˜¯å®ƒçš„é‡è¦æ€§ã€‚WebAssembly åœ¨æœåŠ¡å™¨ä¸Šæ˜¯è®¡ç®—çš„æœªæ¥ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ç¡®å®ï¼ŒWASM+WASI ä¼¼ä¹æ˜¯æœåŠ¡å™¨ç«¯è½¯ä»¶åŸºç¡€æ¶æ„æ¼”è¿›çš„ä¸‹ä¸€æ­¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨è¿‡å»ï¼Œæˆ‘ä»¬æœ‰ç‰©ç†ç¡¬ä»¶å¯ç”¨ã€‚æˆ‘ä»¬ä¼šåœ¨æ¯ä¸ªç›’å­ä¸Šä»”ç»†å®‰è£…æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºï¼Œå¹¶é€ä¸ªç»´æŠ¤å®ƒä»¬ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œéšç€ç”± VMware å¼€åˆ›çš„ VM çš„é‡‡ç”¨ï¼Œäº‹æƒ…å˜å¾—æ›´å®¹æ˜“äº†ã€‚äººä»¬å¯ä»¥å¤åˆ¶ã€å…‹éš†å’Œç§»åŠ¨ VM è·¨ç¡¬ä»¶ç›’ã€‚ä½†è¿™ä»ç„¶éœ€è¦åœ¨ VM ä¸­å®‰è£…æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œå®¹å™¨å‡ºç°äº†ï¼Œç”± Docker æ¨å¹¿ï¼Œå®ƒä½¿å¾—åœ¨æç®€çš„åŒ…è£…ä¸Šä¸‹æ–‡ä¸­è¿è¡Œåº”ç”¨ç¨‹åºé…ç½®å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œè€Œä¸ä¼šå½±å“ä¸»æœºæ“ä½œç³»ç»Ÿä¸Šçš„ä»»ä½•å…¶ä»–åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œè¿™ä»ç„¶éœ€è¦åˆ†å‘åº”ç”¨ç¨‹åºä¸å…¶è¿è¡Œæ—¶å’Œå¿…è¦çš„åº“æ†ç»‘åœ¨ä¸€èµ·ã€‚å®‰å…¨è¾¹ç•Œç”± Linux å†…æ ¸æä¾›ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬ç°åœ¨æœ‰äº† WebAssemblyã€‚å®ƒçš„æŠ€æœ¯ç‰¹ç‚¹å’Œå¯ç§»æ¤æ€§ä½¿å¾—åˆ†å‘åº”ç”¨ç¨‹åºå˜å¾—å¯èƒ½ï¼Œæ— éœ€è¿è¾“ OS çº§åˆ«çš„ä¾èµ–é¡¹ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸¥æ ¼çš„å®‰å…¨çº¦æŸä¸‹è¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è€ƒè™‘åˆ°æ‰€æœ‰è¿™äº›ï¼Œå¼€å‘äººå‘˜é€šå¸¸ä¼šå°† WebAssembly è§†ä¸ºå®¹å™¨çš„â€œç»§æ‰¿è€…â€å’ŒåŸºç¡€æ¶æ„éƒ¨ç½²çš„ä¸‹ä¸€ä¸ªé€»è¾‘æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/4_hu_f37980f50df3e843.webp 400w,
               /blog/docker-without-containers/4_hu_2f345ae3e755e1bb.webp 760w,
               /blog/docker-without-containers/4_hu_ebe0eeeea8708617.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/4_hu_f37980f50df3e843.webp&#34;
               width=&#34;757&#34;
               height=&#34;212&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¦ä¸€ç§çœ‹å¾… WebAssembly çš„æ–¹å¼æ˜¯ä½œä¸º Docker å·¥å…·é“¾çš„æ›¿ä»£â€œåç«¯â€ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‘½ä»¤è¡Œå·¥å…·å’Œå·¥ä½œæµç¨‹ï¼Œä½†æ˜¯ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ Linux å®¹å™¨ï¼Œå®ƒæ˜¯ä½¿ç”¨åŸºäº WebAssembly çš„å®¹å™¨ç­‰ä»·ç‰©å®ç°çš„ã€‚æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†æ¢è®¨äº†è¿™ä¸ªæ¦‚å¿µï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„â€œæ²¡æœ‰å®¹å™¨çš„ Dockerâ€æ ‡é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;wasm-å¦‚ä½•ä¸-docker-é…åˆä½¿ç”¨&#34;&gt;Wasm å¦‚ä½•ä¸ Docker é…åˆä½¿ç”¨ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;Docker Desktop ç°åœ¨åŒ…æ‹¬å¯¹ WebAssembly çš„æ”¯æŒã€‚å®ƒæ˜¯ä½¿ç”¨ä¸€ä¸ªç§°ä¸º &lt;a href=&#34;https://github.com/WasmEdge/Wasmedge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WasmEdge&lt;/a&gt; çš„ Wasm è¿è¡Œæ—¶è¿è¡Œ Wasm åº”ç”¨ç¨‹åºçš„ containerd shim å®ç°çš„ã€‚è¿™æ„å‘³ç€ï¼Œä¸è¿è¡Œå®¹å™¨é•œåƒä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„å•ç‹¬è¿›ç¨‹ä¸åŒï¼Œæ‚¨ç°åœ¨å¯ä»¥åœ¨ WasmEdge è¿è¡Œæ—¶ä¸­è¿è¡Œ Wasm åº”ç”¨ç¨‹åºï¼Œæ¨¡æ‹Ÿå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå®¹å™¨é•œåƒä¸éœ€è¦åŒ…å«æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçš„ OS æˆ–è¿è¡Œæ—¶ä¸Šä¸‹æ–‡â€”â€”å•ä¸ª Wasm äºŒè¿›åˆ¶æ–‡ä»¶å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™åœ¨ Docker çš„ &lt;a href=&#34;https://www.docker.com/blog/docker-wasm-technical-preview/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Wasm æŠ€æœ¯é¢„è§ˆæ–‡ç« &lt;/a&gt; ä¸­æœ‰è¯¦ç»†è¯´æ˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯-wasmedge&#34;&gt;ä»€ä¹ˆæ˜¯ WasmEdgeï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/WasmEdge/Wasmedge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WasmEdge&lt;/a&gt; æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ WebAssembly è¿è¡Œæ—¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯å¼€æºçš„ï¼Œæ˜¯ &lt;a href=&#34;https://cncf.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CNCF&lt;/a&gt; çš„ä¸€éƒ¨åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ‰€æœ‰ä¸»è¦çš„ CPU æ¶æ„ï¼ˆx86ã€ARMã€RISC-Vï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ‰€æœ‰ä¸»è¦çš„æ“ä½œç³»ç»Ÿï¼ˆLinuxã€Windowsã€macOSï¼‰ï¼Œä»¥åŠå…¶ä»–æ“ä½œç³»ç»Ÿï¼Œå¦‚ seL4 RTOSã€Androidã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºäº‘åŸç”Ÿå’Œ Edge åº”ç”¨ç¨‹åºè¿›è¡Œäº†ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¯å¯æ‰©å±•çš„ï¼Œæ”¯æŒæ ‡å‡†å’Œæ–°å…´æŠ€æœ¯
&lt;ul&gt;
&lt;li&gt;ä¸ Tensorflowã€OpenVINOã€PyTorch ä¸€èµ·è¿›è¡Œ AI æ¨ç†&lt;/li&gt;
&lt;li&gt;æ”¯æŒä½¿ç”¨ Tokio è¿›è¡Œå¼‚æ­¥ç½‘ç»œã€‚æ”¯æŒå¾®æœåŠ¡ã€æ•°æ®åº“å®¢æˆ·ç«¯ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸å®¹å™¨ç”Ÿæ€ç³»ç»Ÿã€Docker å’Œ Kubernetes å®Œç¾é›†æˆï¼ˆæ­£å¦‚æœ¬æ–‡æ‰€ç¤ºï¼ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è§£é‡Šæ€§è¯­è¨€å‘¢&#34;&gt;è§£é‡Šæ€§è¯­è¨€å‘¢ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªæåˆ°äº†ç¼–è¯‘è¯­è¨€ï¼ˆå¦‚ C å’Œ Rustï¼‰å¯ä»¥é’ˆå¯¹ WebAssemblyã€‚å¯¹äºè§£é‡Šæ€§è¯­è¨€ï¼ˆå¦‚ Pythonã€Ruby å’Œ PHPï¼‰ï¼Œæ–¹æ³•æ˜¯ä¸åŒçš„ï¼šå®ƒä»¬çš„è§£é‡Šå™¨æ˜¯ç”¨ C ç¼–å†™çš„ï¼Œå¯ä»¥ç¼–è¯‘ä¸º WebAssemblyã€‚ç„¶åï¼Œè¿™ä¸ªè§£é‡Šå™¨ç¼–è¯‘ä¸º Wasmï¼Œå¯ä»¥ç”¨äºæ‰§è¡Œæºä»£ç æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ .pyã€.rbã€.php ç­‰ç»“å°¾ã€‚ä¸€æ—¦ç¼–è¯‘ä¸º Wasmï¼Œä»»ä½•å…·æœ‰ Wasm è¿è¡Œæ—¶çš„å¹³å°éƒ½å°†èƒ½å¤Ÿè¿è¡Œé‚£äº›è§£é‡Šæ€§è¯­è¨€ï¼Œå³ä½¿å®é™…çš„è§£é‡Šå™¨ä»æœªåŸç”Ÿåœ°ç¼–è¯‘ä¸ºè¯¥å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/5_hu_51e4b56940cf0201.webp 400w,
               /blog/docker-without-containers/5_hu_bb636249887b3d68.webp 760w,
               /blog/docker-without-containers/5_hu_2b1a46fc8923a5cc.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/5_hu_51e4b56940cf0201.webp&#34;
               width=&#34;757&#34;
               height=&#34;332&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;å®é™…æ¼”ç¤º&#34;&gt;å®é™…æ¼”ç¤º&lt;/h2&gt;
&lt;p&gt;è®©æˆ‘ä»¬å¼€å§‹å§ï¼åœ¨å®é™…æ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç¼–è¯‘ä¸º Wasm çš„ PHP è§£é‡Šå™¨ã€‚æˆ‘ä»¬å°†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»ºä¸€ä¸ª &lt;a href=&#34;https://wasmlabs.dev/articles/docker-without-containers/#building-a-wasm-container&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Wasm å®¹å™¨&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒ &lt;a href=&#34;https://wasmlabs.dev/articles/docker-without-containers/#native-vs-wasm&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Wasm å’Œæœ¬åœ°&lt;/a&gt; äºŒè¿›åˆ¶æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒ &lt;a href=&#34;https://wasmlabs.dev/articles/docker-without-containers/#traditional-vs-wasm-containers&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä¼ ç»Ÿå’Œ Wasm&lt;/a&gt; å®¹å™¨ã€‚&lt;/li&gt;
&lt;li&gt;å±•ç¤ºäº† &lt;a href=&#34;https://wasmlabs.dev/articles/docker-without-containers/#wasm-portability&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Wasm çš„å¯ç§»æ¤æ€§&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å…ˆå†³æ¡ä»¶&#34;&gt;å…ˆå†³æ¡ä»¶&lt;/h2&gt;
&lt;p&gt;å¦‚æœæ‚¨æƒ³åœ¨æœ¬åœ°å¤åˆ¶æ¼”ç¤ºï¼Œæ‚¨éœ€è¦å‡†å¤‡ä¸€äº›æˆ–å…¨éƒ¨ä»¥ä¸‹å†…å®¹çš„ç¯å¢ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WASI SDK - ä»æ—§ C ä»£ç æ„å»º WebAssembly åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;PHP - ä¸ºäº†è¿›è¡Œæœ¬åœ° PHP äºŒè¿›åˆ¶æ–‡ä»¶æ¯”è¾ƒ&lt;/li&gt;
&lt;li&gt;WasmEdge è¿è¡Œæ—¶ - è¿è¡Œ WebAssembly åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;Docker Desktop + Wasmï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå¯åœ¨ &lt;a href=&#34;https://docs.docker.com/desktop/release-notes/#4150&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‰ˆæœ¬ 4.15&lt;/a&gt; ä¸­ç¨³å®šæµ‹è¯•ç‰ˆä¸­ä½¿ç”¨ï¼‰ä»¥èƒ½å¤Ÿè¿è¡Œ Wasm å®¹å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜åˆ©ç”¨äº†&lt;a href=&#34;https://github.com/vmware-labs/webassembly-language-runtimes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;â€œWasm è¯­è¨€è¿è¡Œæ—¶â€&lt;/a&gt;å­˜å‚¨åº“ï¼Œè¯¥å­˜å‚¨åº“æä¾›äº†å°† PHP è§£é‡Šå™¨æ„å»ºä¸º WebAssembly åº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¼€å§‹æ£€æŸ¥æ¼”ç¤ºåˆ†æ”¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone --depth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; -b php-wasmedge-demo &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &amp;lt;https://github.com/vmware-labs/webassembly-language-runtimes.git&amp;gt; wlr-demo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; wlr-demo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ„å»ºä¸€ä¸ª-wasm-å®¹å™¨&#34;&gt;æ„å»ºä¸€ä¸ª Wasm å®¹å™¨&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªç±»ä¼¼äº PHP è§£é‡Šå™¨çš„åŸºäº C çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;æ„å»ºè¿‡ç¨‹ä½¿ç”¨ WASI-SDK å·¥å…·é›†ã€‚å®ƒåŒ…æ‹¬ä¸€ä¸ªå¯ä»¥æ„å»ºä¸º wasm32-wasi ç›®æ ‡çš„ clang ç¼–è¯‘å™¨ï¼Œä»¥åŠå®ç°åœ¨ WASI ä¸Šçš„åŸºæœ¬ POSIX ç³»ç»Ÿè°ƒç”¨æ¥å£çš„ wasi-libcã€‚ä½¿ç”¨ WASI SDKï¼Œæˆ‘ä»¬å¯ä»¥ä» PHP çš„ C ä»£ç åº“æ„å»º Wasm æ¨¡å—ã€‚ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªåŸºäº scratch çš„éå¸¸ç®€å•çš„ Dockerfile å°±å¯ä»¥åˆ¶ä½œä¸€ä¸ª OCI é•œåƒï¼Œè¯¥é•œåƒå¯ä»¥ä½¿ç”¨ Docker+Wasm è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/6_hu_fc0c99bf3d6d530.webp 400w,
               /blog/docker-without-containers/6_hu_46240391baad1d97.webp 760w,
               /blog/docker-without-containers/6_hu_ee3e4f36d3b999d9.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/6_hu_fc0c99bf3d6d530.webp&#34;
               width=&#34;757&#34;
               height=&#34;212&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;æ„å»º-wasm-äºŒè¿›åˆ¶æ–‡ä»¶&#34;&gt;æ„å»º WASM äºŒè¿›åˆ¶æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å‡è®¾ä½ åœ¨ &lt;code&gt;wlr-demo&lt;/code&gt; æ–‡ä»¶å¤¹ä¸­ï¼Œä½ å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ„å»º Wasm äºŒè¿›åˆ¶æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/opt/wasi-sdk/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;WASMLABS_RUNTIME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;wasmedge
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./wl-make.sh php/php-7.4.32/ &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tree build-output/php/php-7.4.32/bin/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;... &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; a few minutes and hundreds of build log lines&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;build-output/php/php-7.4.32/bin/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ php-cgi-wasmedge
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â””â”€â”€ php-wasmedge
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;PHP æ˜¯ä½¿ç”¨ &lt;em&gt;autoconf&lt;/em&gt; å’Œ &lt;em&gt;make&lt;/em&gt; æ„å»ºçš„ã€‚å› æ­¤ï¼Œå¦‚æœä½ æŸ¥çœ‹ &lt;code&gt;scripts/wl-build.sh&lt;/code&gt; è„šæœ¬ï¼Œä½ ä¼šæ³¨æ„åˆ°æˆ‘ä»¬è®¾ç½®äº†æ‰€æœ‰ç›¸å…³å˜é‡ï¼Œå¦‚ &lt;code&gt;CC&lt;/code&gt;ã€&lt;code&gt;LD&lt;/code&gt;ã€&lt;code&gt;CXX&lt;/code&gt; ç­‰ï¼Œä»¥ä½¿ç”¨æ¥è‡ª WASI_SDK çš„ç¼–è¯‘å™¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;WASI_SYSROOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/share/wasi-sysroot&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;CC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/clang
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;LD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/wasm-ld
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;CXX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/clang++
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/llvm-nm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;AR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/llvm-ar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RANLIB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WASI_SDK_ROOT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/llvm-ranlib
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åï¼Œè¿›ä¸€æ­¥ç ”ç©¶ &lt;code&gt;php/php-7.4.32/wl-build.sh&lt;/code&gt;ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åƒå¾€å¸¸ä¸€æ ·ä½¿ç”¨ &lt;em&gt;autoconf&lt;/em&gt; æ„å»ºè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./configure --host&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;wasm32-wasi &lt;span class=&#34;nv&#34;&gt;host_alias&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;wasm32-musl-wasi &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   --target&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;wasm32-wasi &lt;span class=&#34;nv&#34;&gt;target_alias&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;wasm32-musl-wasi &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PHP_CONFIGURE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make -j &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;MAKE_TARGETS&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;WASI è¿˜åœ¨ä¸æ–­å‘å±•ï¼Œè®¸å¤š POSIX è°ƒç”¨ä»ç„¶æ— æ³•åœ¨å…¶ä¸Šå®ç°ã€‚å› æ­¤ï¼Œä¸ºäº†æ„å»º PHPï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨åŸå§‹ä»£ç åº“çš„åŸºç¡€ä¸Šåº”ç”¨å‡ ä¸ªè¡¥ä¸ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°äº†è¾“å‡ºäºŒè¿›åˆ¶æ–‡ä»¶åˆ° &lt;code&gt;build-output/php/php-7.4.32&lt;/code&gt;ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸“é—¨ä¸º WasmEdge æ„å»ºçš„ &lt;code&gt;php-wasmedge&lt;/code&gt; äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› ä¸ºå®ƒæä¾›äº†æœåŠ¡å™¨ç«¯å¥—æ¥å­—æ”¯æŒï¼Œè¿™è¿˜ä¸æ˜¯ WASI çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¼˜åŒ–äºŒè¿›åˆ¶æ–‡ä»¶&#34;&gt;ä¼˜åŒ–äºŒè¿›åˆ¶æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;Wasm æ˜¯ä¸€ç§è™šæ‹ŸæŒ‡ä»¤é›†ï¼Œå› æ­¤ä»»ä½•è¿è¡Œæ—¶çš„é»˜è®¤è¡Œä¸ºéƒ½æ˜¯å®æ—¶è§£é‡Šè¿™äº›æŒ‡ä»¤ã€‚å½“ç„¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹è¿™å¯èƒ½ä¼šä½¿äº‹æƒ…å˜æ…¢ã€‚å› æ­¤ï¼Œä¸ºäº†åœ¨ WasmEdge ä¸­è·å¾—æœ€ä½³æ€§èƒ½ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ª AOTï¼ˆahead-of-timeï¼‰ä¼˜åŒ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åœ¨å½“å‰æœºå™¨ä¸Šæœ¬åœ°è¿è¡Œï¼Œä½†ä»å¯ä»¥åœ¨å…¶ä»–æœºå™¨ä¸Šè§£é‡Šã€‚&lt;/p&gt;
&lt;p&gt;è¦åˆ›å»ºè¯¥ä¼˜åŒ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wasmedgec --enable-all --optimize &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   build-output/php/php-7.4.32/bin/php-wasmedge &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   build-output/php/php-7.4.32/bin/php-wasmedge-aot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å°†åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ä½¿ç”¨æ­¤ &lt;code&gt;build-output/php/php-7.4.32/bin/php-wasmedge-aot&lt;/code&gt; äºŒè¿›åˆ¶æ–‡ä»¶ã€‚è¦äº†è§£æœ‰å…³ WasmEdge AOT ä¼˜åŒ–äºŒè¿›åˆ¶æ–‡ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ &lt;a href=&#34;https://wasmlabs.dev/articles/docker-without-containers/build-output/php/php-7.4.32/bin/php-wasmedge-aot&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ­¤å¤„&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ„å»º-oci-é•œåƒ&#34;&gt;æ„å»º OCI é•œåƒ&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æœ‰äº†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åŒ…è£…åœ¨ OCI é•œåƒä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬æ¥çœ‹çœ‹ &lt;code&gt;images/php/Dockerfile.cli&lt;/code&gt;ã€‚æˆ‘ä»¬åªéœ€è¦å¤åˆ¶ Wasm äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å°†å…¶è®¾ç½®ä¸º &lt;code&gt;ENTRYPOINT&lt;/code&gt; å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; scratch&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ARG&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PHP_TAG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;php-7.4.32&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ARG&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PHP_BINARY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; build-output/php/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PHP_TAG&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PHP_BINARY&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; /php.wasm&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENTRYPOINT&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;php.wasm&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥å‘é•œåƒæ·»åŠ æ›´å¤šå†…å®¹ï¼Œå½“ Wasm äºŒè¿›åˆ¶æ–‡ä»¶åœ¨ Docker ä¸­è¿è¡Œæ—¶ï¼Œè¿™äº›å†…å®¹å°†å¯è®¿é—®ã€‚ä¾‹å¦‚ï¼Œåœ¨ &lt;code&gt;images/php/Dockerfile.server&lt;/code&gt; ä¸­ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€äº› docroot å†…å®¹ï¼Œä»¥ä¾¿åœ¨å®¹å™¨å¯åŠ¨æ—¶ç”± &lt;code&gt;php.wasm&lt;/code&gt; æœåŠ¡ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; scratch&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ARG&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PHP_TAG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;php-7.4.32&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ARG&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PHP_BINARY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; build-output/php/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PHP_TAG&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/bin/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PHP_BINARY&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; /php.wasm&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; images/php/docroot /docroot&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENTRYPOINT&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;php.wasm&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-S&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.0.0.0:8080&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-t&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/docroot&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŸºäºä¸Šè¿°æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨æœ¬åœ°æ„å»ºæˆ‘ä»¬çš„ &lt;code&gt;php-wasm&lt;/code&gt; é•œåƒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build --build-arg &lt;span class=&#34;nv&#34;&gt;PHP_BINARY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;php-wasmedge-aot -t ghcr.io/vmware-labs/php-wasm:7.4.32-cli-aot -f images/php/Dockerfile.cli .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build --build-arg &lt;span class=&#34;nv&#34;&gt;PHP_BINARY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;php-wasmedge-aot -t ghcr.io/vmware-labs/php-wasm:7.4.32-server-aot -f images/php/Dockerfile.server .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åŸç”Ÿ-vs-wasm&#34;&gt;åŸç”Ÿ vs Wasm&lt;/h2&gt;
&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬å°†åŸç”Ÿ PHP äºŒè¿›åˆ¶æ–‡ä»¶ä¸ Wasm äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒã€‚åœ¨æœ¬åœ°å’Œ Docker å®¹å™¨ä¸­éƒ½ä½¿ç”¨ç›¸åŒçš„ &lt;code&gt;index.php&lt;/code&gt; æ–‡ä»¶è¿è¡Œå®ƒï¼Œå¹¶æ¯”è¾ƒæˆ‘ä»¬è¿è¡Œå®ƒæ—¶å¾—åˆ°çš„ç»“æœï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;php&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;php-wasmedge-aot&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;ä¼ ç»Ÿå®¹å™¨ä¸­çš„ &lt;code&gt;php&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;Wasm å®¹å™¨ä¸­çš„ &lt;code&gt;php-wasmedge-aot&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/7_hu_6386af0538f04b9.webp 400w,
               /blog/docker-without-containers/7_hu_1ad4fb35e891b71b.webp 760w,
               /blog/docker-without-containers/7_hu_51fdcb60edbe2f17.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/7_hu_6386af0538f04b9.webp&#34;
               width=&#34;757&#34;
               height=&#34;326&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;åœ¨ä»¥ä¸‹æ‰€æœ‰ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨ç›¸åŒçš„ &lt;code&gt;images/php/docroot/index.php&lt;/code&gt; æ–‡ä»¶ï¼Œå› æ­¤è®©æˆ‘ä»¬æ¥çœ‹çœ‹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ­¤è„šæœ¬å°†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;phpversion&lt;/code&gt; å’Œ &lt;code&gt;php_uname&lt;/code&gt; æ˜¾ç¤ºè§£é‡Šå™¨ç‰ˆæœ¬å’Œæ­£åœ¨è¿è¡Œçš„å¹³å°&lt;/li&gt;
&lt;li&gt;æ‰“å°è„šæœ¬å¯ä»¥è®¿é—®çš„æ‰€æœ‰ç¯å¢ƒå˜é‡çš„åç§°&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å½“å‰æ—¶é—´å’Œæ—¥æœŸæ‰“å°ä¸€ä¸ª hello æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;åˆ—å‡ºæ ¹ç›®å½• &lt;code&gt;/&lt;/code&gt; çš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Hello from PHP &lt;span class=&#34;cp&#34;&gt;&amp;lt;?php echo phpversion() ?&amp;gt;&lt;/span&gt; running on &amp;#34;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php echo php_uname()?&amp;gt;&lt;/span&gt;&amp;#34;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;List env variable names&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;$php_env_vars_count = count(getenv());
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;echo &amp;#34;Running with $php_env_vars_count environment variables:\\n&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;foreach (getenv() as $key =&amp;gt; $value) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;    echo  $key . &amp;#34; &amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;echo &amp;#34;\\n&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Hello&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;$date = getdate();
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;$message = &amp;#34;Today, &amp;#34; . $date[&amp;#39;weekday&amp;#39;] . &amp;#34;, &amp;#34; . $date[&amp;#39;year&amp;#39;] . &amp;#34;-&amp;#34; . $date[&amp;#39;mon&amp;#39;] . &amp;#34;-&amp;#34; . $date[&amp;#39;mday&amp;#39;];
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;$message .= &amp;#34;, at &amp;#34; . $date[&amp;#39;hours&amp;#39;] . &amp;#34;:&amp;#34; . $date[&amp;#39;minutes&amp;#39;] . &amp;#34;:&amp;#34; . $date[&amp;#39;seconds&amp;#39;];
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;$message .= &amp;#34; we greet you with this message!\\n&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;echo $message;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;Contents of &amp;#39;/&amp;#39;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;foreach (array_diff(scandir(&amp;#39;/&amp;#39;), array(&amp;#39;.&amp;#39;, &amp;#39;..&amp;#39;)) as $key =&amp;gt; $value) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;    echo  $value . &amp;#34; &amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;echo &amp;#34;\\n&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åŸç”Ÿè¿è¡Œ-indexphp-çš„-php&#34;&gt;åŸç”Ÿè¿è¡Œ index.php çš„ PHP&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨åŸç”Ÿçš„ &lt;code&gt;php&lt;/code&gt; äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäº Linux çš„å¹³å°&lt;/li&gt;
&lt;li&gt;è„šæœ¬å¯ä»¥è®¿é—®çš„ 58 ä¸ªç¯å¢ƒå˜é‡åˆ—è¡¨ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/&lt;/code&gt; ä¸­æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œè¿™äº›éƒ½æ˜¯è„šæœ¬å¯ä»¥è®¿é—®çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ php -f images/php/docroot/index.php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h1&amp;gt;Hello from PHP 7.4.3 running on &lt;span class=&#34;s2&#34;&gt;&amp;#34;Linux alexandrov-z01 5.15.79.1-microsoft-standard-WSL2 #1 SMP Wed Nov 23 01:01:46 UTC 2022 x86_64&amp;#34;&lt;/span&gt;&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;List env variable names&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Running with &lt;span class=&#34;m&#34;&gt;58&lt;/span&gt; environment variables:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHELL NVM_INC WSL2_GUI_APPS_ENABLED rvm_prefix WSL_DISTRO_NAME TMUX rvm_stored_umask TMUX_PLUGIN_MANAGER_PATH MY_RUBY_HOME NAME RUBY_VERSION PWD NIX_PROFILES LOGNAME rvm_version rvm_user_install_flag MOTD_SHOWN HOME LANG WSL_INTEROP LS_COLORS WASMTIME_HOME WAYLAND_DISPLAY NIX_SSL_CERT_FILE PROMPT_COMMAND NVM_DIR rvm_bin_path GEM_PATH GEM_HOME LESSCLOSE TERM CPLUS_INCLUDE_PATH LESSOPEN USER TMUX_PANE LIBRARY_PATH rvm_loaded_flag DISPLAY SHLVL NVM_CD_FLAGS LD_LIBRARY_PATH XDG_RUNTIME_DIR PS1 WSLENV XDG_DATA_DIRS PATH DBUS_SESSION_BUS_ADDRESS C_INCLUDE_PATH NVM_BIN HOSTTYPE WASMER_CACHE_DIR IRBRC PULSE_SERVER rvm_path WASMER_DIR OLDPWD BASH_FUNC_cr-open%% _
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Hello&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Today, Wednesday, 2022-12-14, at 12:0:36 we greet you with this message!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Contents of &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apps bin boot dev docroot etc home init lib lib32 lib64 libx32 lost+found media mnt nix opt path proc root run sbin snap srv sys tmp usr var wsl.localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;php-aot-wasm-è¿è¡Œ-indexphp&#34;&gt;php-aot-wasm è¿è¡Œ index.php&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨&lt;code&gt;php-aot-wasm&lt;/code&gt;ä¸ Wasmedge ç»“åˆä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬å‘ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wasi/wasm32å¹³å°&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ç¯å¢ƒå˜é‡ï¼Œå› ä¸ºæ²¡æœ‰å°†ä»»ä½•ç¯å¢ƒå˜é‡æ˜¾å¼æš´éœ²ç»™ Wasm åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;Wasm åº”ç”¨ç¨‹åºæ²¡æœ‰è¢«æ˜ç¡®æˆæƒè®¿é—®&lt;code&gt;/&lt;/code&gt;ï¼Œå› æ­¤å°è¯•åˆ—å‡ºå…¶å†…å®¹æ—¶ä¼šå‡ºç°é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¦ä½¿&lt;code&gt;php-wasmedge-aot&lt;/code&gt;å¯ä»¥è®¿é—®è¯»å–&lt;code&gt;index.php&lt;/code&gt;æ–‡ä»¶ï¼Œæˆ‘ä»¬å¿…é¡»æ˜ç¡®è¯´æ˜æˆ‘ä»¬æƒ³è¦é¢„å…ˆæ‰“å¼€&lt;code&gt;images/php/docroot&lt;/code&gt;ä»¥ä¾¿ WasmEdge å¯ä»¥è®¿é—®å®ƒä½œä¸º Wasm åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­çš„&lt;code&gt;/docroot&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¾ˆå®¹æ˜“æ˜¾ç¤ºäº† Wasm é™¤äº†å¯ç§»æ¤æ€§ä¹‹å¤–çš„æœ€å¤§ä¼˜ç‚¹ä¹‹ä¸€ã€‚æˆ‘ä»¬è·å¾—äº†æ›´å¥½çš„å®‰å…¨æ€§ï¼Œå› ä¸ºé™¤éæ˜ç¡®è¯´æ˜ï¼Œå¦åˆ™æ²¡æœ‰ä»»ä½•å†…å®¹æ˜¯å¯è®¿é—®çš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ wasmedge --dir /docroot:&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/images/php/docroot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   build-output/php/php-7.4.32/bin/php-wasmedge-aot -f /docroot/index.php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h1&amp;gt;Hello from PHP 7.4.32 running on &lt;span class=&#34;s2&#34;&gt;&amp;#34;wasi (none) 0.0.0 0.0.0 wasm32&amp;#34;&lt;/span&gt;&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;List env variable names&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Running with &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; environment variables:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Hello&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Today, Wednesday, 2022-12-14, at 10:8:46 we greet you with this message!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Contents of &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning: scandir&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;: failed to open dir: Capabilities insufficient in /docroot/index.php on line &lt;span class=&#34;m&#34;&gt;27&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning: scandir&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;errno 76&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;: Capabilities insufficient in /docroot/index.php on line &lt;span class=&#34;m&#34;&gt;27&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning: array_diff&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;: Expected parameter &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; to be an array, bool given in /docroot/index.php on line &lt;span class=&#34;m&#34;&gt;27&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning: Invalid argument supplied &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; foreach&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; in /docroot/index.php on line &lt;span class=&#34;m&#34;&gt;27&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®¹å™¨ä¸­è¿è¡Œ-indexphp-çš„-php&#34;&gt;å®¹å™¨ä¸­è¿è¡Œ index.php çš„ PHP&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨ä¼ ç»Ÿå®¹å™¨ä¸­çš„â€œphpâ€æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäº Linux çš„å¹³å°&lt;/li&gt;
&lt;li&gt;è„šæœ¬å…·æœ‰è®¿é—®æƒé™çš„ 14 ä¸ªç¯å¢ƒå˜é‡åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;å¸¦æœ‰å½“å‰æ—¶é—´å’Œæ—¥æœŸçš„é—®å€™æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;æ ¹æ–‡ä»¶å¤¹&lt;code&gt;/&lt;/code&gt;çš„å†…å®¹åˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸åœ¨ä¸»æœºä¸Šä½¿ç”¨â€œphpâ€çš„æƒ…å†µç›¸æ¯”ï¼Œè¿™å·²ç»æœ‰æ‰€æ”¹å–„ã€‚ç”±äºç¯å¢ƒå˜é‡å’Œ&lt;code&gt;/&lt;/code&gt;çš„å†…å®¹æ˜¯â€œè™šæ‹Ÿâ€çš„ï¼Œå› æ­¤ä»…å­˜åœ¨äºå®¹å™¨å†…ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --rm &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/images/php/docroot:/docroot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   php:7.4.32-cli &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   php -f /docroot/index.php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h1&amp;gt;Hello from PHP 7.4.32 running on &lt;span class=&#34;s2&#34;&gt;&amp;#34;Linux 227b2bc2f611 5.15.79.1-microsoft-standard-WSL2 #1 SMP Wed Nov 23 01:01:46 UTC 2022 x86_64&amp;#34;&lt;/span&gt;&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;List env variable names&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Running with &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt; environment variables:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HOSTNAME PHP_INI_DIR HOME PHP_LDFLAGS PHP_CFLAGS PHP_VERSION GPG_KEYS PHP_CPPFLAGS PHP_ASC_URL PHP_URL PATH PHPIZE_DEPS PWD PHP_SHA256
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Hello&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Today, Wednesday, 2022-12-14, at 10:15:35 we greet you with this message!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Contents of &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bin boot dev docroot etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®¹å™¨ä¸­è¿è¡Œ-indexphp-çš„-php-aot-wasm&#34;&gt;å®¹å™¨ä¸­è¿è¡Œ index.php çš„ php-aot-wasm&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘ä»¬ä½¿ç”¨&lt;code&gt;php-aot-wasm&lt;/code&gt;ä¸ Wasmedge ç»“åˆä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬å‘ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wasi / wasm32 å¹³å°&lt;/li&gt;
&lt;li&gt;åªæœ‰ 2 ä¸ªåŸºç¡€æ¶æ„ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨è¿è¡Œåœ¨ containerd ä¸­çš„ WasmEdge shim é¢„è®¾&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºäº†å®¹å™¨ä¸­&lt;code&gt;/&lt;/code&gt;ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œè¿™æ˜¯ Wasm åº”ç”¨ç¨‹åºæ˜ç¡®é¢„å…ˆæ‰“å¼€ä»¥ä¾¿è®¿é—®çš„ï¼ˆWasmEdge shim ä¸­çš„é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœæ‚¨æ›´åŠ ç»†å¿ƒï¼Œæ‚¨å°†ä¼šçœ‹åˆ°ä¸ºäº†ä»æ­¤é•œåƒè¿è¡Œå®¹å™¨ï¼Œæˆ‘ä»¬å¿…é¡»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;runtime=io.containerd.wasmedge.v1&lt;/code&gt;æ˜ç¡®åœ°æŒ‡å®šè¿è¡Œæ—¶&lt;/li&gt;
&lt;li&gt;ç›´æ¥ä¼ é€’å‘½ä»¤è¡Œå‚æ•°åˆ°&lt;code&gt;php.wasm&lt;/code&gt;ï¼Œè€Œä¸åŒ…æ‹¬äºŒè¿›åˆ¶æ–‡ä»¶æœ¬èº«ã€‚å‘ä¸Šæ»šåŠ¨å¹¶æŸ¥çœ‹ä¼ ç»Ÿ PHP å®¹å™¨ï¼ŒåŒ…æ‹¬&lt;code&gt;php&lt;/code&gt;äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¹¶ä¸æ˜¯å¿…è¦çš„ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åï¼Œå³ä½¿æ˜¯åœ¨ Docker ä¸­ï¼ŒWasm ä¹ŸåŠ å¼ºäº†è¿è¡Œ index.php çš„å®‰å…¨æ€§ï¼Œå› ä¸ºæš´éœ²ç»™å®ƒçš„ä¸œè¥¿è¦å°‘å¾—å¤šã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --rm &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   --runtime&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;io.containerd.wasmedge.v1 &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/images/php/docroot:/docroot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   ghcr.io/vmware-labs/php-wasm:7.4.32-cli-aot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -f /docroot/index.php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h1&amp;gt;Hello from PHP 7.4.32 running on &lt;span class=&#34;s2&#34;&gt;&amp;#34;wasi (none) 0.0.0 0.0.0 wasm32&amp;#34;&lt;/span&gt;&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;List env variable names&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Running with &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; environment variables:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PATH HOSTNAME
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Hello&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Today, Wednesday, 2022-12-14, at 11:33:10 we greet you with this message!
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;h2&amp;gt;Contents of &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docroot etc php.wasm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¼ ç»Ÿå®¹å™¨ä¸-wasm-å®¹å™¨&#34;&gt;ä¼ ç»Ÿå®¹å™¨ä¸ wasm å®¹å™¨&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬æˆåŠŸåœ°æ„å»ºå’Œè¿è¡Œäº†ä¸€ä¸ª Wasm äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†å…¶ä½œä¸ºå®¹å™¨è¿è¡Œã€‚æˆ‘ä»¬çœ‹åˆ°äº† Wasm å®¹å™¨å’Œä¼ ç»Ÿå®¹å™¨ä¹‹é—´çš„è¾“å‡ºå·®å¼‚ä»¥åŠ Wasm å¸¦æ¥çš„é«˜çº§â€œæ²™ç›’â€æ€§èƒ½ã€‚è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¯ä»¥è½»æ¾çœ‹åˆ°çš„ä¸¤ç§å®¹å™¨ç±»å‹ä¹‹é—´çš„å…¶ä»–å·®å¼‚ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å°†è¿è¡Œä¸¤ä¸ªå®ˆæŠ¤ç¨‹åºå®¹å™¨ï¼Œå¹¶æŸ¥çœ‹å¦‚ä½•è§£é‡Šæœ‰å…³å®ƒä»¬çš„ä¸€äº›ç»Ÿè®¡ä¿¡æ¯ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æ£€æŸ¥å®¹å™¨é•œåƒä¸­çš„å·®å¼‚ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/8_hu_63ede3317c58d360.webp 400w,
               /blog/docker-without-containers/8_hu_c11ab40cd00636a8.webp 760w,
               /blog/docker-without-containers/8_hu_3e7a6c7546c4769c.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/8_hu_63ede3317c58d360.webp&#34;
               width=&#34;757&#34;
               height=&#34;465&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;å®¹å™¨ç»Ÿè®¡&#34;&gt;å®¹å™¨ç»Ÿè®¡&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å°†è¿è¡Œä¸¤ä¸ªå®ˆæŠ¤ç¨‹åºå®¹å™¨ - ä¸€ä¸ªæ¥è‡ªä¼ ç»Ÿçš„&lt;code&gt;php&lt;/code&gt;é•œåƒï¼Œå¦ä¸€ä¸ªæ¥è‡ª&lt;code&gt;php-wasm&lt;/code&gt;é•œåƒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --rm -d &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -p 8083:8080 -v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/images/php/docroot:/docroot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   php:7.4.32-cli &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -S 0.0.0.0:8080 -t /docroot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --rm -d &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   --runtime&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;io.containerd.wasmedge.v1 &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -p 8082:8080 -v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/images/php/docroot:/docroot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   ghcr.io/vmware-labs/php-wasm:7.4.32-cli-aot
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -S 0.0.0.0:8080 -t /docroot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æŸ¥çœ‹&lt;code&gt;docker stats&lt;/code&gt;ï¼Œæˆ‘ä»¬å°†åªçœ‹åˆ°ä¼ ç»Ÿå®¹å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ç”±äº Docker+Wasm æ˜¯ beta åŠŸèƒ½ï¼Œè¿™å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚å› æ­¤ï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹æ­£åœ¨å‘ç”Ÿçš„æƒ…å†µï¼Œå¯ä»¥ç›‘è§†æ§åˆ¶ç»„ã€‚æ¯ä¸ªä¼ ç»Ÿå®¹å™¨éƒ½æœ‰è‡ªå·±çš„æ§åˆ¶ç»„ï¼Œå¦‚&lt;code&gt;docker/ee44...&lt;/code&gt;æ‰€ç¤ºã€‚å¦ä¸€æ–¹é¢ï¼ŒWasm å®¹å™¨åŒ…å«åœ¨&lt;code&gt;podruntime/docker&lt;/code&gt;æ§åˆ¶ç»„ä¸­ï¼Œæ‚¨å¯ä»¥é—´æ¥è§‚å¯Ÿå®ƒä»¬çš„ CPU æˆ–å†…å­˜æ¶ˆè€—ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ systemd-cgtop -kP --depth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Control Group           Tasks    %CPU     Memory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;podruntime              &lt;span class=&#34;m&#34;&gt;145&lt;/span&gt;      0.1      636.3M
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;podruntime/docker       &lt;span class=&#34;m&#34;&gt;145&lt;/span&gt;      0.1      636.3M
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker                  &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;        0.0      39.7M
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker/ee444b...        &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;        0.0      6.7M
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é•œåƒå¤§å°&#34;&gt;é•œåƒå¤§å°&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ¢ç´¢é•œåƒæ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç° Wasm å®¹å™¨é•œåƒæ¯”ä¼ ç»Ÿå®¹å™¨é•œåƒå°å¾—å¤šã€‚å³ä½¿æ˜¯â€œphpâ€å®¹å™¨çš„&lt;code&gt;alpine&lt;/code&gt;ç‰ˆæœ¬ä¹Ÿæ¯” Wasm å®¹å™¨å¤§ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ docker images
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;REPOSITORY                     TAG                 IMAGE ID       CREATED          SIZE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;php                            7.4.32-cli          680c4ba36f1b   &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; hours ago      166MB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;php                            7.4.32-cli-alpine   a785f7973660   &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; minutes ago    30.1MB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ghcr.io/vmware-labs/php-wasm   7.4.32-cli-aot      63460740f6d5   &lt;span class=&#34;m&#34;&gt;44&lt;/span&gt; minutes ago   5.35MB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ˜¯å› ä¸ºä½¿ç”¨ Wasm æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ”¾å…¥å®¹å™¨ä¸­ï¼Œè€Œä¼ ç»Ÿå®¹å™¨è¿˜éœ€è¦ä¸€äº›æ¥è‡ªæ“ä½œç³»ç»Ÿçš„åŸºæœ¬åº“å’Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§å¤§å°ä¸Šçš„å·®å¼‚å¯¹ç¬¬ä¸€æ¬¡æ‹‰å–é•œåƒçš„é€Ÿåº¦ä»¥åŠé•œåƒåœ¨æœ¬åœ°ä»“åº“ä¸­æ‰€å ç”¨çš„ç©ºé—´éƒ½æœ‰å¾ˆå¤§çš„ç›Šå¤„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;wasm-çš„å¯ç§»æ¤æ€§&#34;&gt;Wasm çš„å¯ç§»æ¤æ€§&lt;/h2&gt;
&lt;p&gt;Wasm æœ€å¥½çš„ä¸€ç‚¹å°±æ˜¯å¯ç§»æ¤æ€§ã€‚å½“æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªå¯ç§»æ¤çš„åº”ç”¨ç¨‹åºæ—¶ï¼ŒDocker å·²ç»æˆä¸ºäº†ä¼ ç»Ÿå®¹å™¨çš„é¦–é€‰ã€‚ç„¶è€Œï¼Œé™¤äº†é•œåƒå¤§å°ä¹‹å¤–ï¼Œä¼ ç»Ÿå®¹å™¨è¿˜ç»‘å®šåœ¨å®ƒä»¬è¿è¡Œçš„å¹³å°çš„æ¶æ„ä¸Šã€‚æˆ‘ä»¬ä¸­çš„è®¸å¤šäººéƒ½ç»å†è¿‡ä¸ºæ”¯æŒä¸åŒæ¶æ„æ„å»ºè½¯ä»¶çš„ç‰ˆæœ¬å¹¶å°†å…¶æ‰“åŒ…åˆ°æ¯ä¸ªæ¶æ„çš„ä¸åŒé•œåƒä¸­çš„èµ·ä¼ã€‚&lt;/p&gt;
&lt;p&gt;WebAssembly å¸¦æ¥äº†çœŸæ­£çš„å¯ç§»æ¤æ€§ã€‚æ‚¨å¯ä»¥ç¼–è¯‘ä¸€æ¬¡äºŒè¿›åˆ¶æ–‡ä»¶å¹¶åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œå®ƒã€‚ä¸ºäº†è¯æ˜è¿™ç§å¯ç§»æ¤æ€§ï¼Œæˆ‘ä»¬å‡†å¤‡äº†å‡ ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡æˆ‘ä»¬ä¸º WebAssembly æ„å»ºçš„ PHP è§£é‡Šå™¨è¿è¡Œ WordPressã€‚&lt;/p&gt;
&lt;p&gt;å½“å®ƒä»¥ç‹¬ç«‹çš„ Wasm åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒPHP å°†ä¸º WordPress æä¾›æœåŠ¡ã€‚åŒæ ·åœ°ï¼Œå®ƒä¹Ÿå¯ä»¥åœ¨ Docker+Wasm å®¹å™¨ä¸­è¿è¡Œã€‚å®ƒè¿˜å¯ä»¥åœ¨åµŒå…¥ Wasm è¿è¡Œæ—¶çš„ä»»ä½•åº”ç”¨ç¨‹åºä¸­è¿è¡Œã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œè¿™æ˜¯ apache httpdï¼Œå®ƒé€šè¿‡ mod_wasm å¯ä»¥å°† Wasm åº”ç”¨ç¨‹åºç”¨ä½œå†…å®¹å¤„ç†ç¨‹åºã€‚æœ€åï¼ŒPHP.wasm ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-without-containers/9_hu_4e3eef5b73f96e24.webp 400w,
               /blog/docker-without-containers/9_hu_4c53ddb2769a6302.webp 760w,
               /blog/docker-without-containers/9_hu_adb4000e61bce232.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-without-containers/9_hu_4e3eef5b73f96e24.webp&#34;
               width=&#34;757&#34;
               height=&#34;308&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡-wasmedge-æä¾›-wordpress&#34;&gt;é€šè¿‡ WasmEdge æä¾› WordPress&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä¸ºæ­¤æ¼”ç¤ºå‡†å¤‡äº†ä¸€ä¸ªç´§å‡‘çš„ WordPress+Sqlite ç¤ºä¾‹ã€‚ç”±äºå®ƒæ˜¯ &lt;code&gt;ghcr.io/vmware-labs/php-wasm:7.4.32-server-wordpress&lt;/code&gt; å®¹å™¨æ˜ åƒçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤è®©æˆ‘ä»¬é¦–å…ˆå°†å…¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¡å‘½ä»¤åªä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å®¹å™¨ï¼ˆæ‹‰å–é•œåƒï¼‰ï¼Œå°† WordPress æ–‡ä»¶å¤åˆ¶åˆ° &lt;code&gt;/tmp/wp/docroot&lt;/code&gt; ä¸­ï¼Œç„¶ååˆ é™¤å®¹å™¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;container_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;docker create ghcr.io/vmware-labs/php-wasm:7.4.32-server-wordpress&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   mkdir /tmp/wp &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   docker cp &lt;span class=&#34;nv&#34;&gt;$container_id&lt;/span&gt;:/docroot /tmp/wp/ &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   docker rm &lt;span class=&#34;nv&#34;&gt;$container_id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨æˆ‘ä»¬æœ‰äº† WordPressï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æä¾›æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wasmedge --dir /docroot:/tmp/wp/docroot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   build-output/php/php-7.4.32/bin/php-wasmedge-aot &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -S 0.0.0.0:8085 -t /docroot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‚¨å¯ä»¥è½¬åˆ° &lt;a href=&#34;http://localhost:8085/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://localhost:8085&lt;/a&gt; å¹¶äº«å—ç”± PHP Wasm è§£é‡Šå™¨æä¾›çš„ WordPressã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡-dockerwasm-æä¾›-wordpress&#34;&gt;é€šè¿‡ Docker+Wasm æä¾› WordPress&lt;/h3&gt;
&lt;p&gt;å½“ç„¶ï¼Œä½¿ç”¨ Dockerï¼Œäº‹æƒ…è¦ç®€å•å¾—å¤šã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --rm --runtime&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;io.containerd.wasmedge.v1 &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -p 8086:8080 -v /tmp/wp/docroot/:/docroot/ &lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   ghcr.io/vmware-labs/php-wasm:7.4.32-cli-aot
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -S 0.0.0.0:8080 -t /docroot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‚¨å¯ä»¥è½¬åˆ° &lt;a href=&#34;http://localhost:8086/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://localhost:8086&lt;/a&gt; å¹¶äº«å—ç”± PHP Wasm è§£é‡Šå™¨æä¾›çš„ WordPressï¼Œè¿™ä¸€æ¬¡å®ƒåœ¨ Docker å®¹å™¨ä¸­è¿è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡-apache-httpd-ä¸­çš„-mod_wasm-æä¾›-wordpress&#34;&gt;é€šè¿‡ Apache HTTPD ä¸­çš„ mod_wasm æä¾› WordPress&lt;/h3&gt;
&lt;p&gt;Apache HTTPD æ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„ HTTP æœåŠ¡å™¨ä¹‹ä¸€ã€‚ç°åœ¨ï¼Œé€šè¿‡ mod_wasmï¼Œå®ƒä¹Ÿå¯ä»¥è¿è¡Œ WebAssembly åº”ç”¨ç¨‹åºã€‚ä¸ºäº†é¿å…åœ¨æœ¬åœ°å®‰è£…å’Œé…ç½®å®ƒï¼Œæˆ‘ä»¬å‡†å¤‡äº†ä¸€ä¸ªå®¹å™¨ï¼Œå…¶ä¸­åŒ…å« Apache HTTPDã€mod_wasm å’Œ WordPressã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -p 8087:8080 projects.registry.vmware.com/wasmlabs/containers/php-mod-wasm:wordpress
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‚¨å¯ä»¥è½¬åˆ° &lt;a href=&#34;http://localhost:8087/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://localhost:8087&lt;/a&gt; å¹¶äº«å—ç”± Apache HTTPD ä¸­åŠ è½½çš„ mod_wasm æä¾›çš„ PHP Wasm è§£é‡Šå™¨æä¾›çš„ WordPressã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æä¾›-wordpress&#34;&gt;ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æä¾› WordPress&lt;/h3&gt;
&lt;p&gt;åªéœ€è½¬åˆ° [&lt;a href=&#34;https://wordpress.wasmlabs.dev/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://wordpress.wasmlabs.dev&lt;/a&gt;] æŸ¥çœ‹ç¤ºä¾‹ã€‚æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªæ¡†æ¶ï¼Œå…¶ä¸­ PHP Wasm è§£é‡Šå™¨æ­£åœ¨ç°åœºæ¸²æŸ“ WordPressã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h2&gt;
&lt;p&gt;æ„Ÿè°¢æ‚¨é˜…è¯»æœ¬æ–‡ã€‚è¿™æ˜¯å¾ˆå¤šå†…å®¹è¦æ¶ˆåŒ–ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å®ƒæœ‰åŠ©äºäº†è§£ WebAssembly çš„åŠŸèƒ½ä»¥åŠå®ƒå¦‚ä½•ä¸æ‚¨ç°æœ‰çš„ä»£ç åº“å’Œå·¥å…·ï¼ˆåŒ…æ‹¬ Dockerï¼‰ä¸€èµ·ä½¿ç”¨ã€‚æœŸå¾…çœ‹åˆ°æ‚¨ä½¿ç”¨ Wasm æ„å»ºçš„å†…å®¹ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ç”¨ Docker å’Œ WebAssembly æ‰“é€ å®¹å™¨çš„æ–°æ—¶ä»£ï¼</title>
      <link>https://cloudnativecn.com/blog/docker-wasm-quick-intro/</link>
      <pubDate>Mon, 17 Apr 2023 10:27:22 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/docker-wasm-quick-intro/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;è¯‘è€…æ³¨ï¼šæœ¬æ–‡è¯‘è‡ª &lt;a href=&#34;https://medium.com/@guglielmino/docker-webassembly-a-quick-intro-730c38e8390c&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Docker + WebAssembly: a quick intro | by Fabrizio Guglielmino | Medium&lt;/a&gt;ï¼Œæœ¬æ–‡ä»‹ç»äº†ä½¿ç”¨ Docker å’Œ WebAssembly åˆ›å»ºå®¹å™¨çš„è¿‡ç¨‹ã€‚é€šè¿‡æ¯”è¾ƒæ ‡å‡† Docker å®¹å™¨å’Œ WebAssembly å®¹å™¨ï¼Œä½œè€…æŒ‡å‡º WebAssembly å®¹å™¨å…·æœ‰æ€§èƒ½ä¼˜åŠ¿ã€æ¶æ„ä¸­ç«‹ç­‰ä¼˜ç‚¹ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸æˆç†Ÿçš„é—®é¢˜ã€‚WebAssembly å®¹å™¨æœ‰æœ›å½»åº•æ”¹å˜å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ä»Šå¤©ï¼Œæˆ‘æƒ³å±•ç¤ºä¸€ç§å®ç”¨ä¸”æœ‰è¶£çš„ä½¿ç”¨ Docker çš„æ–¹å¼ï¼šåœ¨å®¹å™¨ä¸­ä½¿ç”¨ WebAssemblyã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¯´â€œå®ç”¨çš„æ–¹å¼â€ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘å‡è®¾æ‚¨æœ‰ä¸€äº›ç»éªŒï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Dockerï¼ˆå½“ç„¶ï¼‰&lt;/li&gt;
&lt;li&gt;Rustï¼ˆå®é™…ä¸Šï¼Œåªæ˜¯ä¸ºäº†ç†è§£â€œHello Worldâ€ï¼‰&lt;/li&gt;
&lt;li&gt;WebAssemblyï¼›åªéœ€è¦å¯¹å…¶æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼ˆæ³¨æ„ï¼šæˆ‘å°†åœ¨è®¨è®ºä¸­äº¤æ›¿ä½¿ç”¨ WASM å’Œ WebAssembly è¿™ä¸¤ä¸ªæœ¯è¯­ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…³äºæˆ‘å³å°†å±•ç¤ºçš„å†…å®¹ï¼Œç®€å•è¯´ä¸€ä¸‹ï¼šä¸€ä¸ª Docker å®¹å™¨æ˜¯ä¸€ä¸ªåŒ…å«è¿è¡Œç¯å¢ƒçš„æ˜ åƒçš„è¿è¡Œå®ä¾‹ã€‚è¿è¡Œç¯å¢ƒé€šå¸¸æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯ Linuxã€‚æ“ä½œç³»ç»Ÿæ˜¯è¿è¡Œåº”ç”¨ç¨‹åºçš„å¿…è¦æ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåœ¨æœ€å°åŒ–ä¾èµ–å…³ç³»çš„æƒ…å†µä¸‹è¿è¡Œåº”ç”¨ç¨‹åºï¼Œç”šè‡³ä¸éœ€è¦ä»»ä½•ä¾èµ–å…³ç³»ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯æˆ‘æƒ³è°ˆè®ºçš„æƒ³æ³•ï¼šä½¿ç”¨ WASMï¼Œä»¥åŠ Docker ä¸­ï¼ˆç›®å‰æµ‹è¯•ç‰ˆï¼‰çš„æ”¯æŒï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä¸å«ä»»ä½•æ“ä½œç³»ç»ŸåŸºç¡€é•œåƒçš„å®¹å™¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆæ˜¯-webassembly-å®¹å™¨&#34;&gt;ä¸ºä»€ä¹ˆæ˜¯ WebAssembly å®¹å™¨ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¼•ç”¨ Docker çš„ä½œè€… Solomon Hykes çš„è¯ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œå¦‚æœ WASM+WASI åœ¨ 2008 å¹´å°±å­˜åœ¨äº†ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦åˆ›é€  Docker äº†ã€‚â€&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;è¿™å¯èƒ½è¶³å¤Ÿäº†ï¼Œä½†è®©æˆ‘ä»¬åˆ—ä¸¾ä¸€äº›å…·ä½“çš„å¥½å¤„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ€§&lt;/strong&gt;ï¼šä»…éƒ¨ç½²æˆ‘ä»¬çš„ä»£ç å¯ä»¥å‡å°‘â€œæ”»å‡»é¢â€ï¼Œä»è€Œæé«˜æ•´ä½“å®‰å…¨æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤§å°&lt;/strong&gt;ï¼šæˆ‘ä»¬å¯ä»¥åˆ›å»ºæ¯”ç­‰æ•ˆäºå¸¦æœ‰æ“ä½œç³»ç»Ÿçš„åº”ç”¨ç¨‹åºæ›´å°å¾—å¤šçš„å®¹å™¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;ï¼šå¦‚æ‚¨æ‰€æ–™ï¼Œæ²¡æœ‰æ“ä½œç³»ç»Ÿå±‚ï¼ŒWASM å®¹å™¨å¯ä»¥è¡¨ç°å‡ºæ›´å¥½çš„æ€§èƒ½ï¼ˆä¸æ€»æ˜¯æ­£ç¡®çš„ï¼Œä½†å¹³å‡è€Œè¨€æ˜¯æ­£ç¡®çš„ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¶æ„ä¸­ç«‹æ€§&lt;/strong&gt;ï¼šDocker å®¹å™¨æ˜¯ä¸ºç‰¹å®šç›®æ ‡æ¶æ„ï¼ˆarmã€x86 ç­‰ï¼‰ç¼–è¯‘çš„ï¼Œåªèƒ½åœ¨å…·æœ‰ç›¸åŒæ¶æ„çš„ä¸»æœºä¸Šè¿è¡Œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒWebAssembly æ˜¯æ¶æ„ä¸­ç«‹çš„ï¼Œè¿™æ„å‘³ç€åªè¦è¿è¡Œæ—¶å¯ç”¨ï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥åœ¨ä»»ä½•åº•å±‚æ¶æ„ä¸Šè¿è¡Œã€‚è¿™æä¾›äº†å‡ ä¸ªä¼˜ç‚¹ï¼Œä¾‹å¦‚åœ¨ä¸éœ€è¦é‡æ–°ç¼–è¯‘çš„æƒ…å†µä¸‹åœ¨å¤šä¸ªå¹³å°ä¸Šè¿è¡Œç›¸åŒçš„ä»£ç ä»¥åŠåœ¨ä»¥å‰ä¸å—æ”¯æŒçš„å¹³å°ä¸Šè¿è¡Œä»£ç çš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ€»ä¹‹ï¼Œä½¿ç”¨ WebAssembly å®¹å™¨æœ‰ä¸€äº›æœ‰è¶£çš„å¥½å¤„ï¼&lt;/p&gt;
&lt;h2 id=&#34;è®©æˆ‘ä»¬å¼€å§‹å§&#34;&gt;è®©æˆ‘ä»¬å¼€å§‹å§&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡å°†é«˜åº¦å®ç”¨ï¼Œåªæ¶‰åŠè¯¥ä¸»é¢˜çš„è¡¨é¢ï¼Œå¹¶ç•™ä¸‹è®¸å¤šç»†èŠ‚ã€‚è¿™äº›ç»†èŠ‚å°†åœ¨å°†æ¥çš„æ–‡ç« ä¸­æ·±å…¥æ¢è®¨ï¼Œå°½ç®¡å·²ç»æœ‰è®¸å¤šå¾ˆå¥½çš„èµ„æºå¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä»ä¸€ä¸ªåŸºæœ¬åº”ç”¨ç¨‹åºå¼€å§‹ã€‚å°½ç®¡åœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ç”¨ Rust ç¼–å†™çš„ï¼Œä½†ä½¿ç”¨çš„è¯­è¨€å¹¶ä¸é‡è¦ï¼Œåªè¦å®ƒæ”¯æŒ WebAssembly ä½œä¸ºç¼–è¯‘ç›®æ ‡å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾åœ¨è®¡ç®—æœºä¸Šå·²ç»å®‰è£…äº† Rustï¼ˆ&lt;a href=&#34;https://www.rust-lang.org/tools/install&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¦‚æœæ²¡æœ‰&lt;/a&gt;ï¼‰ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;cargo new rust-wasm-docker&lt;/code&gt; åˆ›å»ºä¸€ä¸ªæ–°çš„ Rust åº”ç”¨ç¨‹åº&lt;/p&gt;
&lt;p&gt;è¿™å°†åˆ›å»ºæœ€å°åŒ–çš„ Rust åº”ç”¨ç¨‹åºç»“æ„ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;total 8
drwxr-xr-x@ 3 fabrizio  staff   96 Jan 12 20:55 src
-rw-r--r--@ 1 fabrizio  staff  186 Jan 12 20:55 Cargo.toml
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä¿ç•™æä¾›çš„æœ€å°åº”ç”¨ç¨‹åºä»£ç ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“å¸¸è§å’Œæ˜“è¯»çš„â€œHello Worldâ€ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# cat src/main.rs
fn main() {
    println!(&amp;#34;Hello, world!&amp;#34;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨ &lt;code&gt;cargo run&lt;/code&gt; è¿è¡Œï¼Œè¾“å‡ºåº”è¯¥æ˜¯â€œHello, world!â€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¸¸è§çš„-docker-æ–¹å¼&#34;&gt;å¸¸è§çš„ Docker æ–¹å¼&lt;/h2&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰ WebAssembly çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª Docker é•œåƒï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;FROM rust:latest

WORKDIR /usr/src/myapp
COPY . .

RUN cargo install --path .

CMD [&amp;#34;wasm-docker-hello&amp;#34;]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ &lt;code&gt;Dockerfile&lt;/code&gt; ï¼Œå®ƒä½¿ç”¨ Docker Hub çš„ &lt;code&gt;rust&lt;/code&gt; åŸºæœ¬é•œåƒï¼Œå°†æºä»å½“å‰ä¸»æœºç›®å½•å¤åˆ¶åˆ°é•œåƒä¸­çš„ &lt;code&gt;/usr/src/myapp&lt;/code&gt; ï¼Œè¿è¡Œ &lt;code&gt;cargo install&lt;/code&gt; æ¥ç¼–è¯‘åº”ç”¨ç¨‹åºï¼Œæœ€ç»ˆå°†åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶å®šä¹‰ä¸ºå®¹å™¨å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ Docker å·²ç»å®‰è£…åœ¨è®¡ç®—æœºä¸Šï¼ˆ&lt;a href=&#34;https://docs.docker.com/get-docker/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¦‚æœæ²¡æœ‰&lt;/a&gt;ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªé•œåƒï¼š &lt;code&gt;docker build -t hello-docker .&lt;/code&gt; è¯¥å‘½ä»¤ä½¿ç”¨å½“å‰ç›®å½•ä¸­çš„ Dockerfile æ„å»ºé•œåƒï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºâ€œhello-dockerâ€ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œåœ¨æ„å»ºé•œåƒåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;docker run hello-world&lt;/code&gt; è¿è¡Œå®ƒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# docker run hello-docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Hello, world!
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•è¿›è¡Œå¦ä¸€ä¸ªå¿«é€Ÿæµ‹è¯•ï¼Œç¨ååœ¨æœ¬æ–‡ä¸­æ›´æ¸…æ¥šåœ°è¯´æ˜ WebAssembly å®¹å™¨çš„åŒºåˆ«ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;bash&lt;/code&gt; shell è¦†ç›–é»˜è®¤å‘½ä»¤æ¥è¿è¡Œæˆ‘ä»¬çš„é•œåƒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -it hello-docker bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@be1902d5e9b6:/usr/src/myapp#
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºå¯èƒ½ç•¥æœ‰ä¸åŒï¼Œå› ä¸ºå®¹å™¨ IDï¼ˆbe1902d5e9b6ï¼‰åœ¨æ¯æ¬¡è¿è¡Œå®¹å™¨æ—¶éƒ½æ˜¯éšæœºç”Ÿæˆçš„ã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™é‡Œçš„é‡è¦ç‚¹æ˜¯ï¼Œæ‚¨å¯ä»¥è·å–ä¸€ä¸ª shell ä¸ä¹‹äº¤äº’ï¼Œå°±åƒåœ¨ä»»ä½•å¸¸è§çš„ Linux æœºå™¨ä¸Šä¸€æ ·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;èµ°è¿›-webassembly&#34;&gt;èµ°è¿› WebAssembly&lt;/h2&gt;
&lt;p&gt;ç°åœ¨ï¼Œè®©æˆ‘å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªéå¸¸ï¼ˆéå¸¸ï¼‰ç®€å•çš„ Rust åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬åœ¨ä¸»æœºæœºå™¨ä¸Šæ„å»ºå’Œè¿è¡Œäº†è¯¥åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª &lt;code&gt;Dockerfile&lt;/code&gt; æ¥æ„å»ºåº”ç”¨ç¨‹åºå’Œé•œåƒ&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬é€šè¿‡æˆåŠŸè¿è¡Œå®ƒæ¥æµ‹è¯•äº† Docker é•œåƒçš„åŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¥ä¸‹æ¥å‘¢ï¼Ÿç›®æ ‡æ˜¯ä»…ä½¿ç”¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ª docker é•œåƒã€‚è¦éå¸¸æ˜ç¡®ï¼šè¿™æ„å‘³ç€ä¸€ä¸ªä¸å«ä»»ä½•æ“ä½œç³»ç»Ÿçš„é•œåƒä½œä¸ºè¿è¡Œç¯å¢ƒã€‚å®é™…ä¸Šï¼Œæˆ‘è¿è¡Œäº† &lt;code&gt;docker run -it hello-docker bash&lt;/code&gt; æ¥å±•ç¤ºæˆ‘ä»¬åˆ›å»ºçš„é•œåƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¸¦æœ‰æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ†ç»‘çš„ Linux è¿è¡Œç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ä¸€äº›å·¥å…·ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»è®¾ç½®ç¼–è¯‘ WebAssembly + WASI çš„èƒ½åŠ›ï¼Œç„¶åå¯ç”¨å®éªŒæ€§çš„ Docker åŠŸèƒ½ä»¥è¿è¡Œ WASM å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ &lt;code&gt;rustup target add wasm32-wasi&lt;/code&gt; å®‰è£… WASIã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;WASIï¼ˆWebAssembly ç³»ç»Ÿæ¥å£ï¼‰æ˜¯ä¸€ç»„è§„èŒƒå’Œ APIï¼Œæä¾›äº†æ‰§è¡Œ WebAssembly ä»£ç çš„æ ‡å‡†æ¥å£ï¼Œè¿™äº›ä»£ç ä¸åœ¨ Web æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¾‹å¦‚åœ¨æœåŠ¡å™¨æˆ–ç‹¬ç«‹åº”ç”¨ç¨‹åºä¸­è¿è¡Œã€‚å®ƒå…è®¸ WebAssembly æ¨¡å—è®¿é—®ç³»ç»Ÿèµ„æºï¼Œå¦‚æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œï¼Œå¹¶æä¾›å®‰å…¨çš„æ²™ç®±ç¯å¢ƒã€‚å®ƒæä¾›äº†ä½¿ WebAssembly æˆä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ ¼å¼æ‰€éœ€çš„å…³é”®åŠŸèƒ½ï¼Œä½¿å…¶èƒ½å¤Ÿç”¨äºå„ç§è¶…è¶Š Web çš„åœºæ™¯ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡é¡ºåˆ©ï¼ç°åœ¨å¯ä»¥è¿è¡Œ &lt;code&gt;cargo build --target wasm32-wasi&lt;/code&gt; ç¼–è¯‘ WebAssemblyã€‚å¦‚æœå°è¯•ï¼Œæˆ‘ä»¬å°†åœ¨ &lt;code&gt;target/wasm32-wasi/debug&lt;/code&gt; ç›®å½•ä¸­è·å¾—ä¸€ä¸ªåä¸º &lt;code&gt;wasm-docker-hello.wasm&lt;/code&gt; çš„æ–‡ä»¶ã€‚å¾ˆå¥½ï¼Œä½†æ˜¯æˆ‘ä»¬è¯¥å¦‚ä½•è¿è¡Œæ­¤äºŒè¿›åˆ¶æ–‡ä»¶ï¼Ÿå°è¯•åƒæ™®é€šå¯æ‰§è¡Œæ–‡ä»¶ä¸€æ ·æ‰§è¡Œå®ƒï¼Œå¦‚ &lt;code&gt;. ./target/wasm32-wasi/debug/wasm-docker-hello.wasm&lt;/code&gt;ï¼Œæˆ‘ä»¬ä¼šæ”¶åˆ°é”™è¯¯ï¼Œä¸ºä»€ä¹ˆï¼Ÿå®é™…ä¸Šï¼Œé”™è¯¯æ˜¯ä¸è¨€è‡ªæ˜çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;zsh: &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; format error: ./target/wasm32-wasi/debug/wasm-docker-hello.wasm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;wasm æ–‡ä»¶ä¸æ˜¯ä¸ºæˆ‘ä»¬ä¸»æœºçš„æœ¬æœºæ¶æ„ï¼ˆæ— è®ºæ˜¯ x86_64ã€arm è¿˜æ˜¯å…¶ä»–ï¼‰æ„å»ºçš„ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ª &lt;strong&gt;WebAssembly è¿è¡Œæ—¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;webassembly-è¿è¡Œæ—¶å°†-wasm-å¸¦åˆ°å„å¤„&#34;&gt;WebAssembly è¿è¡Œæ—¶ï¼šå°† WASM å¸¦åˆ°å„å¤„&lt;/h2&gt;
&lt;p&gt;æœ‰è®¸å¤š WASM è¿è¡Œæ—¶ã€‚WebAssembly æœ€åˆæ˜¯ä¸ºåœ¨ Web æµè§ˆå™¨ä¸­ä½¿ç”¨è€Œè®¾è®¡çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦ï¼Œå› ä¸º &lt;strong&gt;æµè§ˆå™¨å……å½“è¿è¡Œæ—¶&lt;/strong&gt;ã€‚ä½†æ˜¯ï¼Œåœ¨åˆ›å»ºå‘½ä»¤è¡Œåº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹ï¼Œéœ€è¦è¿è¡Œæ—¶ï¼Œå¯¹äºå®Œæ•´çš„åº”ç”¨ç¨‹åºã€æœåŠ¡å™¨ç­‰ä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°†å®‰è£… &lt;strong&gt;WasmEdge&lt;/strong&gt;ï¼Œè¿™æ˜¯ Docker ç”¨äºæ‰§è¡Œæˆ‘ä»¬çš„ WASM é•œåƒçš„è¿è¡Œæ—¶ã€‚å¦‚æœæ‚¨åœ¨ Mac OS æˆ– Linux æœºå™¨ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sSf &amp;lt;https://raw.githubusercontent.com/WasmEdge/WasmEdge/master/utils/install.sh&amp;gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚éœ€å®Œæ•´çš„å®‰è£…è¯´æ˜ï¼ˆåŒ…æ‹¬ Windowsï¼‰ï¼Œè¯·åœ¨æ­¤å¤„æŸ¥çœ‹ &lt;a href=&#34;https://wasmedge.org/book/en/quick_start/install.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://wasmedge.org/book/en/quick_start/install.html&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¯ç”¨-dockerwasm-é›†æˆ&#34;&gt;å¯ç”¨ Docker+WASM é›†æˆ&lt;/h2&gt;
&lt;p&gt;æœ€åä¸€æ­¥æ˜¯å¯ç”¨ Docker ä¸­çš„ WASM æ”¯æŒï¼Œè¿™æ˜¯ç›®å‰çš„å®éªŒæ€§åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡å¯ç”¨ containerd é•œåƒå­˜å‚¨åº“æ¥å®Œæˆæ­¤æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ Docker Desktopï¼Œåªéœ€åœ¨è®¾ç½®é¡µé¢ä¸­æ‰“å¼€è¯¥åŠŸèƒ½å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/docker-wasm-quick-intro/ui_hu_d9a860403954b80f.webp 400w,
               /blog/docker-wasm-quick-intro/ui_hu_b6ccfbec65000534.webp 760w,
               /blog/docker-wasm-quick-intro/ui_hu_daf3a74f4920fd25.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/docker-wasm-quick-intro/ui_hu_d9a860403954b80f.webp&#34;
               width=&#34;760&#34;
               height=&#34;357&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¯¦ç»†è¯´æ˜å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ° &lt;a href=&#34;https://docs.docker.com/desktop/wasm/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://docs.docker.com/desktop/wasm/&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‡†å¤‡åˆ›å»ºæ— æ“ä½œç³»ç»Ÿçš„å®¹å™¨&#34;&gt;å‡†å¤‡åˆ›å»ºâ€œæ— æ“ä½œç³»ç»Ÿâ€œçš„å®¹å™¨&lt;/h2&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½åˆ›å»ºä¸€ä¸ªæ–°çš„ Dockerfileï¼ˆæˆ‘ä»¬å°†å…¶å‘½åä¸º &lt;code&gt;Dockerfile.wasm&lt;/code&gt; ä»¥åŒºåˆ†å®ƒä¸ä»¥å‰çš„æ–‡ä»¶ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM scratch
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COPY target/wasm32-wasi/debug/wasm-docker-hello.wasm /app.wasm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ENTRYPOINT &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;app.wasm&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®ƒéå¸¸ç®€çŸ­å’Œæ˜“æ‡‚ï¼Œä½†æœ‰å‡ ä¸ªè¦ç‚¹éœ€è¦å¼ºè°ƒï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®ƒä»¥â€œFROM scratchâ€å¼€å§‹ï¼Œè¡¨ç¤ºè¯¥é•œåƒæ˜¯ä»å¤´å¼€å§‹æ„å»ºçš„ï¼Œä¸ä¼šç»§æ‰¿ä»»ä½•æ“ä½œç³»ç»Ÿç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬å°†ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­ï¼Œåœ¨å‰ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¤åˆ¶äº†æºæ–‡ä»¶å¹¶åœ¨æ„å»ºé•œåƒè¿‡ç¨‹ä¸­å¯¹å…¶è¿›è¡Œäº†ç¼–è¯‘ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å·²ç»ç¼–è¯‘å¥½çš„ï¼ˆåœ¨ä¸»æœºä¸Šï¼‰wasm äºŒè¿›åˆ¶æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ENTRYPOINT&lt;/code&gt; æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶æœ¬èº«ï¼Œè¿™é‡Œæ²¡æœ‰æŒ‡å®šè¿è¡Œæ—¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ„å»ºæˆ‘ä»¬çš„é•œåƒï¼Œæ–¹å¼ä¸æˆ‘ä»¬ä¸ºâ€œé€šç”¨â€é•œåƒæ‰€åšçš„æ–¹å¼ç›¸åŒã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker build -t wasm-docker -f Dockerfile.wasm .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿè®¸æœ‰äººå·²ç»æ³¨æ„åˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„ç‚¹ï¼šDocker å¦‚ä½•çŸ¥é“åœ¨ ENTRYPOINT æŒ‡å‘.wasm äºŒè¿›åˆ¶æ–‡ä»¶çš„é•œåƒä¸­ä½¿ç”¨ &lt;strong&gt;WasmEdge&lt;/strong&gt; ä½œä¸ºè¿è¡Œæ—¶ï¼Ÿæˆ‘ä»¬å·²ç»æµ‹è¯•è¿‡ï¼Œç›´æ¥è¿è¡Œ.wasm æ–‡ä»¶ä¸èµ·ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šæ²¡æœ‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯åŠ¨å®¹å™¨æ—¶æŒ‡å®šè¿è¡Œæ—¶ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --runtime&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;io.containerd.wasmedge.v1 --platform&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;wasi/wasm32 b678ba11b941
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬æŒ‡å®š &lt;code&gt;--runtime&lt;/code&gt; å‘Šè¯‰ Docker ä½¿ç”¨ WasmEdge ä½œä¸ºè¿è¡Œæ—¶ï¼Œå¹¶æŒ‡å®š &lt;code&gt;--platform&lt;/code&gt; ä½¿ç”¨ WASI æ¥å£ä½œä¸ºå¹³å°ã€‚å°±è¿™æ ·ï¼Œå¦‚æœæ‚¨æŒ‰ç…§æ‰€æœ‰æ­¥éª¤æ“ä½œï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä¸€ä¸ªä»¤äººå…´å¥‹çš„â€œHello, world!â€ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œæˆ‘æ˜¯å¼€ç©ç¬‘çš„ï¼Œæ¯”è¾ƒé•œåƒå¤§å°ä½¿ç”¨ &lt;code&gt;docker images&lt;/code&gt; å‘½ä»¤å¯ä»¥çœ‹åˆ°æ›´æœ‰è¶£çš„ç»“æœã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;REPOSITORY                  TAG       IMAGE ID       CREATED         SIZE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hello-docker                latest    e9ed5014b408   &lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; seconds ago   544MB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wasm-docker                 latest    b678ba11b941   &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; seconds ago   507kB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;hello-docker&lt;/code&gt; æ˜¯æˆ‘ä»¬åœ¨å¼€å§‹æ—¶æ„å»ºçš„é•œåƒï¼Œå°ºå¯¸å·®å¼‚å·¨å¤§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»“è®º&#34;&gt;&lt;strong&gt;ç»“è®º&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†æ ‡å‡† Docker å®¹å™¨å’Œ WASM å®¹å™¨ã€‚æ ‡å‡† Docker å®¹å™¨å’Œ WebAssembly å®¹å™¨éƒ½æœ‰å„è‡ªç‹¬ç‰¹çš„ä¼˜ç‚¹å’Œé™åˆ¶ï¼Œä½† WASM æ­£åœ¨å±•ç¤ºæˆä¸ºä¸€ç§é«˜åº¦æœ‰å‰é€”çš„å®¹å™¨åŒ–æŠ€æœ¯ï¼Œå°¤å…¶æ˜¯å¯¹äºæŸäº›ç”¨ä¾‹ã€‚ä¸æ ‡å‡† Docker å®¹å™¨ç›¸æ¯”ï¼ŒWebAssembly æä¾›äº†æ€§èƒ½ä¼˜åŠ¿ï¼Œä¾‹å¦‚æ›´å¿«çš„å¯åŠ¨æ—¶é—´ã€æ›´ä½çš„å†…å­˜ä½¿ç”¨ç‡ä»¥åŠä»£ç å’Œä¸»æœºç³»ç»Ÿä¹‹é—´æ›´å¥½çš„éš”ç¦»ã€‚æ­¤å¤–ï¼ŒWebAssembly æ˜¯æ¶æ„ä¸­ç«‹çš„ï¼Œè¿™æ„å‘³ç€åªè¦è¿è¡Œæ—¶å¯ç”¨ï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥åœ¨ä»»ä½•åº•å±‚æ¶æ„ä¸Šè¿è¡Œã€‚è¿™æä¾›äº†å¤šç§ä¼˜åŠ¿ï¼Œä¾‹å¦‚åœ¨å¤šä¸ªå¹³å°ä¸Šè¿è¡Œç›¸åŒçš„ä»£ç è€Œæ— éœ€é‡æ–°ç¼–è¯‘ï¼Œå¹¶èƒ½åœ¨ä»¥å‰ä¸æ”¯æŒçš„å¹³å°ä¸Šè¿è¡Œä»£ç ã€‚ç”šè‡³å¯ä»¥åœ¨è¯¸å¦‚ç‰©è”ç½‘ã€è¾¹ç¼˜è®¡ç®—ç­‰å—é™è®¾å¤‡ä¸Šæ‰©å±•å®¹å™¨çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒWebAssembly ä»å¤„äºæ—©æœŸé˜¶æ®µï¼Œå°šä¸æˆç†Ÿï¼Œå°šä¸å…·å¤‡å¹¿æ³›é‡‡ç”¨çš„æ¡ä»¶ã€‚å°½ç®¡å¦‚æ­¤ï¼Œé‡è¦çš„æ˜¯è¦å…³æ³¨è¿™é¡¹æŠ€æœ¯ï¼Œå› ä¸ºå®ƒæœ‰æ½œåŠ›å½»åº•æ”¹å˜æˆ‘ä»¬å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>äº‘åŸç”Ÿæ¶æ„å¸ˆè¿›é˜¶æŒ‡å—</title>
      <link>https://cloudnativecn.com/blog/advanced-guide-for-cloudnative-architects/</link>
      <pubDate>Wed, 14 Dec 2022 15:00:00 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/advanced-guide-for-cloudnative-architects/</guid>
      <description>&lt;p&gt;ä¼´éšç€äº‘è®¡ç®—çš„æµªæ½®ï¼Œäº‘åŸç”Ÿçš„æ¦‚å¿µä¹Ÿåº”è¿è€Œç”Ÿï¼Œä» 2015 å¹´ CNCF äº‘åŸç”ŸåŸºé‡‘ä¼šçš„æˆç«‹ï¼Œå·²ç»æŒç»­é«˜é€Ÿå‘å±•äº† 7 å¹´æ—¶é—´ã€‚è€Œ Kubernetes ä½œä¸ºäº‘åŸç”Ÿçš„ä»£è¡¨å°±åƒæ˜¯ä¸€ä¸ªå…¨æ–°çš„äº‘æ“ä½œç³»ç»Ÿï¼Œå›´ç»•ç€å®ƒè¯ç”Ÿäº†ä¸°å¯Œçš„ä¸Šå±‚åº”ç”¨å’Œç”Ÿæ€ã€‚&lt;/p&gt;
&lt;p&gt;è¿„ä»Šä¸ºæ­¢ï¼ŒCNCF åœ¨å…¶å…¬å¸ƒçš„äº‘åŸç”Ÿå…¨æ™¯å›¾ä¸­ï¼Œæ˜¾ç¤ºäº†ç›®å‰è¿‘ 30 ä¸ªé¢†åŸŸã€æ•°ç™¾ä¸ªé¡¹ç›®çš„ç¹è£å‘å±•ï¼Œäº‘åŸç”ŸæŠ€æœ¯çš„å¹¿åº¦å’Œæ·±åº¦å¾—åˆ°äº†å‰æ‰€æœªæœ‰çš„å‘å±•ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-cncf-landscape&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./images/1.png&#34; alt=&#34;CNCF Landscape&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      CNCF Landscape
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;é¢å¯¹è¿™åºæ‚çš„æŠ€æœ¯é¢†åŸŸå’ŒæŠ€æœ¯å·¥å…·ï¼Œæˆ‘ä»¬å¾€å¾€ä¸çŸ¥é“è¦ä»å“ªå„¿ä¸‹æ‰‹å¼€å§‹å­¦ä¹ ã€‚å³ä¾¿æŒæ¡äº†äº‘åŸç”Ÿæ ¸å¿ƒæŠ€æœ¯ Docker å’Œ K8sï¼Œä¸è¿‡åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œè¿™è¿œè¿œæ˜¯ä¸å¤Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å½“æˆ‘ä»¬æœ‰äº†äº‘åŸç”ŸåŸºç¡€ä¹‹åï¼Œ&lt;strong&gt;æƒ³è¦è¿›ä¸€æ­¥å®ç°èŒä¸šæ™‹å‡ï¼Œæˆ‘å»ºè®®ä½ ä»ä¸‹é¢çš„å‡ ä¸ªæ–¹é¢å»å­¦ä¹ ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-äº‘åŸç”Ÿæ¶æ„å¸ˆå¿…é¡»æŒæ¡çš„æŠ€èƒ½&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./images/2.jpeg&#34; alt=&#34;äº‘åŸç”Ÿæ¶æ„å¸ˆå¿…é¡»æŒæ¡çš„æŠ€èƒ½&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      äº‘åŸç”Ÿæ¶æ„å¸ˆå¿…é¡»æŒæ¡çš„æŠ€èƒ½
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æ€»ç»“æ¥è¯´ï¼Œä½ éœ€è¦èšç„¦åœ¨ä¸‹é¢å‡ ä¸ªé¢†åŸŸï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨å’Œé•œåƒï¼šDocker&lt;/li&gt;
&lt;li&gt;æŒç»­é›†æˆï¼šGitHub Actionã€Jenkinsã€Tekton&lt;/li&gt;
&lt;li&gt;é•œåƒä»“åº“ï¼šHarbor&lt;/li&gt;
&lt;li&gt;åº”ç”¨å®šä¹‰ï¼šHelmã€Kustomize&lt;/li&gt;
&lt;li&gt;æŒç»­éƒ¨ç½²ï¼šFluxCDã€ArgoCD&lt;/li&gt;
&lt;li&gt;ç§˜é’¥ç®¡ç†ï¼šVault&lt;/li&gt;
&lt;li&gt;å®¹å™¨ç¼–æ’ï¼šK8s&lt;/li&gt;
&lt;li&gt;ç½‘å…³ï¼šIngress-Nginx&lt;/li&gt;
&lt;li&gt;æ—¥å¿—ï¼šGrafana Lokiã€Fluentd&lt;/li&gt;
&lt;li&gt;ç›‘æ§ï¼šGrafana&lt;/li&gt;
&lt;li&gt;å‘Šè­¦ï¼šPrometheus&lt;/li&gt;
&lt;li&gt;åº”ç”¨å¼€å‘ï¼šNocalhost&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œè¿™äº›é¢†åŸŸçš„é¡¹ç›®åœ¨äº‘åŸç”Ÿå·¥ç¨‹å®è·µä¸­å¹¶ä¸æ˜¯ç‹¬ç«‹çš„ï¼Œ&lt;strong&gt;ä½ éœ€è¦æŒæ¡å¹¶æŠŠå®ƒä»¬è¿æ¥èµ·æ¥ï¼Œæ‰èƒ½å°†é¡¹ç›®è¿ç§»åˆ°äº‘åŸç”Ÿæ¶æ„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¢å¯¹è¿™ä¹ˆå¤šçš„é¢†åŸŸå’ŒæŠ€æœ¯ï¼Œæ€ä¹ˆå­¦ä¹ å®ƒä»¬æ‰èƒ½æ›´åŠ é«˜æ•ˆå‘¢ï¼Ÿä¸‹é¢æ˜¯æ ¹æ®æˆ‘çš„å­¦ä¹ ç»éªŒæ€»ç»“çš„å­¦ä¹ è·¯å¾„ï¼Œä½ å¯ä»¥å‚è€ƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€é˜¶æ®µï¼šå­¦ä¹  Docker å’Œ K8s çš„åŸºç¡€çŸ¥è¯†ï¼›&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬äºŒé˜¶æ®µï¼šå­¦ä¹  CI/CD é¢†åŸŸçš„æŠ€æœ¯ï¼›&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸‰é˜¶æ®µï¼šå­¦ä¹ æ—¥å¿—ã€ç›‘æ§å’Œå‘Šè­¦é¢†åŸŸçš„æŠ€æœ¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä¸ªå­¦ä¹ é˜¶æ®µ&#34;&gt;ä¸‰ä¸ªå­¦ä¹ é˜¶æ®µ&lt;/h2&gt;
&lt;h3 id=&#34;ç¬¬ä¸€é˜¶æ®µ&#34;&gt;ç¬¬ä¸€é˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œä½ éœ€è¦å­¦ä¹  Docker å’Œ K8s çš„åŸºç¡€çŸ¥è¯†ã€‚å…¶ä¸­ï¼ŒDocker ç›¸å…³çš„çŸ¥è¯†åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é•œåƒæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ€ä¹ˆå°†ä¸šåŠ¡ä»£ç æ„å»ºä¸ºé•œåƒï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒï¼Ÿ&lt;/li&gt;
&lt;li&gt;Docker çš„å…¶ä»–åŸºæœ¬æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨å­¦ä¹ äº† Docker ç›¸å…³çŸ¥è¯†åï¼Œæ¥ä¸‹æ¥å°±è¦å¼€å§‹å­¦ä¹  K8s ç›¸å…³çŸ¥è¯†ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»€ä¹ˆæ˜¯ K8s çš„å·¥ä½œè´Ÿè½½ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Service çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;åº”ç”¨é…ç½®å¦‚ä½•è¿ç§»ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•å¯¹å¤–æš´éœ²æœåŠ¡ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•é…ç½® HPA æ‰©ç¼©å®¹ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Kubectl çš„åŸºæœ¬æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªé˜¶æ®µå­¦ä¹ å®Œæˆåï¼Œåœ¨å·¥ä½œä¸­ä½¿ç”¨ Docker å’Œ K8s åŸºæœ¬ä¸Šå°±æ²¡å¤ªå¤§é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬äºŒé˜¶æ®µ&#34;&gt;ç¬¬äºŒé˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;å½“å…·å¤‡äº† Docker å’Œ K8s çš„åŸºç¡€çŸ¥è¯†åï¼Œæ¥ä¸‹æ¥å°±éœ€è¦å­¦ä¹  CI/CD é¢†åŸŸçš„æŠ€æœ¯äº†ã€‚å…¶ä¸­ï¼ŒCI é¢†åŸŸåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ Jenkins è‡ªåŠ¨æ„å»ºé•œåƒï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ GitHub Action è‡ªåŠ¨æ„å»ºé•œåƒï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•è‡ªå»º Tekton æ„å»ºé•œåƒï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ Tekton æ­å»ºç§æœ‰é•œåƒä»“åº“ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åï¼Œå†æ·±å…¥å­¦ä¹  CD é¢†åŸŸçš„æŠ€æœ¯ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•å®šä¹‰åº”ç”¨ï¼ŒHelm è¿˜æ˜¯ Kustomizeï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ ArgoCD æ­å»º GitOps å·¥ä½œæµï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ç®¡ç† GitOps ä¸­çš„ç§˜é’¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ°äº†è¿™ä¸ªé˜¶æ®µï¼Œä¹Ÿå°±å…·å¤‡åœ¨å®é™…é¡¹ç›®ä¸­æ­å»ºå®Œæ•´çš„ GitOps å·¥ä½œæµçš„èƒ½åŠ›äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬ä¸‰é˜¶æ®µ&#34;&gt;ç¬¬ä¸‰é˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†è®©åˆ†å¸ƒå¼ç³»ç»Ÿå…·æœ‰æ›´å¥½çš„å¯è§‚æµ‹æ€§ï¼Œåœ¨ç¬¬ä¸‰é˜¶æ®µæˆ‘ä»¬éœ€è¦å­¦ä¹ æ—¥å¿—ã€ç›‘æ§å’Œå‘Šè­¦çš„çŸ¥è¯†ï¼Œä»–ä»¬åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ Loki æ­å»ºè½»é‡çº§çš„æ—¥å¿—ç³»ç»Ÿï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ EFK æ­å»ºæ—¥å¿—ç³»ç»Ÿï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ Grafana å’Œ Prometheus æ­å»ºç›‘æ§ç³»ç»Ÿï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä½¿ç”¨ Prometheus AlertManager æ­å»ºå‘Šè­¦ç³»ç»Ÿï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ°äº†ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼Œä½ å·²ç»åŸºæœ¬ä¸ŠæŒæ¡å®Œæ•´çš„äº‘åŸç”ŸçŸ¥è¯†ä½“ç³»äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¼ºç‚¹&#34;&gt;ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;è¿™ç§å­¦ä¹ æ–¹å¼é€‚åˆæœ‰ä¸€å®šåŸºç¡€å¹¶ä¸”åŠ¨æ‰‹èƒ½åŠ›å¼ºçš„åŒå­¦ï¼Œå®ƒä»¬ç¼ºå°‘ä½“ç³»åŒ–çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå½“éœ€è¦å°†ä¸åŒé¢†åŸŸçš„å·¥å…·è¿›è¡Œè¿æ¥æ—¶ç¼ºå°‘å¯å‚è€ƒçš„æœ€ä½³å®è·µçš„æ¡ˆä¾‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é€‰æ‹©ä½“ç³»åŒ–çš„è¯¾ç¨‹&#34;&gt;é€‰æ‹©ä½“ç³»åŒ–çš„è¯¾ç¨‹&lt;/h2&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§å¯è¡Œçš„å­¦ä¹ æ–¹æ³•æ˜¯é€‰æ‹©ä¸€é—¨ä½“ç³»åŒ–çš„è¯¾ç¨‹ï¼Œè¿™é‡Œæˆ‘æ¨èç‹ç‚œçš„æå®¢æ—¶é—´æ–°ä¸“æ ã€Šäº‘åŸç”Ÿæ¶æ„ä¸ GitOps å®æˆ˜ã€‹ã€‚ä½ å¯ä»¥ä»é›¶ä¸Šæ‰‹ï¼Œä¸€æ­¥ä¸€æ­¥å…¥é—¨äº‘åŸç”Ÿï¼Œä¸€æ¬¡å­¦ä¹ äº‘åŸç”Ÿçš„æ‰€æœ‰çŸ¥è¯†ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-æ‰«ç æŠ¥å&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./images/post.jpeg&#34; alt=&#34;æ‰«ç æŠ¥å&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      æ‰«ç æŠ¥å
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥&lt;a href=&#34;https://time.geekbang.org/column/intro/100312001?code=PlMU9ITPlnun1QAjTGtDtNxkTtgSRZZzLJlQZHrEKtI%3D&amp;amp;utm_term=SPoster&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/a&gt;æŸ¥çœ‹è¯¾ç¨‹ä»‹ç»&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¹Ÿåˆ†äº«ä¸€å¼ è¯¾ç¨‹çš„å­¦ä¹ è·¯å¾„ï¼Œè·Ÿç€è¿™æ¡è·¯å¾„ï¼Œå°±å¯ä»¥é«˜æ•ˆåœ°è§£å†³â€œæ€ä¹ˆå­¦â€çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-è¯¾ç¨‹å­¦ä¹ è·¯å¾„&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./images/3.jpg&#34; alt=&#34;è¯¾ç¨‹å­¦ä¹ è·¯å¾„&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      è¯¾ç¨‹å­¦ä¹ è·¯å¾„
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;è¯¾ç¨‹ç›®å½•&#34;&gt;è¯¾ç¨‹ç›®å½•&lt;/h3&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-è¯¾ç¨‹ç›®å½•&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;./images/4.jpeg&#34; alt=&#34;è¯¾ç¨‹ç›®å½•&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      è¯¾ç¨‹ç›®å½•
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;å…³äºç‹ç‚œ&#34;&gt;å…³äºç‹ç‚œ&lt;/h3&gt;
&lt;p&gt;ç‹ç‚œï¼Œç°åœ¨æ·±åœ³æ°¦ä¸‰ç§‘æŠ€çš„è”åˆåˆ›å§‹äººï¼Œä»–ä¹‹å‰å°±èŒäºè…¾è®¯äº‘ CODING æ‹…ä»»æ¶æ„å¸ˆï¼Œä¹Ÿæ˜¯&lt;strong&gt;ä¸­å›½äº‘åŸç”Ÿç¤¾åŒºæ·±åœ³ç«™çš„è´Ÿè´£äºº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å‡ºç‰ˆäº† &lt;strong&gt;ã€ŠSpinnaker å®æˆ˜ï¼šäº‘åŸç”Ÿå¤šäº‘ç¯å¢ƒçš„æŒç»­éƒ¨ç½²æ–¹æ¡ˆã€‹&lt;/strong&gt;ï¼Œå‚ä¸ç¼–å†™äº† &lt;strong&gt;ã€Šæ·±å…¥ç†è§£ Istioï¼šäº‘åŸç”ŸæœåŠ¡ç½‘æ ¼è¿›é˜¶å®æˆ˜ã€‹&lt;/strong&gt; ä»¥åŠ &lt;strong&gt;ã€Šè½¯ä»¶ç ”å‘æ•ˆèƒ½æƒå¨æŒ‡å—ã€‹&lt;/strong&gt; çš„äº‘åŸç”Ÿå¼€å‘éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œä»–ä¹Ÿæ˜¯äº‘åŸç”Ÿå¼€å‘å·¥å…· &lt;strong&gt;Nocalhost&lt;/strong&gt; é¡¹ç›®çš„æ ¸å¿ƒä½œè€…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¯¾ç¨‹å”®ä»·&#34;&gt;è¯¾ç¨‹å”®ä»·&lt;/h3&gt;
&lt;p&gt;è¯¾ç¨‹åŸä»· Â¥129&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»Šæ—¥æ—©é¸Ÿ 6 æŠ˜ç§’æ€ï¼Œåˆ°æ‰‹ ï¿¥ 79ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœä½ æ˜¯æ–°ç”¨æˆ·ï¼Œåªéœ€è¦ ï¿¥ 59ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;a href=&#34;https://time.geekbang.org/column/intro/100312001?code=PlMU9ITPlnun1QAjTGtDtNxkTtgSRZZzLJlQZHrEKtI%3D&amp;amp;utm_term=SPoster&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿™é‡Œ&lt;/a&gt;ï¼Œç«‹äº« 6 æŠ˜ï¼Œè·Ÿç€ç‹ç‚œå­¦ä¹ äº‘åŸç”Ÿæ¶æ„ä¸ GitOpsã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>äº‘åŸç”Ÿåˆå­¦è€…å…¥é—¨å¿…è¯»</title>
      <link>https://cloudnativecn.com/blog/must-read-for-cloud-native-beginner/</link>
      <pubDate>Fri, 23 Oct 2020 14:18:40 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/must-read-for-cloud-native-beginner/</guid>
      <description>&lt;h2 id=&#34;ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« &#34;&gt;ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« &lt;/h2&gt;
&lt;p&gt;çœ‹åˆ°è¿™ä¸ªæ ‡é¢˜åï¼Œå¤§å®¶å¯èƒ½ä¼šé—®â€œéƒ½å·²ç» 2020 å¹´äº†ï¼ŒKubernetes å¼€æºæœ‰ 6 å¹´æ—¶é—´äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å†™ä¸€ç¯‡ Kubernetes å…¥é—¨çš„æ–‡ç« ï¼Ÿâ€æˆ‘æƒ³è¯´çš„æ˜¯ï¼ŒKubernetes è¿˜è¿œè¿œæ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆæ™®åŠã€‚ä¼—å¤šçš„å¼€å‘è€…ï¼Œå¹³æ—¶å¿™äºå„è‡ªçš„ä¸šåŠ¡å¼€å‘ï¼Œå­¦ä¹ æ–°æŠ€æœ¯çš„æ—¶é—´æœ‰é™ï¼›è¿˜æœ‰å¤§é‡çš„å­¦ç”Ÿç¾¤ä½“ï¼Œå¯èƒ½è¿˜ä»…ä»…åœç•™åœ¨â€œçŸ¥é“æœ‰è¿™é—¨æŠ€æœ¯â€çš„é˜¶æ®µï¼Œè¿œè¿œæ²¡æœ‰å…¥é—¨ã€‚è¿™ç¯‡æ–‡ç« å°†åŠ©äºå„ä½æœ‰å¿—äºä»äº‹äº‘åŸç”Ÿé¢†åŸŸå·¥ä½œæˆ–éœ€è¦äº†è§£è¯¥é¢†åŸŸèƒŒæ™¯çš„äººç¾¤å¿«é€Ÿå…¥é—¨ Kubernetes å’Œäº‘åŸç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºäº‘åŸç”Ÿçš„çŸ¥è¯†ä½“ç³»è¿‡äºåºæ‚ï¼Œæœ¬æ–‡ä¸»è¦è®²è§£å®¹å™¨ã€Kubernetes åŠæœåŠ¡ç½‘æ ¼çš„å…¥é—¨æ¦‚å¿µï¼Œå…³äºäº‘åŸç”Ÿçš„æ›´å¤šç»†èŠ‚å°†åœ¨åç»­æ–‡ç« ä¸­æ¨å‡ºã€‚å¦å¤–å¤§å®¶ä¹Ÿå¯ä»¥å…³æ³¨äº‘åŸç”Ÿç¤¾åŒºæ¨å‡ºçš„ &lt;a href=&#34;https://github.com/cloudnativeto/cloudnative-knowledge-map&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº‘åŸç”ŸçŸ¥è¯†å›¾è°±&lt;/a&gt; é¡¹ç›®ï¼Œè¿›ä¸€æ­¥äº†è§£äº‘åŸç”Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¼•è¨€&#34;&gt;å¼•è¨€&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://kubernetes.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes&lt;/a&gt; ä¸€è¯æ¥è‡ªå¸Œè…Šè¯­ï¼Œæ„æ€æ˜¯â€œé£è¡Œå‘˜â€æˆ–â€œèˆµæ‰‹â€ã€‚è¿™ä¸ªåå­—å¾ˆè´´åˆ‡ï¼ŒKubernetes å¯ä»¥å¸®åŠ©ä½ åœ¨æ³¢æ¶›æ±¹æ¶Œçš„å®¹å™¨æµ·æ´‹ä¸­èˆªè¡Œã€‚&lt;/p&gt;
&lt;p&gt;Kubernetes æ˜¯åšä»€ä¹ˆçš„ï¼Ÿä»€ä¹ˆæ˜¯ Dockerï¼Ÿä»€ä¹ˆæ˜¯å®¹å™¨ç¼–æ’ï¼ŸKubernetes æ˜¯å¦‚ä½•å·¥ä½œå’Œæ‰©å±•çš„ï¼Ÿä½ å¯èƒ½è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é—®é¢˜ï¼Œæœ¬æ–‡å°†ä¸€ä¸€ä¸ºä½ è§£ç­”ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« é€‚åˆåˆå­¦è€…ï¼Œå°¤å…¶æ˜¯é‚£äº›å·¥ä½œå¿™ç¢Œï¼Œæ²¡æœ‰åŠæ³•æŠ½å‡ºå¤ªå¤šæ—¶é—´æ¥äº†è§£ Kubernetes å’Œäº‘åŸç”Ÿçš„å¼€å‘è€…ä»¬ï¼Œå¸Œæœ›æœ¬æ–‡å¯ä»¥å¸®åŠ©ä½ è¿›å…¥ Kubernetes çš„ä¸–ç•Œã€‚&lt;/p&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼ŒKubernetes æä¾›äº†ä¸€ä¸ªå¹³å°æˆ–å·¥å…·æ¥å¸®åŠ©ä½ å¿«é€Ÿåè°ƒæˆ–æ‰©å±•å®¹å™¨åŒ–åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ &lt;a href=&#34;https://docker.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Docker&lt;/a&gt; å®¹å™¨ã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£ä¸€ä¸‹è¿™äº›æ¦‚å¿µã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®¹å™¨å’Œå®¹å™¨åŒ–&#34;&gt;å®¹å™¨å’Œå®¹å™¨åŒ–&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆä»€ä¹ˆæ˜¯å®¹å™¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¦è®¨è®ºå®¹å™¨åŒ–é¦–å…ˆè¦è°ˆåˆ°è™šæ‹Ÿæœº (VM)ï¼Œé¡¾åæ€ä¹‰ï¼Œè™šæ‹Ÿæœºå°±æ˜¯å¯ä»¥è¿œç¨‹è¿æ¥çš„è™šæ‹ŸæœåŠ¡å™¨ï¼Œæ¯”å¦‚ AWS çš„ EC2 æˆ–é˜¿é‡Œäº‘çš„ ECSã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œå‡å¦‚ä½ è¦åœ¨è™šæ‹Ÿæœºä¸Šè¿è¡Œä¸€ä¸ªç½‘ç»œåº”ç”¨â€”â€”åŒ…æ‹¬ä¸€ä¸ª MySQL æ•°æ®åº“ã€ä¸€ä¸ª Vue å‰ç«¯å’Œä¸€äº› Java åº“ï¼Œåœ¨ Ubuntu æ“ä½œç³»ç»Ÿ (OS) ä¸Šè¿è¡Œã€‚ä½ ä¸ç”¨ç†Ÿæ‚‰å…¶ä¸­çš„æ¯ä¸€ä¸ªæŠ€æœ¯â€”â€”ä½ åªè¦è®°ä½ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºç”±å„ç§ç»„ä»¶ã€æœåŠ¡å’Œåº“ç»„æˆï¼Œå®ƒä»¬è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¸Šã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œå°†åº”ç”¨ç¨‹åºæ‰“åŒ…æˆä¸€ä¸ªè™šæ‹Ÿæœºé•œåƒï¼Œè¿™ä¸ªé•œåƒä¸­åŒ…æ‹¬äº† Ubuntu æ“ä½œç³»ç»Ÿã€‚è¿™ä½¿å¾—è™šæ‹Ÿæœºå˜å¾—éå¸¸ç¬¨é‡â€”â€”é€šå¸¸æœ‰å‡ ä¸ª G çš„å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;è™šæ‹Ÿæœºé•œåƒåŒ…å«äº†æ•´ä¸ªæ“ä½œç³»ç»ŸåŠæ‰€æœ‰çš„åº“ï¼Œå¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œè¿™ä¸ªé•œåƒè¿‡äºè‡ƒè‚¿ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†ç»„ä»¶å¹¶æ²¡æœ‰è¢«åº”ç”¨ç¨‹åºç›´æ¥è°ƒç”¨ã€‚å¦‚æœä½ éœ€è¦é‡æ–°åˆ›å»ºã€å¤‡ä»½æˆ–æ‰©å±•è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œå°±éœ€è¦å¤åˆ¶æ•´ä¸ªç¯å¢ƒï¼ˆè™šæ‹Ÿæœºé•œåƒï¼‰ï¼Œåœ¨æ–°ç¯å¢ƒä¸­å¯åŠ¨åº”ç”¨é€šå¸¸éœ€è¦å‡ åç§’ç”šè‡³å‡ åˆ†é’Ÿæ—¶é—´ã€‚å¦‚æœä½ æƒ³å•ç‹¬å‡çº§åº”ç”¨ä¸­çš„æŸä¸ªç»„ä»¶ï¼Œæ¯”å¦‚è¯´ Vue åº”ç”¨ï¼Œå°±éœ€è¦é‡å»ºæ•´ä¸ªè™šæ‹Ÿæœºé•œåƒã€‚å¦å¤–ï¼Œå¦‚æœä½ çš„ä¸¤ä¸ªåº”ç”¨ä¾èµ–åŒä¸€ä¸ªåº•å±‚é•œåƒï¼Œå‡çº§åº•å±‚é•œåƒä¼šåŒæ—¶å½±å“è¿™ä¸¤ä¸ªåº”ç”¨ï¼Œè€Œæœ‰æ—¶å€™ï¼Œä½ åªéœ€è¦å‡çº§å…¶ä¸­ä¸€ä¸ªåº”ç”¨çš„ä¾èµ–è€Œå·²ã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œä¾èµ–é™·é˜±â€ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•å°±æ˜¯å®¹å™¨ã€‚å®¹å™¨æ˜¯ç»§è™šæ‹Ÿæœºä¹‹åæ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œåœ¨è¿™å±‚æŠ½è±¡ä¸­ï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºçš„æ¯ä¸ªç»„ä»¶è¢«å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„å•å…ƒï¼Œè¿™ä¸ªå•å…ƒå°±æ˜¯æ‰€è°“çš„å®¹å™¨ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å°†ä»£ç å’Œåº”ç”¨æœåŠ¡ä»åº•å±‚æ¶æ„ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå®ç°äº†å®Œå…¨çš„å¯ç§»æ¤æ€§ï¼ˆåœ¨ä»»ä½•æ“ä½œç³»ç»Ÿæˆ–ç¯å¢ƒä¸Šè¿è¡Œåº”ç”¨çš„èƒ½åŠ›ï¼‰ã€‚æ‰€ä»¥åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒUbuntu æ“ä½œç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªå•å…ƒï¼ˆå®¹å™¨ï¼‰ã€‚MySQL æ•°æ®åº“æ˜¯å¦ä¸€ä¸ªå®¹å™¨ï¼ŒVue ç¯å¢ƒå’Œéšä¹‹è€Œæ¥çš„åº“ä¹Ÿæ˜¯ä¸€ä¸ªå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼ŒMySQL æ•°æ®åº“æ˜¯å¦‚ä½•è‡ªå·±â€œè¿è¡Œâ€çš„ï¼Ÿæ•°æ®åº“æœ¬èº«è‚¯å®šä¹Ÿè¦åœ¨æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œå§ï¼Ÿæ²¡é”™ï¼&lt;/p&gt;
&lt;p&gt;æ›´é«˜å±‚æ¬¡çš„å®¹å™¨ï¼Œæ¯”å¦‚ MySQL å®¹å™¨ï¼Œå®é™…ä¸Šä¼šåŒ…å«å¿…è¦çš„åº“æ¥ä¸åº•å±‚çš„æ“ä½œç³»ç»Ÿå®¹å™¨é€šä¿¡å’Œé›†æˆã€‚æ‰€ä»¥ä½ å¯ä»¥æŠŠå®¹å™¨çœ‹æˆæ˜¯æ•´ä¸ªåº”ç”¨å †æ ˆä¸­çš„ä¸€å±‚ï¼Œæ¯å±‚éƒ½ä¾èµ–äºä¸‹å±‚çš„å•å…ƒã€‚è€Œè¿™å°±ç±»ä¼¼äºèˆ¹èˆ¶æˆ–æ¸¯å£ä¸­é›†è£…ç®±çš„å †å æ–¹å¼ï¼Œæ¯ä¸ªå®¹å™¨çš„ç¨³å®šæ€§éƒ½ä¾èµ–äºä¸‹é¢çš„å®¹å™¨çš„æ”¯æŒã€‚æ‰€ä»¥åº”ç”¨å®¹å™¨çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå—æ§çš„æ‰§è¡Œç¯å¢ƒã€‚å®ƒä»¬å…è®¸ä½ ä»å¤´å¼€å§‹å®šä¹‰æ•´ä¸ªç¯å¢ƒï¼Œä»æ“ä½œç³»ç»Ÿå¼€å§‹ï¼Œåˆ°ä½ è¦ä½¿ç”¨çš„å„ä¸ªç‰ˆæœ¬çš„åº“ï¼Œå†åˆ°ä½ è¦æ·»åŠ çš„ä»£ç ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å®¹å™¨ç›¸å…³çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µæ˜¯&lt;strong&gt;å¾®æœåŠ¡&lt;/strong&gt;ã€‚å°†åº”ç”¨ç¨‹åºçš„å„ä¸ªç»„ä»¶æ‹†åˆ†å¹¶æ‰“åŒ…æˆç‹¬ç«‹çš„æœåŠ¡ï¼Œè¿™æ ·æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«æ›¿æ¢ã€å‡çº§ã€è°ƒè¯•ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¼šä¸º Vue å‰ç«¯åˆ›å»ºä¸€ä¸ªå¾®æœåŠ¡ï¼Œä¸º MySQL æ•°æ®åº“åˆ›å»ºå¦ä¸€ä¸ªå¾®æœåŠ¡ï¼Œä¸º Java ä¸­é—´ä»¶éƒ¨åˆ†åˆ›å»ºå¦ä¸€ä¸ªå¾®æœåŠ¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¾ˆæ˜æ˜¾ï¼Œå¾®æœåŠ¡ä¸å®¹å™¨åŒ–æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»-docker-å¼€å§‹&#34;&gt;ä» Docker å¼€å§‹&lt;/h2&gt;
&lt;p&gt;ç°åœ¨ä½ å·²ç»å¯¹å®¹å™¨æœ‰ä¸€å®šäº†è§£äº†å§ï¼ŸDocker æ˜¯æœ€å¸¸ç”¨çš„å®¹å™¨åŒ–å·¥å…·ï¼Œä¹Ÿæ˜¯æœ€æµè¡Œçš„å®¹å™¨è¿è¡Œæ—¶ã€‚&lt;/p&gt;
&lt;p&gt;Docker å¼€æºäº 2013 å¹´ã€‚ç”¨äºæ‰“åŒ…å’Œåˆ›å»ºå®¹å™¨ï¼Œç®¡ç†åŸºäºå®¹å™¨çš„åº”ç”¨ã€‚æ‰€æœ‰ Linux å‘è¡Œç‰ˆã€Windows å’Œ macOS éƒ½æ”¯æŒ Dockerã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å…¶ä»–çš„å®¹å™¨åŒ–å·¥å…·ï¼Œå¦‚ &lt;a href=&#34;https://coreos.com/rkt/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CoreOS rkt&lt;/a&gt;ã€&lt;a href=&#34;http://mesos.apache.org/documentation/latest/mesos-containerizer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mesos Containerizer&lt;/a&gt; å’Œ &lt;a href=&#34;https://linuxcontainers.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;LXC&lt;/a&gt;ã€‚ä½†æ˜¯ç›®å‰ï¼Œç»å¤§å¤šæ•°çš„å®¹å™¨åŒ–åº”ç”¨éƒ½æ˜¯åœ¨ Docker ä¸Šè¿è¡Œçš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å†åˆ°-kubernetes&#34;&gt;å†åˆ° Kubernetes&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œç®€å•ä»‹ç»ä¸€ä¸‹å†å²ã€‚Kubernetes æ˜¯ Google åŸºäºå…¶å†…éƒ¨å®¹å™¨è°ƒåº¦å¹³å° Borg çš„ç»éªŒå¼€å‘çš„ã€‚2014 å¹´å¼€æºï¼Œå¹¶ä½œä¸º CNCFï¼ˆäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼‰çš„æ ¸å¿ƒå‘èµ·é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ Kubernetes åˆè·Ÿå®¹å™¨æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿè®©æˆ‘ä»¬å†å›åˆ°ä¸Šé¢çš„ä¾‹å­ã€‚å‡è®¾æˆ‘ä»¬çš„åº”ç”¨çˆ†ç«ï¼Œæ¯å¤©çš„æ³¨å†Œç”¨æˆ·è¶Šæ¥è¶Šå¤šã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ åç«¯èµ„æºï¼Œä½¿æµè§ˆæˆ‘ä»¬ç½‘ç«™çš„ç”¨æˆ·åœ¨æµè§ˆé¡µé¢æ—¶åŠ è½½æ—¶é—´ä¸ä¼šè¿‡é•¿æˆ–è€…è¶…æ—¶ã€‚æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å¢åŠ å®¹å™¨çš„æ•°é‡ï¼Œç„¶åä½¿ç”¨è´Ÿè½½å‡è¡¡å™¨å°†ä¼ å…¥çš„è´Ÿè½½ï¼ˆä»¥ç”¨æˆ·è¯·æ±‚çš„å½¢å¼ï¼‰åˆ†é…ç»™å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·åšè™½ç„¶è¡Œä¹‹æœ‰æ•ˆï¼Œä½†ä¹Ÿåªèƒ½åœ¨ç”¨æˆ·è§„æ¨¡æœ‰é™çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚å½“ç”¨æˆ·è¯·æ±‚è¾¾åˆ°å‡ åä¸‡æˆ–å‡ ç™¾ä¸‡æ—¶ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ä¸å¯æ‰©å±•çš„ã€‚ä½ éœ€è¦ç®¡ç†å‡ åä¸ªä¹Ÿè®¸æ˜¯å‡ ç™¾ä¸ªè´Ÿè½½å‡è¡¡å™¨ï¼Œè¿™æœ¬èº«å°±æ˜¯å¦ä¸€ä¸ªä»¤äººå¤´ç–¼çš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬æƒ³å¯¹ç½‘ç«™æˆ–åº”ç”¨è¿›è¡Œä»»ä½•å‡çº§ï¼Œä¹Ÿä¼šé‡åˆ°é—®é¢˜ï¼Œå› ä¸ºè´Ÿè½½å‡è¡¡ä¸ä¼šè€ƒè™‘åˆ°åº”ç”¨å‡çº§çš„é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦å•ç‹¬é…ç½®æ¯ä¸ªè´Ÿè½½å‡è¡¡å™¨ï¼Œç„¶åå‡çº§è¯¥å‡è¡¡å™¨æ‰€æœåŠ¡çš„å®¹å™¨ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ æœ‰ 20 ä¸ªè´Ÿè½½å‡è¡¡å™¨å’Œæ¯å‘¨ 5 æˆ– 6 ä¸ªå°çš„æ›´æ–°æ—¶ï¼Œä½ å°†ä¸å¾—ä¸è¿›è¡Œå¤§é‡çš„æ‰‹å·¥åŠ³åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§å¯ä»¥ä¸€æ¬¡æ€§å°†å˜æ›´ä¼ é€’ç»™æ‰€æœ‰å—æ§å®¹å™¨çš„æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ä¸€ç§å¯ä»¥è½»æ¾åœ°è°ƒåº¦å¯ç”¨å®¹å™¨çš„æ–¹æ³•ï¼Œè¿™ä¸ªè¿‡ç¨‹è¿˜å¿…é¡»è¦æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œè¿™æ­£æ˜¯ Kubernetes æ‰€åšçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ¢è®¨ Kubernetes ç©¶ç«Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå®ƒçš„å„ç§ç»„ä»¶å’ŒæœåŠ¡ï¼Œä»¥åŠæ›´å¤šå…³äºå¦‚ä½•ä½¿ç”¨ Kubernetes æ¥ç¼–æ’ã€ç®¡ç†å’Œç›‘æ§å®¹å™¨åŒ–ç¯å¢ƒã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œå‡è®¾æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Docker å®¹å™¨ï¼Œå°½ç®¡å¦‚å‰æ‰€è¿°ï¼ŒKubernetes é™¤äº†æ”¯æŒ Docker ä¹‹å¤–ï¼Œè¿˜æ”¯æŒå…¶ä»–å‡ ç§å®¹å™¨å¹³å°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;kubernetes-æ¶æ„å’Œç»„ä»¶&#34;&gt;Kubernetes æ¶æ„å’Œç»„ä»¶&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œæœ€é‡è¦çš„æ˜¯ä½ éœ€è¦è®¤è¯†åˆ° Kubernetes åˆ©ç”¨äº†â€œæœŸæœ›çŠ¶æ€â€åŸåˆ™ã€‚å°±æ˜¯è¯´ï¼Œä½ å®šä¹‰äº†ç»„ä»¶çš„æœŸæœ›çŠ¶æ€ï¼Œè€Œ Kubernetes è¦å°†å®ƒä»¬å§‹ç»ˆè°ƒæ•´åˆ°è¿™ä¸ªçŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä½ æƒ³è®©ä½ çš„ Web æœåŠ¡å™¨å§‹ç»ˆè¿è¡Œåœ¨ 4 ä¸ªå®¹å™¨ä¸­ï¼Œä»¥è¾¾åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï¼Œä½ çš„æ•°æ®åº“å¤åˆ¶åˆ° 3 ä¸ªä¸åŒçš„å®¹å™¨ä¸­ï¼Œä»¥è¾¾åˆ°å†—ä½™çš„ç›®çš„ã€‚è¿™å°±æ˜¯ä½ æƒ³è¦çš„çŠ¶æ€ã€‚å¦‚æœè¿™ 7 ä¸ªå®¹å™¨ä¸­çš„ä»»ä½•ä¸€ä¸ªå‡ºç°æ•…éšœï¼ŒKubernetes å¼•æ“ä¼šæ£€æµ‹åˆ°è¿™ä¸€ç‚¹ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œä»¥ç¡®ä¿ç»´æŒæ‰€éœ€çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥å®šä¹‰ä¸€äº› Kubernetes çš„é‡è¦ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ ç¬¬ä¸€æ¬¡è®¾ç½® Kubernetes æ—¶ï¼Œä½ ä¼šåˆ›å»ºä¸€ä¸ªé›†ç¾¤ã€‚æ‰€æœ‰å…¶ä»–ç»„ä»¶éƒ½æ˜¯é›†ç¾¤çš„ä¸€éƒ¨åˆ†ã€‚ä½ ä¹Ÿå¯ä»¥åˆ›å»ºå¤šä¸ªè™šæ‹Ÿé›†ç¾¤ï¼Œç§°ä¸ºå‘½åç©ºé—´ (namespace)ï¼Œå®ƒä»¬æ˜¯åŒä¸€ä¸ªç‰©ç†é›†ç¾¤çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ä½ å¯ä»¥åœ¨åŒä¸€ç‰©ç†æœåŠ¡å™¨ä¸Šåˆ›å»ºå¤šä¸ªè™šæ‹Ÿæœºçš„æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚å¦‚æœä½ ä¸éœ€è¦ï¼Œä¹Ÿæ²¡æœ‰æ˜ç¡®å®šä¹‰çš„å‘½åç©ºé—´ï¼Œé‚£ä¹ˆä½ çš„é›†ç¾¤å°†åœ¨å§‹ç»ˆå­˜åœ¨çš„é»˜è®¤å‘½åç©ºé—´ä¸­åˆ›å»ºã€‚&lt;/p&gt;
&lt;p&gt;Kubernetes è¿è¡Œåœ¨èŠ‚ç‚¹ (node) ä¸Šï¼ŒèŠ‚ç‚¹æ˜¯é›†ç¾¤ä¸­çš„å•ä¸ªæœºå™¨ã€‚å¦‚æœä½ æœ‰è‡ªå·±çš„ç¡¬ä»¶ï¼ŒèŠ‚ç‚¹å¯èƒ½å¯¹åº”äºç‰©ç†æœºå™¨ï¼Œä½†æ›´å¯èƒ½å¯¹åº”äºåœ¨äº‘ä¸­è¿è¡Œçš„è™šæ‹Ÿæœºã€‚èŠ‚ç‚¹æ˜¯éƒ¨ç½²ä½ çš„åº”ç”¨æˆ–æœåŠ¡çš„åœ°æ–¹ï¼Œæ˜¯ Kubernetes å·¥ä½œçš„åœ°æ–¹ã€‚æœ‰ 2 ç§ç±»å‹çš„èŠ‚ç‚¹â€”â€”master èŠ‚ç‚¹å’Œ worker èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¯´ Kubernetes æ˜¯ä¸»ä»ç»“æ„çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ§åˆ¶å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„ç‰¹æ®ŠèŠ‚ç‚¹ã€‚ä¸€æ–¹é¢ï¼Œå®ƒå’Œé›†ç¾¤ä¸­çš„ä»»ä½•å…¶ä»–èŠ‚ç‚¹ä¸€æ ·ï¼Œè¿™æ„å‘³ç€å®ƒåªæ˜¯å¦ä¸€å°æœºå™¨æˆ–è™šæ‹Ÿæœºã€‚å¦ä¸€æ–¹é¢ï¼Œå®ƒè¿è¡Œç€æ§åˆ¶é›†ç¾¤å…¶ä»–éƒ¨åˆ†çš„è½¯ä»¶ã€‚å®ƒå‘é›†ç¾¤ä¸­çš„æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹å‘é€æ¶ˆæ¯ï¼Œå°†å·¥ä½œåˆ†é…ç»™å®ƒä»¬ï¼Œå·¥ä½œèŠ‚ç‚¹å‘ä¸»èŠ‚ç‚¹ä¸Šçš„ API Server æ±‡æŠ¥ã€‚&lt;/p&gt;
&lt;p&gt;Master èŠ‚ç‚¹æœ¬èº«ä¹ŸåŒ…å«ä¸€ä¸ªåä¸º API Server çš„ç»„ä»¶ã€‚è¿™ä¸ª API æ˜¯èŠ‚ç‚¹ä¸æ§åˆ¶å¹³é¢é€šä¿¡çš„å”¯ä¸€ç«¯ç‚¹ã€‚API Server è‡³å…³é‡è¦ï¼Œå› ä¸ºè¿™æ˜¯ worker èŠ‚ç‚¹å’Œ master èŠ‚ç‚¹å°± podã€deployment å’Œæ‰€æœ‰å…¶ä»– Kubernetes API å¯¹è±¡çš„çŠ¶æ€è¿›è¡Œé€šä¿¡çš„ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;Woker èŠ‚ç‚¹æ˜¯ Kubernetes ä¸­çœŸæ­£å¹²æ´»çš„èŠ‚ç‚¹ã€‚å½“ä½ åœ¨åº”ç”¨ä¸­éƒ¨ç½²å®¹å™¨æˆ– podï¼ˆç¨åå®šä¹‰ï¼‰æ—¶ï¼Œå…¶å®æ˜¯åœ¨å°†å®ƒä»¬éƒ¨ç½²åˆ° worker èŠ‚ç‚¹ä¸Šè¿è¡Œã€‚Worker èŠ‚ç‚¹æ‰˜ç®¡å’Œè¿è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;Kubernetes ä¸­çš„é€»è¾‘è€Œéç‰©ç†çš„å·¥ä½œå•ä½ç§°ä¸º podã€‚ä¸€ä¸ª pod ç±»ä¼¼äº Docker ä¸­çš„å®¹å™¨ã€‚è®°å¾—æˆ‘ä»¬åœ¨å‰é¢è®²åˆ°ï¼Œå®¹å™¨å¯ä»¥è®©ä½ åˆ›å»ºç‹¬ç«‹ã€éš”ç¦»çš„å·¥ä½œå•å…ƒï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚ä½†æ˜¯è¦åˆ›å»ºå¤æ‚çš„åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚ Web æœåŠ¡å™¨ï¼Œä½ ç»å¸¸éœ€è¦ç»“åˆå¤šä¸ªå®¹å™¨ï¼Œç„¶ååœ¨ä¸€ä¸ª pod ä¸­ä¸€èµ·è¿è¡Œå’Œç®¡ç†ã€‚è¿™å°±æ˜¯ pod çš„è®¾è®¡ç›®çš„â€”â€”ä¸€ä¸ª pod å…è®¸ä½ æŠŠå¤šä¸ªå®¹å™¨ï¼Œå¹¶æŒ‡å®šå®ƒä»¬å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·æ¥åˆ›å»ºåº”ç”¨ç¨‹åºã€‚è€Œè¿™ä¹Ÿè¿›ä¸€æ­¥æ˜ç¡®äº† Docker å’Œ Kubernetes ä¹‹é—´çš„å…³ç³»â€”â€”ä¸€ä¸ª Kubernetes pod é€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª Docker å®¹å™¨ï¼Œæ‰€æœ‰çš„å®¹å™¨éƒ½ä½œä¸ºä¸€ä¸ªå•å…ƒæ¥ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;Kubernetes ä¸­çš„ service æ˜¯ä¸€ç»„é€»è¾‘ä¸Šçš„ podã€‚æŠŠä¸€ä¸ª service çœ‹æˆæ˜¯ä¸€ä¸ª pod çš„é€»è¾‘åˆ†ç»„ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå•ä¸€çš„ IP åœ°å€å’Œ DNS åç§°ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒè®¿é—®æœåŠ¡å†…çš„æ‰€æœ‰ podã€‚æœ‰äº†æœåŠ¡ï¼Œå°±å¯ä»¥éå¸¸å®¹æ˜“åœ°è®¾ç½®å’Œç®¡ç†è´Ÿè½½å‡è¡¡ï¼Œå½“ä½ éœ€è¦æ‰©å±• Kubernetes pod æ—¶ï¼Œè¿™å¯¹ä½ æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šçœ‹åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;ReplicationController æˆ– ReplicaSet æ˜¯ Kubernetes çš„å¦ä¸€ä¸ªå…³é”®åŠŸèƒ½ã€‚å®ƒæ˜¯è´Ÿè´£å®é™…ç®¡ç† pod ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶â€”â€”å½“æ”¶åˆ°æŒ‡ä»¤æ—¶æˆ– pod ç¦»çº¿æˆ–æ„å¤–åœæ­¢æ—¶å¯åŠ¨ podï¼Œä¹Ÿä¼šåœ¨æ”¶åˆ°æŒ‡ç¤ºæ—¶æ€æ­» podï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºç”¨æˆ·è´Ÿè½½å‡å°‘ã€‚æ‰€ä»¥æ¢å¥è¯è¯´ï¼ŒReplicationController æœ‰åŠ©äºå®ç°æˆ‘ä»¬æ‰€æœŸæœ›çš„æŒ‡å®šè¿è¡Œçš„ pod æ•°é‡çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-kubectl&#34;&gt;ä»€ä¹ˆæ˜¯ Kubectlï¼Ÿ&lt;/h2&gt;
&lt;p&gt;kubectl æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä¸ Kubernetes é›†ç¾¤å’Œå…¶ä¸­çš„ pod é€šä¿¡ã€‚ä½¿ç”¨å®ƒä½ å¯ä»¥æŸ¥çœ‹é›†ç¾¤çš„çŠ¶æ€ï¼Œåˆ—å‡ºé›†ç¾¤ä¸­çš„æ‰€æœ‰ podï¼Œè¿›å…¥ pod ä¸­æ‰§è¡Œå‘½ä»¤ç­‰ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨ YAML æ–‡ä»¶å®šä¹‰èµ„æºå¯¹è±¡ï¼Œç„¶åä½¿ç”¨ kubectl å°†å…¶åº”ç”¨åˆ°é›†ç¾¤ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;kubernetes-ä¸­çš„è‡ªåŠ¨æ‰©å±•&#34;&gt;Kubernetes ä¸­çš„è‡ªåŠ¨æ‰©å±•&lt;/h2&gt;
&lt;p&gt;è¯·è®°ä½ï¼Œæˆ‘ä»¬ä½¿ç”¨ Kubernetes è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ Docker çš„åŸå› ä¹‹ä¸€ï¼Œæ˜¯å› ä¸º Kubernetes èƒ½å¤Ÿè‡ªåŠ¨æ‰©å±•åº”ç”¨å®ä¾‹çš„æ•°é‡ä»¥æ»¡è¶³å·¥ä½œè´Ÿè½½çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨ç¼©æ”¾æ˜¯é€šè¿‡é›†ç¾¤è®¾ç½®æ¥å®ç°çš„ï¼Œå½“æœåŠ¡éœ€æ±‚å¢åŠ æ—¶ï¼Œå¢åŠ èŠ‚ç‚¹æ•°é‡ï¼Œå½“éœ€æ±‚å‡å°‘æ—¶ï¼Œåˆ™å‡å°‘èŠ‚ç‚¹æ•°é‡ã€‚ä½†ä¹Ÿè¦è®°ä½ï¼ŒèŠ‚ç‚¹æ˜¯â€œç‰©ç†â€ç»“æ„â€”â€”æˆ‘ä»¬æŠŠâ€œç‰©ç†â€æ”¾åœ¨å¼•å·é‡Œï¼Œå› ä¸ºè¦è®°ä½ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œå®ƒä»¬å®é™…ä¸Šæ˜¯è™šæ‹Ÿæœºã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºå¦‚ä½•ï¼ŒèŠ‚ç‚¹æ˜¯ç‰©ç†æœºå™¨çš„äº‹å®æ„å‘³ç€æˆ‘ä»¬çš„äº‘å¹³å°å¿…é¡»å…è®¸ Kubernetes å¼•æ“åˆ›å»ºæ–°æœºå™¨ã€‚å„ç§äº‘æä¾›å•†å¯¹ Kubernetes æ”¯æŒåŸºæœ¬éƒ½æ»¡è¶³è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†ç»§ç»­è¯´ä¸€äº›æ¦‚å¿µï¼Œè¿™æ¬¡æ˜¯å’Œç½‘ç»œæœ‰å…³çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-kubernetes-ingress-å’Œ-egress&#34;&gt;ä»€ä¹ˆæ˜¯ kubernetes Ingress å’Œ Egressï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¤–éƒ¨ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºä¸ Kubernetes pod äº¤äº’ï¼Œå°±åƒ pod æ˜¯ä¸€ä¸ªçœŸæ­£çš„æœåŠ¡å™¨ä¸€æ ·ã€‚æˆ‘ä»¬éœ€è¦è®¾ç½®å®‰å…¨è§„åˆ™å…è®¸å“ªäº›æµé‡å¯ä»¥è¿›å…¥å’Œç¦»å¼€â€œæœåŠ¡å™¨â€ï¼Œå°±åƒæˆ‘ä»¬ä¸ºæ‰˜ç®¡åº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨å®šä¹‰å®‰å…¨è§„åˆ™ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;è¿›å…¥ Kubernetes pod çš„æµé‡ç§°ä¸º Ingressï¼Œè€Œä» pod åˆ°é›†ç¾¤å¤–çš„å‡ºç«™æµé‡ç§°ä¸º egressã€‚æˆ‘ä»¬åˆ›å»ºå…¥å£ç­–ç•¥å’Œå‡ºå£ç­–ç•¥çš„ç›®çš„æ˜¯é™åˆ¶ä¸éœ€è¦çš„æµé‡è¿›å…¥å’Œæµå‡ºæœåŠ¡ã€‚è€Œè¿™äº›ç­–ç•¥ä¹Ÿæ˜¯å®šä¹‰ pod ä½¿ç”¨çš„ç«¯å£æ¥æ¥å—ä¼ å…¥å’Œä¼ è¾“ä¼ å‡ºæ•°æ® / æµé‡çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-ingress-controller&#34;&gt;ä»€ä¹ˆæ˜¯ Ingress Controllerï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä½†æ˜¯åœ¨å®šä¹‰å…¥å£å’Œå‡ºå£ç­–ç•¥ä¹‹å‰ï¼Œä½ å¿…é¡»é¦–å…ˆå¯åŠ¨è¢«ç§°ä¸º Ingress Controllerï¼ˆå…¥å£æ§åˆ¶å™¨ï¼‰çš„ç»„ä»¶ï¼›è¿™ä¸ªåœ¨é›†ç¾¤ä¸­é»˜è®¤ä¸å¯åŠ¨ã€‚æœ‰ä¸åŒç±»å‹çš„å…¥å£æ§åˆ¶å™¨ï¼ŒKubernetes é¡¹ç›®é»˜è®¤åªæ”¯æŒ Google Cloud å’Œå¼€ç®±å³ç”¨çš„ Nginx å…¥å£æ§åˆ¶å™¨ã€‚é€šå¸¸äº‘ä¾›åº”å•†éƒ½ä¼šæä¾›è‡ªå·±çš„å…¥å£æ§åˆ¶å™¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-replica-å’Œ-replicaset&#34;&gt;ä»€ä¹ˆæ˜¯ Replica å’Œ ReplicaSetï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†ä¿è¯åº”ç”¨ç¨‹åºçš„å¼¹æ€§ï¼Œéœ€è¦åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šåˆ›å»ºå¤šä¸ª pod çš„å‰¯æœ¬ã€‚è¿™äº›è¢«ç§°ä¸º Replicaã€‚å‡è®¾ä½ æ‰€éœ€çš„çŠ¶æ€ç­–ç•¥æ˜¯â€œè®©åä¸º webserver-1 çš„ pod å§‹ç»ˆç»´æŒåœ¨ 3 ä¸ªå‰¯æœ¬â€ï¼Œè¿™æ„å‘³ç€ ReplicationController æˆ– ReplicaSet å°†ç›‘æ§æ´»åŠ¨å‰¯æœ¬çš„æ•°é‡ï¼Œå¦‚æœå…¶ä¸­æœ‰ä»»ä½•ä¸€ä¸ª replica å› ä»»ä½•åŸå› ä¸å¯ç”¨ï¼ˆä¾‹å¦‚èŠ‚ç‚¹çš„æ•…éšœï¼‰ï¼Œé‚£ä¹ˆ Deployment Controller å°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ç³»ç»Ÿï¼ˆå®šä¹‰å¦‚ä¸‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€éœ€çŠ¶æ€æ˜¯åœ¨ deployment ä¸­å®šä¹‰çš„ã€‚Master èŠ‚ç‚¹çš„ä¸­æœ‰ä¸€ä¸ªå­ç³»ç»Ÿå«åš Deployment Controllerï¼Œè´Ÿè´£å®é™…æ‰§è¡Œå¹¶ä½¿å½“å‰çŠ¶æ€ä¸æ–­è¶‹å‘äºæ‰€éœ€çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ ç›®å‰æœ‰ 2 ä¸ª pod çš„å‰¯æœ¬ï¼Œè€Œä½ æ‰€å¸Œæœ›çš„çŠ¶æ€åº”è¯¥æœ‰ 3 ä¸ªï¼Œé‚£ä¹ˆ Replication Controller æˆ– ReplicaSet ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°è¿™ä¸ªè¦æ±‚ï¼Œå¹¶æŒ‡ç¤º Deployment Controller æ ¹æ®é¢„å®šä¹‰çš„è®¾ç½®éƒ¨ç½²ä¸€ä¸ªæ–°çš„ podã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼&#34;&gt;ä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://jimmysong.io/blog/what-is-a-service-mesh/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æœåŠ¡ç½‘æ ¼ (Service Mesh)&lt;/a&gt; ç”¨äºç®¡ç†æœåŠ¡ä¹‹é—´çš„ç½‘ç»œæµé‡ï¼Œæ˜¯äº‘åŸç”Ÿçš„ç½‘ç»œåŸºç¡€è®¾æ–½å±‚ï¼Œä¹Ÿæ˜¯ &lt;a href=&#34;https://jimmysong.io/blog/post-kubernetes-era/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes æ¬¡ä¸–ä»£çš„äº‘åŸç”Ÿåº”ç”¨&lt;/a&gt; çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡ç½‘æ ¼åˆ©ç”¨å®¹å™¨ä¹‹é—´çš„ç½‘ç»œè®¾ç½®æ¥æ§åˆ¶æˆ–æ”¹å˜åº”ç”¨ç¨‹åºä¸­ä¸åŒç»„ä»¶ä¹‹é—´çš„äº¤äº’ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ã€‚å‡è®¾ä½ æƒ³æµ‹è¯• Nginx çš„æ–°ç‰ˆæœ¬ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦ä¸ä½ çš„ Web åº”ç”¨å…¼å®¹ã€‚ä½ ç”¨æ–°çš„ Nginx ç‰ˆæœ¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å®¹å™¨ (Container2)ï¼Œå¹¶ä»å½“å‰å®¹å™¨ (Container1) ä¸­å¤åˆ¶äº†å½“å‰çš„ Nginx webserver é…ç½®ã€‚ä½†ä½ ä¸æƒ³å½±å“ç»„æˆ web åº”ç”¨çš„å…¶ä»–å¾®æœåŠ¡ï¼ˆå‡è®¾æ¯ä¸ªå®¹å™¨å¯¹åº”ä¸€ä¸ªå•ç‹¬çš„å¾®æœåŠ¡ï¼‰â€”â€”å°±æ˜¯ MySQL æ•°æ®åº“ã€Node.js å‰ç«¯ã€è´Ÿè½½å‡è¡¡å™¨ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä½¿ç”¨æœåŠ¡ç½‘æ ¼ï¼Œä½ å¯ä»¥ç«‹å³åªæŠŠ webserver å¾®æœåŠ¡æ”¹æˆ Container2ï¼ˆæ–° Nginx ç‰ˆæœ¬çš„é‚£ä¸ªï¼‰è¿›è¡Œæµ‹è¯•ã€‚å¦‚æœç¡®å®šå®ƒä¸èƒ½å·¥ä½œï¼Œæ¯”å¦‚å› ä¸ºå®ƒå¯¼è‡´ç½‘ç«™å‡ºç°ä¸€äº›å…¼å®¹æ€§é—®é¢˜ï¼Œé‚£ä¹ˆä½ å°±è°ƒç”¨æœåŠ¡ç½‘æ ¼æ¥å¿«é€Ÿåˆ‡æ¢å›åŸæ¥çš„ Container1ã€‚è€Œè¿™ä¸€åˆ‡éƒ½ä¸éœ€è¦å¯¹å…¶ä»–å®¹å™¨è¿›è¡Œä»»ä½•é…ç½®å˜æ›´â€”â€”è¿™äº›å˜æ›´å¯¹å…¶ä»–å®¹å™¨æ˜¯å®Œå…¨é€æ˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰æœåŠ¡ç½‘æ ¼ï¼Œå¯¹å®¹å™¨æ¥è¯´è¿™é¡¹å·¥ä½œå°†ååˆ†ç¹çï¼Œå› ä¸ºè¿™æ¶‰åŠåˆ°é€ä¸€æ›´æ”¹æ‰€æœ‰å…¶ä»–å®¹å™¨ä¸Šçš„é…ç½®ï¼Œå°†å®ƒä»¬æ‰€åŒ…å«çš„æœåŠ¡ä» Container1 æŒ‡å‘ Container2ï¼Œç„¶ååœ¨æµ‹è¯•å¤±è´¥åï¼Œå°†å®ƒä»¬å…¨éƒ¨æ”¹å›æ¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‰é¢è¿™éƒ¨åˆ† Kubernetes æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€äº›ä¸ Kubernetes ç½‘ç»œç›¸å…³çš„æ¦‚å¿µã€‚Kubernetes ä¸­çš„ç½‘ç»œå¯èƒ½å¾ˆæ£˜æ‰‹ï¼Œå¾ˆéš¾ç†è§£ï¼Œå¦‚æœä½ åˆšåˆšå¼€å§‹ï¼Œä½ å¯èƒ½éœ€è¦ä¸€äº›å®è·µæ¥ç†è§£è¿™é‡Œã€‚å…³äºæœåŠ¡ç½‘æ ¼çš„æ›´å¤šå†…å®¹è¯·å‚è€ƒ &lt;a href=&#34;https://www.servicemesher.com/istio-handbook&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Istio Handbookâ€”â€”Istio æœåŠ¡ç½‘æ ¼è¿›é˜¶å®æˆ˜&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å±•å¼€æ›´å¤šå…³äº Kubernetes çš„è¯é¢˜ï¼šå¦‚ä½•å¼€å§‹å­¦ä¹  Kubernetesï¼Œå¦‚ä½•åœ¨æœ¬åœ°å®‰è£…å’Œæµ‹è¯• Kubernetesï¼Œä»¥åŠ Kubernetes çš„ä¸€äº›ä¼˜ç§€çš„ç›‘æ§å·¥å…·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•å­¦ä¹ -kubernetes&#34;&gt;å¦‚ä½•å­¦ä¹  Kubernetesï¼Ÿ&lt;/h2&gt;
&lt;p&gt;è‡ªå­¦ Kubernetes çŸ¥è¯†åŸºæœ¬ä¸Šæœ‰ä¸‰ç§ä¸åŒçš„é€”å¾„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªæä¾›äº†ä¸€ä¸ªæŒ‡å¯¼å¤§çº²ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸€ä»é›¶å¼€å§‹å­¦ä¹ å’Œå®‰è£…-kubernetes&#34;&gt;ä¸€ã€ä»é›¶å¼€å§‹å­¦ä¹ å’Œå®‰è£… Kubernetes&lt;/h3&gt;
&lt;p&gt;è¦æƒ³çœŸæ­£æŒæ¡ Kubernetesï¼Œæœ€å¥½çš„åŠæ³•è«è¿‡äºè‡ªå·±ä»å¤´å¼€å§‹å®‰è£… Kubernetesã€‚ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œä»é›¶å¼€å§‹å®‰è£… Kubernetes å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚å®‰è£… Kubernetes å¹¶ä¸æ˜¯ç®€å•çš„â€œä¸‹è½½æ–‡ä»¶ -&amp;gt; ç‚¹å‡»å®‰è£…â€å¼çš„æ“ä½œï¼ŒKubernetes ç”±å¤šä¸ªç»„ä»¶ç»„æˆï¼Œè¿™äº›ç»„ä»¶å¿…é¡»å•ç‹¬å®‰è£…å’Œé…ç½®ã€‚è€Œåœ¨æ­¤ä¹‹å‰ï¼Œä½ ä¹Ÿéœ€è¦ç›¸å½“çš„æŠ€æœ¯å‚¨å¤‡æ¥åšå®‰è£…å‰çš„å‡†å¤‡ï¼Œæ¯”å¦‚ç†Ÿæ‚‰ Linux æ“ä½œç³»ç»Ÿã€‚å¦‚æœä½ å†³å®šä½¿ç”¨è¿™ç§æ–¹å¼å­¦ä¹ çš„è¯ï¼Œæ¨èä½ é˜…è¯» &lt;a href=&#34;https://github.com/rootsongjc/kubernetes-handbook&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes Handbookâ€”â€”Kubernetes ä¸­æ–‡æŒ‡å— / äº‘åŸç”Ÿæ¶æ„å®è·µæ‰‹å†Œ&lt;/a&gt;ã€‚æ­¤å¤–ï¼Œè¯·è®°ä½ï¼Œå°½ç®¡ Kubernetes ä½œä¸ºä¸€ä¸ªå¼€æºè§£å†³æ–¹æ¡ˆåœ¨æŠ€æœ¯ä¸Šæ˜¯å…è´¹çš„ï¼Œä½†å®ƒç¡®å®æœ‰ä¸€äº›éšè—çš„æˆæœ¬ï¼Œåªä¸è¿‡å¯¹åˆå­¦è€…æ¥è¯´å¯èƒ½å¹¶ä¸æ˜æ˜¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒkubernetes-è‡ªæ‰˜ç®¡è§£å†³æ–¹æ¡ˆ&#34;&gt;äºŒã€Kubernetes è‡ªæ‰˜ç®¡è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;è¿™äº›è§£å†³æ–¹æ¡ˆæ ·æ˜¯ä¸€äº›å·¥å…·å’Œå®ç”¨ç¨‹åºï¼Œå¤§å¤§ç®€åŒ–äº†åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå®‰è£…å’Œé…ç½®å°å‹ Kubernetes é›†ç¾¤çš„ä»»åŠ¡ã€‚å®ƒä»¬æ˜¯å­¦ä¹  Kubernetes çš„å¥½æ–¹æ³•ï¼ŒåŒæ—¶å¯¹äºæ–°æ‰‹æ¥è¯´ä¹Ÿä¸ä¼šå¤ªéš¾ï¼Œåˆè¶³å¤Ÿå°å·§å¯ä»¥åˆ°å®‰è£…åœ¨ä¸ªäººç”µè„‘ä¸Šã€‚æœ€æµè¡Œçš„è‡ªæ‰˜ç®¡ Kubernetes å·¥å…·å’Œç¯å¢ƒæ˜¯ &lt;a href=&#34;https://github.com/kubernetes/minikube&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Minikube&lt;/a&gt;ã€&lt;a href=&#34;https://github.com/ubuntu/microk8s&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MicroK8s&lt;/a&gt;ã€&lt;a href=&#34;https://docs.docker.com/docker-for-windows/kubernetes/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Docker Desktop&lt;/a&gt; å’Œ &lt;a href=&#34;https://github.com/kubernetes-sigs/kind&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kind&lt;/a&gt;ã€‚è¿™äº›è§£å†³æ–¹æ¡ˆå¾€å¾€æœ‰ä¸€äº›é™åˆ¶ï¼Œä¾‹å¦‚ï¼ŒMinikube åªå…è®¸åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚å°½ç®¡æœ‰è¿™äº›ç¼ºç‚¹ï¼Œä½†è¿™äº›å·¥å…·è¿˜æ˜¯éå¸¸å€¼å¾—æ¨èï¼Œå› ä¸ºå®ƒä»¬å°†æ˜“å­¦æ€§å’Œæˆæœ¬æ•ˆç›Šç»“åˆèµ·æ¥ï¼Œå¯¹äºåˆšå¼€å§‹ä½¿ç”¨ Kubernetes çš„åˆå­¦è€…æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰äº‘æ‰˜ç®¡çš„è§£å†³æ–¹æ¡ˆ&#34;&gt;ä¸‰ã€äº‘æ‰˜ç®¡çš„è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;å¦‚ä»Šå„å¤§äº‘ä¾›åº”å•†éƒ½æä¾›äº†å®šåˆ¶åŒ–çš„ Kubernetes è§£å†³æ–¹æ¡ˆæ¥ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡çº¿ä¸Šæ•™å­¦å¹³å°å¦‚ &lt;a href=&#34;https://katacoda.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Katacoda&lt;/a&gt; ä¸Šçš„å…è´¹è¯¾ç¨‹æ¥å­¦ä¹  Kubernetesï¼Œå®ƒä»¬éƒ½æ˜¯äº‘æ‰˜ç®¡çš„ï¼Œä½ ä¸éœ€è¦è‡ªå·±å®‰è£…ï¼Œåªä¸è¿‡ä½ éœ€è¦äº‘ä¾›åº”å•†çš„é›†ç¾¤éœ€è¦ä»˜è´¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ¬åœ°æµ‹è¯•å’Œè°ƒè¯•-kubernetes&#34;&gt;æœ¬åœ°æµ‹è¯•å’Œè°ƒè¯• Kubernetes&lt;/h2&gt;
&lt;p&gt;ä½œä¸ºæœ¬åœ°å®‰è£… Kubernetes çš„ä¸€éƒ¨åˆ†ï¼Œä½ å¾ˆå¯èƒ½è¿˜éœ€è¦ä¸€äº›æµ‹è¯•å’Œè°ƒè¯•èƒ½åŠ›ï¼Œä»¥ç¡®ä¿ä¸€åˆ‡éƒ½åœ¨é¡ºåˆ©è¿è¡Œï¼Œç‰¹åˆ«æ˜¯å®šä¹‰å…¥å£å’Œå‡ºå£ç­–ç•¥ç­‰æ£˜æ‰‹çš„ä»»åŠ¡ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ Kubernetes é™„åŠ ç»„ä»¶çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä½ å¯èƒ½æƒ³ä½¿ç”¨è¿™äº›ç»„ä»¶æ¥æ‰©å±• Kubernetes é›†ç¾¤çš„åŠŸèƒ½ã€‚æ·»åŠ æ‰€æœ‰è¿™äº›éƒ½éœ€è¦è¿›è¡Œæ›´å¤šçš„æµ‹è¯•ï¼Œä»¥ç¡®ä¿å®ƒä»¬èƒ½ä¸ä½ çš„ Kubernetes é›†ç¾¤å®Œç¾çš„é›†æˆã€‚&lt;/p&gt;
&lt;p&gt;ç”¨äºåœ¨æœ¬åœ°å¼€å‘å’Œè°ƒè¯• Kubernetes æœåŠ¡çš„å·¥å…·æœ‰ï¼š&lt;a href=&#34;https://github.com/microsoft/mindaro&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Microsoft Bridge to Kubernetes&lt;/a&gt; å’Œ &lt;a href=&#34;https://github.com/telepresenceio/telepresence&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;telepresence&lt;/a&gt;ã€‚è¿™äº›å·¥å…·å¯ä»¥è®©ä½ åœ¨æœ¬åœ°è¿è¡Œå•ä¸ªæœåŠ¡ï¼ŒåŒæ—¶å°†è¯¥æœåŠ¡è¿æ¥åˆ°è¿œç¨‹ Kubernetes é›†ç¾¤ã€‚è¿™æ ·ä½ å°±å¯ä»¥è®©è‡ªå·±çš„æœ¬åœ°æœºå™¨ä½œä¸º Kubernetes é›†ç¾¤ä¸­çš„ä¸€éƒ¨åˆ†æ¥è¿è¡Œâ€”â€”è¿™å¯¹äºåœ¨æœ¬åœ°è€Œä¸æ˜¯åœ¨ç”Ÿäº§é›†ç¾¤ä¸Šå¼€å‘æœåŠ¡éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Kubernetes é¡¹ç›®ä¹Ÿäº†è§£åˆ°äº† Kubernetes å®‰è£…å¯¹ç«¯åˆ°ç«¯ (E2E) æµ‹è¯•çš„éœ€æ±‚ã€‚ä¸ºæ­¤ï¼Œé¡¹ç›®æ ¸å¿ƒå›¢é˜Ÿä¸€ç›´åœ¨ç¡®ä¿åœ¨æœ€è¿‘çš„ç‰ˆæœ¬ä¸­æ›´æ°å½“åœ°æ”¯æŒ E2E æµ‹è¯•ã€‚è¿™åŒ…æ‹¬è¯¸å¦‚å…è®¸æµ‹è¯•é‡ç”¨å’Œçº³å…¥æ›´å¤šé™„åŠ ç»„ä»¶å’Œé©±åŠ¨ç¨‹åºçš„æµ‹è¯•ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;kubernetes-ç›‘æ§å·¥å…·&#34;&gt;Kubernetes ç›‘æ§å·¥å…·&lt;/h2&gt;
&lt;p&gt;Kubernetes æä¾›äº†åº”ç”¨ç¨‹åºåœ¨é›†ç¾¤çš„æ¯ä¸ªå±‚æ¬¡ä¸Šçš„èµ„æºä½¿ç”¨æƒ…å†µçš„è¯¦ç»†ä¿¡æ¯â€”â€”å®¹å™¨ã€podã€æœåŠ¡ã€‚è¿™äº›è¯¦ç»†ä¿¡æ¯ä½¿ä½ èƒ½å¤Ÿè¯„ä¼°åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œç¡®å®šå“ªäº›ç“¶é¢ˆå¯ä»¥è§£å†³ä»¥æé«˜æ•´ä½“æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ¯•ç«Ÿï¼Œç›‘æ§å¯ä»¥å¸®åŠ©ä½ äº†è§£åº”ç”¨å’Œé›†ç¾¤è¿è¡Œæƒ…å†µçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™å¯¹äºå­¦ä¹  Kubernetes æ˜¯ååˆ†æœ‰å¸®åŠ©çš„ã€‚&lt;/p&gt;
&lt;p&gt;Kubernetes åŒ…å«ä¸¤ä¸ªå†…ç½®åº¦é‡æ”¶é›†å·¥å…·ç”¨äºç›‘æ§ï¼š&lt;a href=&#34;https://kubernetes.io/docs/tasks/debug-application-cluster/resource-usage-monitoring/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;èµ„æºç®¡é“å’Œå…¨åº¦é‡ç®¡é“&lt;/a&gt;ã€‚èµ„æºç®¡é“æ˜¯ä¸€ä¸ªè¾ƒä½çº§å’Œè¾ƒæœ‰é™çš„å·¥å…·ï¼Œä¸»è¦é›†ä¸­åœ¨ä¸å„ç§æ§åˆ¶å™¨ç›¸å…³çš„æŒ‡æ ‡ä¸Šã€‚å…¨æŒ‡æ ‡ç®¡é“ï¼Œé¡¾åæ€ä¹‰ï¼Œä»å‡ ä¹æ‰€æœ‰é›†ç¾¤ç»„ä»¶ä¸­è·å–å¹¶æ˜¾ç¤ºæ›´ä¸°å¯Œçš„æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·å¯ä»¥å®‰è£…å¹¶é›†æˆåˆ° Kubernetes é›†ç¾¤ä¸­ã€‚å¯¹äº Kubernetes æ¥è¯´ï¼Œæœ€æ™®éä½¿ç”¨çš„ä¸¤ä¸ªå·¥å…·æ˜¯ Prometheus å’Œ Grafanaã€‚&lt;/p&gt;
&lt;h3 id=&#34;prometheus-ç›‘æ§&#34;&gt;Prometheus ç›‘æ§&lt;/h3&gt;
&lt;p&gt;Prometheus æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„å¼€æºç›‘æ§å’Œè­¦æŠ¥å·¥å…·ã€‚Prometheus åŒ…å«ä¸€ä¸ªå†…éƒ¨æ•°æ®å­˜å‚¨ç”¨æ¥æ”¶é›†æŒ‡æ ‡ï¼Œå¦‚ç”Ÿæˆçš„æ—¶é—´åºåˆ—æ•°æ®ã€‚Prometheus è¿˜æ‹¥æœ‰ä¼—å¤šæ’ä»¶ï¼Œå…è®¸å®ƒå°†æ•°æ®æš´éœ²ç»™å„ç§å¤–éƒ¨è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä»å…¶ä»–æ•°æ®æºå¯¼å…¥æ•°æ®ï¼ŒåŒ…æ‹¬æ‰€æœ‰ä¸»è¦å…¬æœ‰äº‘ç›‘æ§è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;grafana-ä»ªè¡¨ç›˜&#34;&gt;Grafana ä»ªè¡¨ç›˜&lt;/h3&gt;
&lt;p&gt;Grafana æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ä»ªè¡¨ç›˜ã€åˆ†æå’Œæ•°æ®å¯è§†åŒ–å·¥å…·ã€‚å®ƒæ²¡æœ‰ Prometheus çš„å…¨åŠŸèƒ½æ•°æ®æ”¶é›†èƒ½åŠ›ï¼Œä½† Prometheus åˆæ²¡æœ‰ Grafana çš„æ•°æ®å‘ˆç°ç•Œé¢ã€‚äº‹å®ä¸Šï¼Œä»–ä»¬æœ€å¥½æ˜¯ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨â€”â€”Prometheus è´Ÿè´£æ•°æ®æ”¶é›†å’Œæ±‡æ€»ï¼ŒGrafana è´Ÿè´£æ•°æ®å±•ç¤ºã€‚å®ƒä»¬å…±åŒåˆ›é€ äº†ä¸€ä¸ªå¼ºå¤§çš„ç»„åˆï¼Œæ¶µç›–äº†æ•°æ®æ”¶é›†ã€åŸºæœ¬è­¦æŠ¥å’Œå¯è§†åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é«˜çº§è­¦æŠ¥&#34;&gt;é«˜çº§è­¦æŠ¥&lt;/h3&gt;
&lt;p&gt;å¯¹äºé«˜çº§è­¦æŠ¥ï¼Œä½ å¯ä»¥æ·»åŠ  &lt;a href=&#34;https://www.nagios.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Nagios&lt;/a&gt; æˆ– &lt;a href=&#34;https://github.com/prometheus/alertmanager&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Prometheus Alertmanager&lt;/a&gt; ç­‰å·¥å…·ã€‚è¿™äº›è­¦æŠ¥å·¥å…·é€šå¸¸æœ‰å¤§é‡çš„é›†æˆã€‚ä½ å¯ä»¥ä¸ºè‡ªå®šä¹‰å€¼ç­å›¢é˜Ÿï¼Œç„¶åå®šä¹‰ä½ æƒ³è¦ç›‘æ§çš„å‚æ•°ï¼Œä¾‹å¦‚â€œå½“ä»»ä½• pod ä¸å¯ç”¨æ—¶â€æˆ–â€œå½“ä»»ä½•èŠ‚ç‚¹æ— æ³•è®¿é—®æ—¶â€ã€â€œå½“å®¹é‡è¾¾åˆ° 90%â€ç­‰ï¼Œç„¶åé€šè¿‡ç”µå­é‚®ä»¶ã€çŸ­ä¿¡ã€æ‰‹æœºåº”ç”¨æé†’ã€ç”µè¯å‘¼å«ç­‰æ–¹å¼å‘å€¼ç­äººå‘˜å‘é€è‡ªå®šä¹‰é€šçŸ¥ã€‚ä½ è¿˜å¯ä»¥åˆ›å»ºå‡çº§ç­–ç•¥ï¼Œæ¯”å¦‚ï¼Œå¦‚æœä¸€ä¸ªè¢«å®šä¹‰ä¸ºâ€œå±æ€¥â€çš„è­¦æŠ¥åœ¨ 10 åˆ†é’Ÿå†…æ²¡æœ‰å€¼ç­äººå‘˜ç¡®è®¤ï¼Œé‚£ä¹ˆå°±å°†è­¦æŠ¥å‡çº§ï¼ˆå‘é€è­¦æŠ¥ï¼‰åˆ°è¯¥äººå‘˜çš„ç»ç†ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œä½ åº”è¯¥å·²ç»å¯¹ Docker å’Œ Kubernetes æœ‰äº†å¤§ä½“çš„è®¤è¯†ã€‚äº†è§£äº† Kubernetes çš„ä½œç”¨ï¼ŒçŸ¥é“å®ƒæ˜¯å¦‚ä½•è¿›è¡Œå®¹å™¨åŒ–åº”ç”¨éƒ¨ç½²å’Œç®¡ç†çš„ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒè¯•å’Œç›‘æ§æŠ€æœ¯ä¸ä»…ä»…æ˜¯è¿ç»´éœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠå®ƒå½“ä½œå­¦ä¹ æ–¹å¼ã€‚æœ‰ä»€ä¹ˆæ¯”è¾¹åšè¾¹å­¦æ›´å¥½å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¯·è®°ä½ï¼Œå¦‚æœä½ çš„åº”ç”¨è§„æ¨¡å¤ªå°ï¼Œè€Œä¸”é¢„è®¡ç”¨æˆ·éœ€æ±‚ä¸ä¼šæœ‰å¤ªå¤§å˜åŒ–æˆ–é‡å¤§æ³¢åŠ¨ï¼ˆæ¯”å¦‚ä¸€ä¸ªåªåœ¨å…¬å¸å†…éƒ¨ä½¿ç”¨çš„åº”ç”¨ï¼‰ï¼Œé‚£ä¹ˆ Kubernetes å¯¹ä½ æ¥è¯´å¯èƒ½æ²¡æœ‰å¿…è¦ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨ Docker å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ›´å¤š&#34;&gt;æ›´å¤š&lt;/h2&gt;
&lt;p&gt;äº‘åŸç”Ÿé¢†åŸŸçš„å¼€æºé¡¹ç›®ä¼—å¤šï¼ˆè§ &lt;a href=&#34;https://jimmysong.io/awesome-cloud-native&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Awesome Cloud Native/äº‘åŸç”Ÿå¼€æºé¡¹ç›®å¤§å…¨&lt;/a&gt;ï¼‰ï¼Œå…¶ä¸­æœ‰å¤§é‡çš„ä¼˜ç§€é¡¹ç›®å¯ä¾›æˆ‘ä»¬å­¦ä¹ ã€‚æ­¤å¤–ï¼ŒKubernetes å¼€æºå·²ç»å¤šå¹´æ—¶é—´ï¼Œç½‘ä¸Šæœ‰å¤§é‡çš„å­¦ä¹ èµ„æ–™ï¼Œä¸šç•Œå‡ºç‰ˆè¿‡å¾ˆå¤š &lt;a href=&#34;https://jimmysong.io/cloud-native/note/books/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä¹¦ç±&lt;/a&gt;ï¼Œå»ºè®®å¤§å®¶é€šè¿‡é˜…è¯» &lt;a href=&#34;https://kubernetes.io&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt; å’Œå®è·µæ¥å­¦ä¹ ï¼Œä¹Ÿå¯ä»¥å‚è€ƒæˆ‘ç¼–å†™çš„ &lt;a href=&#34;https://jimmysong.io/kubernetes-handbook&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes Handbookâ€”â€”Kubernetes ä¸­æ–‡æŒ‡å— / äº‘åŸç”Ÿæ¶æ„å®è·µæ‰‹å†Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¨èå¤§å®¶åŠ å…¥æˆ‘å‘èµ·åˆ›åŠçš„ &lt;a href=&#34;https://cloudnative.to&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº‘åŸç”Ÿç¤¾åŒº&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸€ä¸ªç«‹è¶³ä¸­å›½ï¼Œæ”¾çœ¼ä¸–ç•Œçš„äº‘åŸç”Ÿç»ˆç«¯ç”¨æˆ·ç¤¾åŒºï¼Œè‡´åŠ›äºäº‘åŸç”ŸæŠ€æœ¯çš„ä¼ æ’­å’Œåº”ç”¨ã€‚äº‘åŸç”Ÿç¤¾åŒºä¸»åŠçš„ &lt;a href=&#34;https://github.com/cloudnativeto/academy&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº‘åŸç”Ÿå­¦é™¢&lt;/a&gt; å®šæœŸé‚€è¯·äº‘åŸç”Ÿå’Œå¼€æºé¢†åŸŸçš„å¤§å’–åœ¨ B ç«™ä¸Šè¿›è¡Œç›´æ’­åˆ†äº«ï¼Œæˆå‘˜è‡ªå‘ç»„ç»‡äº†å¤šä¸ª SIGï¼ˆç‰¹åˆ«å…´è¶£å°ç»„ï¼‰è¿›è¡Œè®¨è®ºå­¦ä¹ ã€‚æ¬¢è¿åŠ å…¥æˆ‘ä»¬ï¼Œå…±åŒå­¦ä¹ å’Œäº¤æµäº‘åŸç”ŸæŠ€æœ¯ã€‚å¦‚æœä½ æƒ³ä»äº‹æœåŠ¡ç½‘æ ¼é¢†åŸŸï¼ŒåŠ å…¥ä¸€å®¶ç”±å¼€æºæŠ€æœ¯è€Œæ„å»ºçš„å…¨çƒåŒ–å…¬å¸ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘æ‰€åœ¨çš„æœåŠ¡ç½‘æ ¼å…¬å¸ &lt;a href=&#34;https://mp.weixin.qq.com/s/_da1ZgA9-wnT5t_bFuw6AQ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Tetrate&lt;/a&gt;ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸ºä»€ä¹ˆè¦é€‰æ‹© Service Meshï¼Ÿ</title>
      <link>https://cloudnativecn.com/blog/why-is-service-mesh/</link>
      <pubDate>Thu, 08 Nov 2018 15:20:46 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/why-is-service-mesh/</guid>
      <description>&lt;p&gt;æœ¬æ–‡ä¸ºç¿»è¯‘æ–‡ç« ï¼Œ&lt;a href=&#34;https://medium.com/@tak2siva/why-is-service-mesh-8ebcd6ed9eb5&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é™¤éä½ é•¿æœŸä¸ä¸–éš”ç»ï¼Œå¦åˆ™ä½ åº”è¯¥å¬è¯´è¿‡ Kubernetesï¼Œä»–å·²ç»ç§°ä¸ºé«˜é€Ÿå‘å±•çš„äº’è”ç½‘å…¬å¸çš„ä¸€æ¡å‡†åˆ™ã€‚æœ€è¿‘åˆæœ‰ä¸€ä¸ªçƒ­é—¨è¯é¢˜&amp;ndash;Service Meshï¼ˆæœåŠ¡ç½‘æ ¼ï¼‰ï¼Œå®ƒå·²ç»è¢«è¿™äº›é«˜é€Ÿå‘å±•å…¬å¸ç”¨æ¥è§£å†³ä¸€äº›ç‰¹å®šçš„é—®é¢˜ã€‚æ‰€ä»¥å¦‚æœä½ æƒ³äº†è§£ä»€ä¹ˆæ˜¯ Service Meshï¼Œæ¥ä¸‹æ¥æˆ‘å¯ä»¥ç»™ä½ ä¸€ä¸ªæ›´å¥½çš„è§£é‡Šã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx0r3hzbzlj20zk0ilnmj_hu_fdfae543529586c7.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx0r3hzbzlj20zk0ilnmj_hu_ce6e3d59bb2bc9cc.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx0r3hzbzlj20zk0ilnmj_hu_cd74eebf59201772.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx0r3hzbzlj20zk0ilnmj_hu_fdfae543529586c7.webp&#34;
               width=&#34;690&#34;
               height=&#34;361&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;äº’è”ç½‘åº”ç”¨çš„æ¼”è¿›&#34;&gt;äº’è”ç½‘åº”ç”¨çš„æ¼”è¿›&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†ç†è§£ Sevice Mesh çš„é‡è¦æ€§ï¼Œæˆ‘ä»¬é€šè¿‡å››ä¸ªé˜¶æ®µæ¥ç®€çŸ­çš„å›é¡¾ä¸‹äº’è”ç½‘åº”ç”¨çš„å‘å±•å†ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é˜¶æ®µ-0å•ä½“åº”ç”¨&#34;&gt;é˜¶æ®µ 0ï¼šå•ä½“åº”ç”¨&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx0r9265r7j208s06omxs_hu_f6e00b79e14d43e1.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx0r9265r7j208s06omxs_hu_e54c60e791edb644.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx0r9265r7j208s06omxs_hu_2377de4e20a7883b.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx0r9265r7j208s06omxs_hu_f6e00b79e14d43e1.webp&#34;
               width=&#34;316&#34;
               height=&#34;240&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¿˜è®°å¾—é‚£äº›å¹´å—ï¼Ÿæ‰€æœ‰çš„ä»£ç åº“éƒ½æ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œå’Œéƒ¨ç½²çš„è½¯ä»¶åŒ…ã€‚å½“ç„¶ï¼Œè‡³ä»Šåœ¨æŸäº›ä½¿ç”¨åœºæ™¯ä¸‹è¿™ä¸ªæ–¹å¼ä¾ç„¶æ˜¯å¾ˆç®¡ç”¨çš„ã€‚ä½†æ˜¯å¯¹äºä¸€äº›ä¸šåŠ¡å¿«é€Ÿå¢é•¿çš„äº’è”ç½‘å…¬å¸ï¼Œåœ¨åº”ç”¨çš„å¯æ‰©å±•æ€§ã€å¿«é€Ÿéƒ¨ç½²å’Œæ‰€æœ‰æƒç­‰æ–¹é¢é‡åˆ°äº†é˜»åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é˜¶æ®µ-1å¾®æœåŠ¡&#34;&gt;é˜¶æ®µ 1ï¼šå¾®æœåŠ¡&lt;/h3&gt;
&lt;p&gt;å¾®æœåŠ¡çš„æ€æ€æƒ³å¾ˆç®€å•ï¼Œä¾ç…§ SLAï¼ˆæœåŠ¡ç­‰çº§åè®®ï¼‰å°†å•ä½“åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªæ¨¡å—ã€‚è¿™ç§æ–¹å¼è¿è¡Œæ•ˆæœæ˜¾è‘—ï¼Œæ‰€ä»¥å¹¿æ³›ä¸ºä¼ä¸šæ‰€æ¥å—ã€‚ç°åœ¨ï¼Œæ¯ä¸ªå›¢é˜Ÿéƒ½ç”¨ä»–ä»¬å–œçˆ±çš„è¯­è¨€ã€æ¡†æ¶ç­‰è‡ªç”±åœ°è®¾è®¡ä»–ä»¬çš„å¾®æœåŠ¡ã€‚ç„¶åå®ƒå¼€å§‹çœ‹èµ·æ¥å°±åƒä¸‹é¢è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx0si4ef85j218g0n4tde_hu_c85e1bbac4cdefde.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx0si4ef85j218g0n4tde_hu_d96fda889a400143.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx0si4ef85j218g0n4tde_hu_b99f723c569cb820.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx0si4ef85j218g0n4tde_hu_c85e1bbac4cdefde.webp&#34;
               width=&#34;690&#34;
               height=&#34;359&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ›¾ç»åœ¨æˆ‘çš„ä¸€ä¸ªé¡¹ç›®ä¸­å¼€ç©ç¬‘è¯´ï¼Œé‚£é‡Œæœ‰å„ç§è¯­è¨€çš„å¾®æœåŠ¡:)&lt;/p&gt;
&lt;p&gt;å°½ç®¡å¾®æœåŠ¡è§£å†³äº†å•ä½“åº”ç”¨çš„ä¸€äº›é—®é¢˜ï¼Œä½†ç°åœ¨å…¬å¸æœ‰ä¸€äº›ä¸¥é‡é—®é¢˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºæ¯ä¸ªå¾®æœåŠ¡å®šä¹‰ VMï¼ˆè™šæ‹Ÿæœºï¼‰è§„èŒƒ&lt;/li&gt;
&lt;li&gt;ç»´æŠ¤ç³»ç»Ÿçº§åˆ«ä¾èµ–æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚ chefï¼‰ç­‰&lt;/li&gt;
&lt;li&gt;ç›‘æ§æ¯ä¸ªæœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹è´Ÿè´£æ„å»ºå’Œéƒ¨ç½²çš„äººæ¥è¯´è¿™å°±æ˜¯ä¸€ä¸ªå™©æ¢¦ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx0vg3ks7aj20dc07iq53_hu_e65032ffc8d43816.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx0vg3ks7aj20dc07iq53_hu_17cfc93214141335.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx0vg3ks7aj20dc07iq53_hu_b5456a377ca4e7e5.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx0vg3ks7aj20dc07iq53_hu_e65032ffc8d43816.webp&#34;
               width=&#34;480&#34;
               height=&#34;270&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è€Œä¸”è¿™äº›æœåŠ¡åœ¨è™šæ‹Ÿæœºä¸­å…±äº«åŒä¸€ä¸ª OSï¼Œä½†ä¸ºäº†è¾¾åˆ°å¯ç§»æ¤æ€§ï¼ŒæœåŠ¡ä¹‹é—´éœ€è¦éš”ç¦»æˆ–è€…è¢«å°è£…åˆ°ç‹¬ç«‹çš„ VM é•œåƒã€‚å¾®æœåŠ¡å…¸å‹çš„æ¶æ„è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx0vt7d9woj218g0n4tc3_hu_3eddf934058c05f4.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx0vt7d9woj218g0n4tc3_hu_7df5aeab2f0e406d.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx0vt7d9woj218g0n4tc3_hu_f7aea0a3ba89f947.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx0vt7d9woj218g0n4tc3_hu_3eddf934058c05f4.webp&#34;
               width=&#34;690&#34;
               height=&#34;359&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä½†ä¸ºæ¯ä¸ªæœåŠ¡/å‰¯æœ¬å®‰è£…åœ¨ä¸€å°ç‹¬ç«‹çš„è™šæ‹Ÿæœºä¸Šï¼ŒèŠ±è´¹æ˜¯éå¸¸é«˜çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é˜¶æ®µ-2å®¹å™¨åŒ–&#34;&gt;é˜¶æ®µ 2ï¼šå®¹å™¨åŒ–&lt;/h3&gt;
&lt;p&gt;å®¹å™¨æ˜¯åˆ©ç”¨ Linux ä¸­çš„ &lt;a href=&#34;https://en.wikipedia.org/wiki/Cgroups&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;cgroups&lt;/a&gt; å’Œ &lt;a href=&#34;https://en.wikipedia.org/wiki/Linux_namespaces&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;namespace&lt;/a&gt; çš„ä¸€ç§æ–°çš„æ“ä½œç³»ç»Ÿçº§åˆ«çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œé€šè¿‡å…±äº«ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œå®ç°ä¸ºä¸åŒçš„åº”ç”¨éš”ç¦»è¿è¡Œç¯å¢ƒçš„ã€‚Docker æ˜¯ç›®å‰æœ€æµè¡Œçš„å®¹å™¨è¿è¡Œæ—¶ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬ä¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡åˆ›å»ºä¸€ä¸ªå®¹å™¨é•œåƒå¹¶ä»¥å®¹å™¨å½¢å¼å‘å¸ƒæˆæœåŠ¡ã€‚è¿™æ ·ä¸ä»…å¯ä»¥åœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸Šå®ç°åº”ç”¨è¿è¡Œç¯å¢ƒçš„éš”ç¦»ï¼Œè€Œä¸”å¯åŠ¨æ–°çš„å®¹å™¨ç›¸æ¯”äºå¯åŠ¨æ–°çš„ VM é€Ÿåº¦æ›´å¿«ã€æˆæœ¬ä¹Ÿæ›´ä½ï¼ä½¿ç”¨å®¹å™¨æŠ€æœ¯ä¹‹åçš„å¾®æœåŠ¡è®¾è®¡çœ‹èµ·æ¥å°±åƒè¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx0wzyguoej218g0n4ju8_hu_1b6b2bc3d41d03f8.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx0wzyguoej218g0n4ju8_hu_27c70f4994ab1c3.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx0wzyguoej218g0n4ju8_hu_1b637634b2c51ea1.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx0wzyguoej218g0n4ju8_hu_1b6b2bc3d41d03f8.webp&#34;
               width=&#34;690&#34;
               height=&#34;359&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;å®¹å™¨åŒ–è§£å†³äº†æ„å»ºå’Œéƒ¨ç½²çš„é—®é¢˜ï¼Œä½†è¿˜æ²¡æœ‰å®Œç¾çš„ç›‘æ§è§£å†³æ–¹æ¡ˆï¼é‚£è¦æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬è¿˜æœ‰å…¶ä»–é—®é¢˜å—ï¼Ÿç®¡ç†å®¹å™¨ï¼&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å®¹å™¨è¿è¡Œä¸€ä¸ªå¯é çš„åŸºç¡€è®¾æ–½å±‚éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨çš„å¯ç”¨æ€§&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆå®¹å™¨&lt;/li&gt;
&lt;li&gt;æ‰©å®¹/ç¼©å®¹&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;æœåŠ¡å‘ç°&lt;/li&gt;
&lt;li&gt;è°ƒåº¦å®¹å™¨åˆ°å¤šä¸ªä¸»æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é˜¶æ®µ-3å®¹å™¨ç¼–æ’&#34;&gt;é˜¶æ®µ 3ï¼šå®¹å™¨ç¼–æ’&lt;/h3&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx1kwi5nvpj205t05o74e_hu_f25e000fb2595a21.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx1kwi5nvpj205t05o74e_hu_6497bedacc666291.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx1kwi5nvpj205t05o74e_hu_c192a52d10f6c73b.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx1kwi5nvpj205t05o74e_hu_f25e000fb2595a21.webp&#34;
               width=&#34;209&#34;
               height=&#34;204&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;Kubernetes æ˜¯å½“ä¸‹æœ€æµè¡Œçš„å®¹å™¨ç¼–æ’å·¥å…·ï¼Œå®ƒå½»åº•æ”¹å˜äº†æˆ‘ä»¬å¯¹åŸºç¡€è®¾æ–½çš„çœ‹æ³•ã€‚Kubernetes ä¾§é‡äºå¥åº·æ£€æŸ¥ï¼Œå¯ç”¨æ€§ï¼Œè´Ÿè½½å‡è¡¡ï¼ŒæœåŠ¡å‘ç°ï¼Œæ‰©å±•æ€§ï¼Œè·¨ä¸»æœºè°ƒåº¦å®¹å™¨ç­‰ç­‰ï¼Œå¾ˆç¥å¥‡ï¼&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¦çš„å°±æ˜¯è¿™æ ·å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¹¶ä¸å®Œå…¨æ˜¯ï¼Œä»…ä»…è¿™æ ·è¿˜ä¸èƒ½è§£å†³åœ¨å¾®æœåŠ¡é˜¶æ®µæåˆ°çš„æœåŠ¡ç›‘æ§/è§‚æµ‹çš„é—®é¢˜ã€‚è¿™åªæ˜¯å†°å±±ä¸€è§’ã€‚å¾®æœåŠ¡æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ‰€ä»¥ç®¡ç†å¾®æœåŠ¡ä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€äº›æœ€ä½³å®è·µæ¥ä¾¿æ·åœ°è¿è¡Œå¾®æœåŠ¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Metricsï¼ˆå»¶è¿Ÿï¼ŒæˆåŠŸç‡ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;ç†”æ–­&lt;/li&gt;
&lt;li&gt;æµé‡è¿ç§»&lt;/li&gt;
&lt;li&gt;é™é€Ÿ&lt;/li&gt;
&lt;li&gt;è®¿é—®æ—¥å¿—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åƒ Netflix è¿™æ ·çš„å…¬å¸å·²ç»æ¨å‡ºäº†å‡ ç§å·¥å…·ï¼Œå¹¶æ¥å—äº†é‚£äº›è¿è¡Œå¾®æœåŠ¡çš„åšæ³•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Netflix Spectatorï¼ˆMetricsï¼‰&lt;/li&gt;
&lt;li&gt;Netflix Ribbonï¼ˆå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡/æœåŠ¡å‘ç°ï¼‰&lt;/li&gt;
&lt;li&gt;Netflix Hystrixï¼ˆç†”æ–­å™¨ï¼‰&lt;/li&gt;
&lt;li&gt;Netflix Zuulï¼ˆè¾¹ç•Œè·¯ç”±ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç°åœ¨ï¼Œä¸ºäº†æ»¡è¶³è¿™äº›æœ€ä½³å®è·µçš„å”¯ä¸€æ–¹æ³•æ˜¯åœ¨æ¯ä¸ªå¾®æœåŠ¡ä¸Šä½¿ç”¨ä¸€ä¸ªå®¢æˆ·ç«¯åº“æ¥è§£å†³æ¯ä¸ªé—®é¢˜ã€‚æ‰€ä»¥æ¯ä¸ªæœåŠ¡çš„ç»“æ„çœ‹èµ·æ¥å°±åƒè¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx1ojjkrfuj212g0fymz5_hu_d7d5ca5020a2f3b9.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx1ojjkrfuj212g0fymz5_hu_c3be44dc0a453df1.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx1ojjkrfuj212g0fymz5_hu_eee7ba33d23e573.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx1ojjkrfuj212g0fymz5_hu_d7d5ca5020a2f3b9.webp&#34;
               width=&#34;690&#34;
               height=&#34;286&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä½†è¿™æ˜¯é’ˆå¯¹åƒ Service A è¿™æ ·çš„ç”¨ JAVA å†™çš„æœåŠ¡ï¼Œé‚£å…¶ä»–çš„æœåŠ¡è¦æ€ä¹ˆåŠï¼Ÿ
å¦‚æœæˆ‘ä½¿ç”¨å…¶ä»–è¯­è¨€æ²¡æœ‰ç±»ä¼¼ java çš„åº“è¦æ€ä¹ˆåŠï¼Ÿ
æ€æ ·æ‰èƒ½è®©æ‰€æœ‰å›¢é˜Ÿä½¿ç”¨/ç»´æŠ¤/å‡çº§åº“ç‰ˆæœ¬ï¼Ÿ
æˆ‘ä»¬å…¬å¸æœ‰ä¸Šç™¾ä¸ªæœåŠ¡ï¼Œæˆ‘è¦ä¿®æ”¹æ‰€æœ‰åº”ç”¨éƒ½ä½¿ç”¨ä¸Šé¢çš„åº“å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‘ç°äº†å—ï¼Ÿè‡ªå¾®æœåŠ¡è¯ç”Ÿä»¥æ¥ï¼Œè¿™äº›ä¸€ç›´éƒ½æ˜¯ä¸ªé—®é¢˜ï¼ˆè¯­è¨€é™åˆ¶ã€åº”ç”¨ä»£ç æ”¹é€ ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é˜¶æ®µ-4æœåŠ¡ç½‘æ ¼&#34;&gt;é˜¶æ®µ 4ï¼šæœåŠ¡ç½‘æ ¼&lt;/h3&gt;
&lt;p&gt;ç›®å‰æœ‰å¤šç§ä»£ç†ä¸º Service Mesh æä¾›è§£å†³æ–¹æ¡ˆï¼Œå¦‚ï¼š&lt;a href=&#34;https://www.envoyproxy.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Envoy&lt;/a&gt;ã€Linkerd å’Œ Nginxã€‚æœ¬æ–‡åªå…³æ³¨ Envoy çš„ Service Meshã€‚&lt;/p&gt;
&lt;p&gt;Envoy æ˜¯é’ˆå¯¹å¾®æœåŠ¡äº§ç”Ÿçš„è¿™äº›é—®é¢˜è®¾è®¡å‡ºæ¥çš„æœåŠ¡ä»£ç†ã€‚&lt;/p&gt;
&lt;p&gt;Envoy èƒ½å¤Ÿä½œä¸º &lt;a href=&#34;https://docs.microsoft.com/en-us/azure/architecture/patterns/sidecar&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SideCar&lt;/a&gt; è¿è¡Œåœ¨æ¯ä¸ªåº”ç”¨çš„æ—è¾¹ï¼Œå½¢æˆæŠ½è±¡çš„åº”ç”¨ç½‘ç»œã€‚å½“åŸºç¡€è®¾æ–½ä¸­çš„æ‰€æœ‰æœåŠ¡æµé‡é€šè¿‡ Envoy ç½‘æ ¼æµåŠ¨æ—¶ï¼Œé€šè¿‡ä¸€è‡´çš„å¯è§‚å¯Ÿæ€§æ¥é—®é¢˜åŒºåŸŸå˜å¾—å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“æŠŠ Envoy ä½œä¸º SideCar æ·»åŠ åˆ°æœåŠ¡åï¼Œæ‰€æœ‰å¾®æœåŠ¡çš„å…¥ç«™å’Œå‡ºç«™æµé‡éƒ½é€šè¿‡å„è‡ªçš„ Envoy ä»£ç†&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/why-is-service-mesh/7267315bgy1fx1t3tisq1j218g0n4q5x_hu_e855539fcf612a1d.webp 400w,
               /blog/why-is-service-mesh/7267315bgy1fx1t3tisq1j218g0n4q5x_hu_c1251f47e1eafdb.webp 760w,
               /blog/why-is-service-mesh/7267315bgy1fx1t3tisq1j218g0n4q5x_hu_7de9816412fac1db.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/why-is-service-mesh/7267315bgy1fx1t3tisq1j218g0n4q5x_hu_e855539fcf612a1d.webp&#34;
               width=&#34;690&#34;
               height=&#34;359&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;Envoy æ‹¥æœ‰è®¸å¤šæ–¹ä¾¿çš„åŠŸèƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒ HTTP,HTTP/2 å’Œ gRPC&lt;/li&gt;
&lt;li&gt;å¥åº·æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;Metrics&lt;/li&gt;
&lt;li&gt;è¿½è¸ª&lt;/li&gt;
&lt;li&gt;è®¿é—®æ—¥å¿—&lt;/li&gt;
&lt;li&gt;ç†”æ–­&lt;/li&gt;
&lt;li&gt;é‡è¯•ç­–ç•¥&lt;/li&gt;
&lt;li&gt;è¶…æ—¶é…ç½®&lt;/li&gt;
&lt;li&gt;é™é€Ÿ&lt;/li&gt;
&lt;li&gt;æ”¯æŒ Statsdã€Prometheus&lt;/li&gt;
&lt;li&gt;æµé‡è¿ç§»&lt;/li&gt;
&lt;li&gt;é€šè¿‡å‘ç°æœåŠ¡æ¥åŠ¨æ€è°ƒæ•´é…ç½®ï¼ˆXDSï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç­‰â€¦â€¦&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥é€šè¿‡ä»æœåŠ¡ä¸­æŠ½è±¡å‡ºæ•´ä¸ªç½‘ç»œï¼Œä½¿ç”¨ Envoy ä½œä¸º SideCar å½¢æˆç½‘æ ¼ç»„æˆæ•°æ®å¹³é¢ï¼Œå…è®¸æˆ‘ä»¬æ§åˆ¶ä¸Šé¢åˆ—å‡ºçš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¢è¿åé¦ˆï¼Œè°¢è°¢ï¼&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
