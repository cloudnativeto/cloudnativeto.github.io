<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>RAG | 云原生社区（中国）</title>
    <link>https://cloudnativecn.com/tag/rag/</link>
      <atom:link href="https://cloudnativecn.com/tag/rag/index.xml" rel="self" type="application/rss+xml" />
    <description>RAG</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><lastBuildDate>Fri, 18 Apr 2025 09:30:08 +0800</lastBuildDate>
    <image>
      <url>https://cloudnativecn.com/media/sharing.png</url>
      <title>RAG</title>
      <link>https://cloudnativecn.com/tag/rag/</link>
    </image>
    
    <item>
      <title>什么是 AI Agent？简要介绍与构建指南</title>
      <link>https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/</link>
      <pubDate>Fri, 18 Apr 2025 09:30:08 +0800</pubDate>
      <guid>https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/</guid>
      <description>&lt;p&gt;&lt;strong&gt;下一件大事？&lt;/strong&gt; Gartner 认为 AI Agent 将引领未来。OpenAI、Nvidia 和 Microsoft 都在下注，就连在 AI 领域一直比较低调的 Salesforce 也开始布局。&lt;/p&gt;
&lt;p&gt;这一趋势确实正在快速起飞。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f1_hu6511902177471666923.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f1_hu6407050605857690753.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f1_hu13668997699999675077.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f1_hu6511902177471666923.webp&#34;
               width=&#34;760&#34;
               height=&#34;260&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;“AI Agents” 在 Google Trends 上的搜索趋势（来源：trends.google.com）&lt;/p&gt;
&lt;h2 id=&#34;什么是-ai-agent关键词是-agency&#34;&gt;什么是 AI Agent？关键词是 “Agency”&lt;/h2&gt;
&lt;p&gt;不同于传统的生成式 AI 系统，Agent 不只是回应用户输入，而是能够&lt;strong&gt;自主处理一个复杂流程&lt;/strong&gt;，比如处理一个保险理赔请求：理解邮件内容、图像、PDF 文件，从客户数据库提取信息，比对条款、与客户沟通并等待对方回复（哪怕是几天后）——整个过程中不丢失上下文。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;它能自主完成这些操作&lt;/strong&gt;，无需人类实时干预。&lt;/p&gt;
&lt;h2 id=&#34;咖啡机与咖啡师的比喻&#34;&gt;咖啡机与咖啡师的比喻&lt;/h2&gt;
&lt;p&gt;相比 Copilot 这类工具“辅助”员工，&lt;strong&gt;AI Agent 更像是一位可以独立上岗的“数字员工”&lt;/strong&gt;，可实现高程度的流程自动化。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;想象一下&lt;/strong&gt;，一个 AI 能够承担当前由人类员工或整个部门完成的复杂任务：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;策划、设计、执行、评估并优化一场 &lt;strong&gt;营销活动&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;与物流公司、客户和仓库沟通以&lt;strong&gt;追踪遗失的货物&lt;/strong&gt;，若找不到可发起索赔&lt;/li&gt;
&lt;li&gt;每天&lt;strong&gt;监控商标注册数据库&lt;/strong&gt;，发现潜在冲突后自动提起异议&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;汇总 ESG 报告所需数据&lt;/strong&gt;，主动向员工发起询问并校验信息准确性&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;目前的 AI 模型只能在流程中“协助”，而不能主导。&lt;strong&gt;AI Agent 则能完成整个流程的执行&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f2_hu7005329819237701757.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f2_hu14055442940085759594.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f2_hu3240225224215173109.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f2_hu7005329819237701757.webp&#34;
               width=&#34;760&#34;
               height=&#34;472&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;如上图所示，传统生成式 AI 协助团队完成流程（黄色），AI Agent 能从头到尾执行整个任务（橙色）。图片来源：Maximilian Vogel&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果把传统模型比作高端咖啡机，Agent 则是咖啡师&lt;/strong&gt;。咖啡师不仅能做咖啡，还能招呼客人、点单、收银、洗杯子，甚至打烊关店。而咖啡机永远无法独自运营一家咖啡馆。&lt;/p&gt;
&lt;h2 id=&#34;为什么-agent-能胜任这些任务&#34;&gt;为什么 Agent 能胜任这些任务？&lt;/h2&gt;
&lt;p&gt;Agent 擅长在复杂流程中&lt;strong&gt;掌控多个子流程&lt;/strong&gt;，能自主判断下一步应该执行什么任务。如果遇到问题，它知道该向谁请求帮助（缺咖啡豆就找老板，机器故障就联系售后）。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f3_hu14605325461640235722.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f3_hu2110732695597566784.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f3_hu8930354378423729038.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f3_hu14605325461640235722.webp&#34;
               width=&#34;614&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;AI Agent 与传统生成式 AI 的比较。图片来源：Maximilian Vogel&lt;/p&gt;
&lt;h2 id=&#34;一位-ai-员工的构成解剖&#34;&gt;一位 AI 员工的构成解剖&lt;/h2&gt;
&lt;p&gt;现在开始动手构建一个 AI Agent，基于上述保险理赔流程，我们来看每一步的设计。&lt;/p&gt;
&lt;p&gt;我们的目标是构建业务架构与流程设计。由于篇幅原因，本篇不涉及具体代码实现。&lt;/p&gt;
&lt;h3 id=&#34;第一步分类并进入处理通道&#34;&gt;第一步：分类并进入处理通道&lt;/h3&gt;
&lt;p&gt;流程从客户发送邮件报案开始。Agent 需要先&lt;strong&gt;分析邮件内容，识别客户的意图&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;一旦分类完成，Agent 会将请求路由至正确的处理通道。通常这远不止是 function calling，而是涉及流程路径的选择与多个步骤的执行。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f4_hu15216092587147984036.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f4_hu3829888902256977319.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f4_hu8748466306381553867.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f4_hu15216092587147984036.webp&#34;
               width=&#34;659&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;AI Agent 的第一步：对邮件进行分类并分发至对应处理路径。图片来源：Maximilian Vogel&lt;/p&gt;
&lt;h3 id=&#34;第二步提取数据&#34;&gt;第二步：提取数据&lt;/h3&gt;
&lt;p&gt;下一步，Agent 将&lt;strong&gt;非结构化数据转化为结构化数据&lt;/strong&gt;，以实现安全、系统、规范的处理。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分类是将文本归入某个类别&lt;/li&gt;
&lt;li&gt;而抽取是“读懂”数据并提取其中的关键信息&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;模型并不会直接“复制粘贴”，而是生成带格式的结果，例如将“(718) 123–45678”转换为“+1 718 123 45678”。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f5_hu15412797075567924946.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f5_hu547757857634892682.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f5_hu3480875470495157515.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f5_hu15412797075567924946.webp&#34;
               width=&#34;464&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;数据提取可以来自邮件文本、附件图片、PDF等。通常是多模型协作，包含 LLM、OCR 等模块。&lt;/p&gt;
&lt;p&gt;示例输入（非结构化）：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Hi,

I would like to report a damage and ask you to compensate me...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;输出（结构化 JSON）：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Deepak&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;surname&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Jamal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;address&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;123 Main Street, 10008 New York City, NY&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;phone&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;+1 718 123 45678&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;contract_no&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;HC12-223873923&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;claim_description&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;第三步调用外部系统并持久化上下文&#34;&gt;第三步：调用外部系统并持久化上下文&lt;/h3&gt;
&lt;p&gt;普通生成式 AI 通常只能在会话中处理信息，Agent 则&lt;strong&gt;需要访问并更新数据库与企业系统中的数据&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;查询合同号是否存在&lt;/li&gt;
&lt;li&gt;将处理状态写入客服工单系统&lt;/li&gt;
&lt;li&gt;向客户或外部方索要补充信息&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f6_hu11329655967911579183.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f6_hu6272794820619617351.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f6_hu10520864855883170393.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f6_hu11329655967911579183.webp&#34;
               width=&#34;556&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;图示：调用系统服务并实现上下文持久化。图片来源：Maximilian Vogel&lt;/p&gt;
&lt;h3 id=&#34;第四步判断rag推理与置信度&#34;&gt;第四步：判断、RAG、推理与置信度&lt;/h3&gt;
&lt;p&gt;行政流程的核心是&lt;strong&gt;基于规则做判断&lt;/strong&gt;。这就需要引入 RAG（检索增强生成），通过向量数据库找出条款内容。&lt;/p&gt;
&lt;p&gt;在判断前，我们引导模型“思考过程”，即 prompt 要求其先解释自己的推理过程。&lt;/p&gt;
&lt;p&gt;好处包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;给客户一个合理解释&lt;/li&gt;
&lt;li&gt;帮助数据科学家分析模型是否“瞎猜”&lt;/li&gt;
&lt;li&gt;判断模型的结果是否有理可循&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置“置信度阈值”也很关键：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若置信度低，交给人工处理&lt;/li&gt;
&lt;li&gt;若置信度高，可全自动处理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;阈值的设置影响系统的安全性与自动化程度之间的平衡。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f7_hu17341882381196661932.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f7_hu14471712264540132646.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f7_hu10375699246047860855.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f7_hu17341882381196661932.webp&#34;
               width=&#34;740&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;AI Agent 的判断流程。图片来源：Maximilian Vogel&lt;/p&gt;
&lt;p&gt;至此，如果你实现了以上 2~3 个步骤，你就构建了一个初级 Agent。&lt;/p&gt;
&lt;p&gt;你可以使用 crewAI、langGraph、langFlow 等框架，也可以直接用 Python 编写。&lt;/p&gt;
&lt;p&gt;根据实践，这种 Agent 可承担理赔部门 70%~90% 的工作量。这是传统生成式 AI 无法完成的。&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f8_hu9117535578301768422.webp 400w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f8_hu16416981768750289903.webp 760w,
               /blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f8_hu8624009177302542594.webp 1200w&#34;
               src=&#34;https://cloudnativecn.com/blog/what-are-ai-agents-step-by-step-guide-to-build-your-own/f8_hu9117535578301768422.webp&#34;
               width=&#34;760&#34;
               height=&#34;430&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;AI Agent 的三大法则（致敬 Asimov 的机器人三定律）。图片来源：Maximilian Vogel&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;我的团队刚刚上线了一个大型物流系统，预计未来几个月我们将继续深耕 Agent 系统的开发。&lt;/p&gt;
&lt;p&gt;祝你成功打造属于自己的 AI Agent！&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
