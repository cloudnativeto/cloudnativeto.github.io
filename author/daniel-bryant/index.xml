<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Daniel Bryant | äº‘åŸç”Ÿç¤¾åŒºï¼ˆä¸­å›½ï¼‰</title>
    <link>https://cloudnative.to/author/daniel-bryant/</link>
      <atom:link href="https://cloudnative.to/author/daniel-bryant/index.xml" rel="self" type="application/rss+xml" />
    <description>Daniel Bryant</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language>
    <image>
      <url>https://cloudnative.to/author/daniel-bryant/avatar_hue38add62c87b7486d80c9f3fda25dfc1_12220_270x270_fill_q75_lanczos_center.jpg</url>
      <title>Daniel Bryant</title>
      <link>https://cloudnative.to/author/daniel-bryant/</link>
    </image>
    
    <item>
      <title>KubeCon Chicago ä¸»è¦æ”¶è·ï¼šäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰çš„ç¼“æ…¢å´›èµ·ï¼Œå¹³å°å·¥ç¨‹çš„ä¸»å¯¼åœ°ä½ï¼Œä»¥åŠ KubeCon NA 2023 å¯¹å¼€å‘è€…ä½“éªŒçš„é‡æ–°å…³æ³¨</title>
      <link>https://cloudnative.to/blog/kubecon-chicago-key-takeaways/</link>
      <pubDate>Mon, 13 Nov 2023 07:00:00 +0800</pubDate>
      <guid>https://cloudnative.to/blog/kubecon-chicago-key-takeaways/</guid>
      <description>&lt;p&gt;æœ¬æ–‡è¯‘è‡ªï¼š&lt;a href=&#34;https://danielbryantuk.medium.com/kubecon-chicago-key-takeaways-3de5ca13b375&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://danielbryantuk.medium.com/kubecon-chicago-key-takeaways-3de5ca13b375&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ‘˜è¦ï¼šæœ¬æ–‡è®¨è®ºäº† KubeCon çš„ä¸»è¦è®®é¢˜ï¼ŒåŒ…æ‹¬å¹³å°å·¥ç¨‹ã€Kubernetes çš„ä¸æ–­å‘å±•ã€å¼€å‘è€…ä½“éªŒçš„é‡è¦æ€§ã€å¯¹åº”ç”¨å¼€å‘å’Œé›†æˆçš„å…³æ³¨ã€äº‘åŸç”Ÿé€šä¿¡çš„æ†ç»‘é—®é¢˜ã€å®‰å…¨é—®é¢˜çš„é‡è¦æ€§ã€å¯¹å¯æŒç»­æ€§çš„å…³æ³¨ï¼Œä»¥åŠç¤¾åŒºçš„åŠ›é‡ã€‚æ–‡ç« å¼ºè°ƒäº†åœ¨æ ‡å‡†åŒ–å’Œåˆ›æ–°ä¹‹é—´å–å¾—å¹³è¡¡çš„é‡è¦æ€§ï¼Œå¹¶é¢„æµ‹äº‘åŸç”Ÿçš„æœªæ¥å°†çœ‹åˆ°æ›´å¤šçš„ AI/LLMsã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¿™æ¬¡ KubeCon NA å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€æ¬¡éå¸¸ä¸åŒçš„ä½“éªŒï¼Œå› ä¸ºæˆ‘ä¸æ˜¯ä»£è¡¨å…¬å¸æˆ–åŠå±•ä½ã€‚ç„¶è€Œï¼Œæˆ‘ä»ç„¶åº¦è¿‡äº†ä¸€æ®µæ„‰å¿«çš„æ—¶å…‰ï¼Œä¸äº‘åŸç”Ÿç¤¾åŒºçš„è®¸å¤šäººè§é¢çœŸæ˜¯å¤ªæ£’äº†ã€‚å›åˆ°èŠåŠ å“¥ä¹Ÿå¾ˆä¸é”™ï¼Œè¿™åº§åŸå¸‚å¯¹æˆ‘ä»¬å¾ˆå¥½ â€”â€” æˆ‘å‡ ä¹å¿˜è®°äº†æˆ‘æœ‰å¤šå–œæ¬¢èŠåŠ å“¥å¼æ·±ç›˜æŠ«è¨ï¼&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/kubecon-chicago-key-takeaways/f1_hu4164b9bad2fea2a2013299fb70947f4c_127745_4159c88f1ab0e3f5c8db6a47eb7df806.webp 400w,
               /blog/kubecon-chicago-key-takeaways/f1_hu4164b9bad2fea2a2013299fb70947f4c_127745_c4bf27d2653ae6ecdaad24a3fb149c7a.webp 760w,
               /blog/kubecon-chicago-key-takeaways/f1_hu4164b9bad2fea2a2013299fb70947f4c_127745_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/kubecon-chicago-key-takeaways/f1_hu4164b9bad2fea2a2013299fb70947f4c_127745_4159c88f1ab0e3f5c8db6a47eb7df806.webp&#34;
               width=&#34;760&#34;
               height=&#34;570&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æˆ‘ä» KubeCon NA 2023 ä¸­å¾—å‡ºçš„ä¸»è¦æ”¶è·ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;äº‘åŸç”Ÿç¤¾åŒºæ­£åœ¨ç¼“æ…¢æ¥å—AI/LLM&lt;/li&gt;
&lt;li&gt;DevOps å·²ç»è¿‡æ—¶ï¼šå¹³å°å·¥ç¨‹ä¸‡ç‰©&lt;/li&gt;
&lt;li&gt;å±±ä¸­æœ‰é‡‘ï¼åœ¨å¹³å°æ¿€æˆ˜ä¸­é”€å”®é•å’Œé“²å­&lt;/li&gt;
&lt;li&gt;Kubernetes åº”è¯¥ä¿æŒä¸å®Œæ•´ï¼ˆå¹¶ä¸æ–­å‘å±•ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ«å¿˜äº†å¼€å‘è€…ä½“éªŒï¼&lt;/li&gt;
&lt;li&gt;å¢åŠ å¯¹åº”ç”¨ç¨‹åºå¼€å‘å’Œé›†æˆçš„å…³æ³¨&lt;/li&gt;
&lt;li&gt;äº‘åŸç”Ÿé€šä¿¡ï¼šæ‰“åŒ…è·èƒœï¼Ÿ&lt;/li&gt;
&lt;li&gt;å®‰å…¨æ˜¯å¤§ç”Ÿæ„&lt;/li&gt;
&lt;li&gt;æ›´åŠ å…³æ³¨å¯æŒç»­æ€§ï¼šå¯è§‚å¯Ÿæ€§ã€æ‰©å±•æ€§å’Œ FinOps&lt;/li&gt;
&lt;li&gt;ç¤¾åŒºï¼Œç¤¾åŒºï¼Œç¤¾åŒº&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;èƒŒæ™¯è®¾å®šè¿æ¥äº†åæœŸé‡‡ç”¨è€…&#34;&gt;èƒŒæ™¯è®¾å®šï¼šè¿æ¥äº†åæœŸé‡‡ç”¨è€…&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»å‚åŠ  KubeCon èŠåŠ å“¥å¾—åˆ°çš„æ€»ä½“æ„Ÿè§‰æ˜¯ï¼Œæˆ‘ä»¬å·²ç»å®Œå…¨è¿›å…¥äº†&lt;a href=&#34;https://en.wikipedia.org/wiki/Diffusion_of_innovations&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;åˆ›æ–°æ‰©æ•£&lt;/a&gt;çš„åæœŸé‡‡ç”¨è€…é˜¶æ®µã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œåƒ KubeCon è¿™æ ·çš„ä¼šè®®å­˜åœ¨ä¸€ä¸ªå±é™©ï¼Œå³é™·å…¥ï¼ˆäº‘åŸç”Ÿï¼‰æ³¡æ²«ï¼Œèµ°å‡ºä¼šè®®æ—¶å¾ˆå®¹æ˜“è®¤ä¸ºæ•´ä¸ªä¸–ç•Œéƒ½åœ¨è¿è¡Œ Kubernetesã€‚è¿™å¹¶ä¸æ˜¯çœŸçš„ï¼Œè€Œä¸”â€œ&lt;a href=&#34;https://www.gartner.com/en/newsroom/press-releases/2023-10-30-gartner-says-50-percent-of-critical-enterprise-applications-will-reside-outside-of-centralized-public-cloud-locations-through-2027&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Gartner è¡¨ç¤ºåˆ° 2027 å¹´ï¼Œ50% çš„å…³é”®ä¼ä¸šåº”ç”¨å°†å­˜å‚¨åœ¨é›†ä¸­çš„å…¬å…±äº‘ä½ç½®ä¹‹å¤–&lt;/a&gt;â€ã€‚ç„¶è€Œï¼Œå¦‚æœä½ çå¤§çœ¼ç›çœ‹ï¼Œå‡ ä¹ 50% çš„å·¥ä½œè´Ÿè½½æ­£åœ¨äº‘ä¸­è¿è¡Œï¼ˆæˆ–å°†è¦è¿è¡Œï¼‰ï¼Œè¿™æ ‡å¿—ç€åæœŸé‡‡ç”¨è€…çš„åˆ°æ¥ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/kubecon-chicago-key-takeaways/f2_hu91ab04416f541095f56350d945cdf648_193229_5133806e3b1d4d9c646b9f8ead723528.webp 400w,
               /blog/kubecon-chicago-key-takeaways/f2_hu91ab04416f541095f56350d945cdf648_193229_0c718aea026aacb73c27d94929f83495.webp 760w,
               /blog/kubecon-chicago-key-takeaways/f2_hu91ab04416f541095f56350d945cdf648_193229_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/kubecon-chicago-key-takeaways/f2_hu91ab04416f541095f56350d945cdf648_193229_5133806e3b1d4d9c646b9f8ead723528.webp&#34;
               width=&#34;760&#34;
               height=&#34;570&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æˆ‘ä»æ´»åŠ¨çš„ä¸»é¢˜æ¼”è®²å’Œå‚å•†å±•å…ä¸­æ„Ÿå—åˆ°äº†è¿™ç§è½¬å˜ã€‚æ›´å¤šçš„å¼ºè°ƒæ”¾åœ¨äº†å¯é æ€§å’Œå€¼å¾—ä¿¡èµ–æ€§ä¸Šï¼Œè€Œä¸æ˜¯åˆ›æ–°ï¼Œäº§å“å¥—ä»¶å’Œæ˜“äºé›†æˆè€Œä¸æ˜¯â€œæœ€ä½³è§£å†³æ–¹æ¡ˆâ€ï¼Œä»¥åŠä¼™ä¼´å…³ç³»å’Œåˆä½œè€Œä¸æ˜¯ä¸ªåˆ«ç»„ç»‡çš„å¼€åˆ›æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†è¿™ä¸ªèƒŒæ™¯ï¼Œè®©æˆ‘ä»¬æ›´æ·±å…¥åœ°äº†è§£è¿™äº›ä¸»è¦æ”¶è·ï¼&lt;/p&gt;
&lt;h2 id=&#34;äº‘åŸç”Ÿç¤¾åŒºæ­£åœ¨ç¼“æ…¢æ¥å—aillm&#34;&gt;äº‘åŸç”Ÿç¤¾åŒºæ­£åœ¨ç¼“æ…¢æ¥å—AI/LLM&lt;/h2&gt;
&lt;p&gt;ä¸åŒä¸€å¤©ä¸¾è¡Œçš„ KubeCon NA åŒæœŸæ´»åŠ¨çš„ &lt;a href=&#34;https://devday.openai.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenAI DevDay&lt;/a&gt; å½¢æˆé²œæ˜å¯¹æ¯”ï¼ŒKubeCon ä¸Šå‡ ä¹æ²¡æœ‰å…³äºäººå·¥æ™ºèƒ½çš„å†…å®¹ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è§‚çœ‹ &lt;a href=&#34;https://www.youtube.com/watch?v=U9mJuUkhUzk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OpenAI DevDay çš„ä¸»é¢˜æ¼”è®²&lt;/a&gt;ï¼Œæˆ‘é¼“åŠ±ä½ çœ‹çœ‹ã€‚Ed Sim åœ¨ä»–çš„æ¯å‘¨ &lt;a href=&#34;https://www.whatshotit.vc/p/whats-in-enterprise-itvc-367&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä¼ä¸šIT/VCå¿«è®¯&lt;/a&gt; ä¸­ä¹Ÿæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„æ€»ç»“ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼ŒKubeCon çš„ç¬¬ä¸€å¤©ä¸»é¢˜æ¼”è®²ä»¥äººå·¥æ™ºèƒ½ä¸ºä¸»é¢˜ï¼Œä½†è¿™ä¼¼ä¹æœ‰ç‚¹â€œå¤–æŒ‚â€ï¼Œæ›´ä¾§é‡äºä¸º AI/LLM æä¾›åŸºç¡€è®¾æ–½ï¼Œè€Œä¸æ˜¯åœ¨å¼€å‘æˆ–è¿è¥å·¥ä½œæµä¸­ä½¿ç”¨ã€‚åœ¨è¿™é‡Œæˆ‘ä¸æƒ³è¿‡äºåˆ¤æ–­ï¼Œå› ä¸ºåƒ KubeCon è¿™æ ·çš„æ´»åŠ¨éœ€è¦æ•°æœˆçš„ç­–åˆ’ï¼Œè€Œ AI çš„å‘å±•æ˜¯ä»¥æ¯å¤©çš„é€Ÿåº¦å‘ç”Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€äº›å‚å•†çš„å±•ä½ä¸“æ³¨äºâ€œäº‘ç«¯çš„ ChatGPTâ€ï¼Œä½†æˆ‘ä¸èµåŠ©å•†çš„å¤§å¤šæ•°äº¤è°ˆéƒ½é›†ä¸­åœ¨æ„å»ºå¹³å°çš„ç°æœ‰é—®é¢˜ä¸Šã€‚å¦‚æœä½ å¯¹åœ¨å¹³å°ç©ºé—´ä¸­ä½¿ç”¨ AI çš„æ½œåŠ›æ„Ÿå…´è¶£ï¼Œæˆ‘å»ºè®®ä½ åœ¨æœ€è¿‘çš„ &lt;a href=&#34;https://www.infoq.com/podcasts/cloud-devops-trends-2023/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;InfoQ äº‘å’Œ DevOps è¶‹åŠ¿æŠ¥å‘Šæ’­å®¢&lt;/a&gt; ä¸­ä¸å‡ ä½äº‘åŸç”Ÿå’Œ DevOps é¢†å¯¼äººï¼ŒåŒ…æ‹¬ Helen Bealã€Abby Bangserã€Matt Campbell å’Œ Steef-Jan Wiggers ä¸€èµ·èŠä¸€èŠã€‚&lt;/p&gt;
&lt;h2 id=&#34;devops-å·²ç»è¿‡æ—¶å¹³å°å·¥ç¨‹ä¸‡ç‰©&#34;&gt;DevOps å·²ç»è¿‡æ—¶ï¼šå¹³å°å·¥ç¨‹ä¸‡ç‰©ï¼&lt;/h2&gt;
&lt;p&gt;æˆ‘ç›¸ä¿¡æˆ‘ä»¬éƒ½çœ‹è¿‡ Minions/Gru å¹³å°å·¥ç¨‹å’Œ DevOps çš„è¡¨æƒ…åŒ…ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œåœ¨æˆ‘ &lt;a href=&#34;https://blog.getambassador.io/kubecon-eu-cloudnativecon-2023-summary-devex-debugging-and-doubling-down-on-community-82abee5853b3#acc6&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;KubeCon EU 2023 æ‘˜è¦&lt;/a&gt; ä¸­æåˆ°è¿‡ï¼‰ï¼Œè€Œåœ¨ KubeCon ä¸Šæ¯ä¸ªäººéƒ½åœ¨å¼ºè°ƒè¿™ä¸€ç‚¹ã€‚å¦‚æœä½ æœç´¢ &lt;a href=&#34;https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/program/schedule/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç¨‹åºæ—¥ç¨‹&lt;/a&gt;ï¼Œä½ ä¼šå‘ç°è‡³å°‘æœ‰ä¸¤å€äºæåˆ° DevOps çš„æ¼”è®²æ•°é‡çš„æ¼”è®²æåˆ°äº†å¹³å°å·¥ç¨‹ï¼Œè€Œå‡ ä¹æ²¡æœ‰ä¸€ä¸ªæ¼”è®²æ˜¯ä»¥ DevOps ä¸ºæ ‡é¢˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯è¿™ä¸ªé¢†åŸŸçš„è‡ªç„¶æ¼”å˜ï¼Œä¼´éšç€è¿™ç§å˜åŒ–çš„å¥½ä¸åã€‚&lt;/p&gt;
&lt;p&gt;â€œå¥½â€çš„æ˜¯ï¼Œæˆ‘ä»¬æ­£åœ¨å›´ç»•è¿™ä¸ªä¸»é¢˜å½¢æˆä¸€ä¸ªç¤¾åŒºï¼Œå¹¶åœ¨è¡Œä¸šå†…å½¢æˆæœ€ä½³å®è·µã€‚æˆ‘è¦å‘äº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼ˆCNCFï¼‰TAG App äº¤ä»˜å›¢é˜Ÿè‡´ä»¥å´‡é«˜çš„èµæ‰¬ï¼Œå› ä¸ºä»–ä»¬å‘å¸ƒäº†ä»–ä»¬çš„â€œ&lt;a href=&#34;https://tag-app-delivery.cncf.io/whitepapers/platform-eng-maturity-model/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¹³å°å·¥ç¨‹æˆç†Ÿåº¦æ¨¡å‹&lt;/a&gt;â€ï¼ˆä»¥åŠå‘äº‘åŸç”ŸçŒ«çš„ Abby Bangser è‡´ä»¥ç‰¹åˆ«çš„èµæ‰¬ï¼‰&lt;/p&gt;
&lt;p&gt;åœ¨ KubeCon EU 2024 ä¸­è¿˜å°†ä¸¾åŠ &lt;a href=&#34;https://events.linuxfoundation.org/kubecon-cloudnativecon-europe/co-located-events/platform-engineering-day/#call-for-proposals&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¹³å°å·¥ç¨‹æ—¥åŒæœŸæ´»åŠ¨&lt;/a&gt;ã€‚è‡ªä»æˆ‘æ•´ç†äº†ä¸€å †å…³äºç¤¾åŒºä¸­å‡ºç°çš„å¹³å°å·¥ç¨‹æ€æƒ³ï¼Œå¹¶åœ¨ KubeCon 2022 ä¸Šå‘ˆç°äº†â€œ&lt;a href=&#34;https://www.youtube.com/watch?v=btUYeOa7JPI&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä» Kubernetes åˆ° PaaS å†åˆ°â€¦å—¯ï¼Œä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/a&gt;â€çš„æƒ³æ³•åï¼Œæˆ‘ä»¬èµ°äº†å¾ˆé•¿çš„è·¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å±±ä¸­æœ‰é‡‘åœ¨å¹³å°æ¿€æˆ˜ä¸­é”€å”®é•å’Œé“²å­&#34;&gt;å±±ä¸­æœ‰é‡‘ï¼åœ¨å¹³å°æ¿€æˆ˜ä¸­é”€å”®é•å’Œé“²å­&lt;/h2&gt;
&lt;p&gt;æ¯ä¸ªäººéƒ½é‡‡ç”¨å¹³å°å·¥ç¨‹çš„åå¤„æ˜¯ï¼Œè®¸å¤šä¾›åº”å•†é¢ä¸´â€œå¹³å°æ´—ç‰Œâ€çš„å±é™©ã€‚å½“ç„¶ï¼Œè®¸å¤šç°æœ‰çš„ CNCF æ™¯è§‚çµæ„Ÿæ¥è‡ªçš„äº§å“åœ¨å®˜æ–¹æˆä¸ºä¸€ä¸ªäº‹ç‰©ä¹‹å‰å°±å¸®åŠ©äººä»¬æ„å»ºäº†å¹³å°ã€‚ä½†æ˜¯æˆ‘ä¸ç¡®å®šæˆ‘åœ¨ KubeCon ä¸Šçœ‹åˆ°çš„ä¸€åˆ‡éƒ½è¢«å¸‚åœºè¥é”€ä¸ºä¸å¹³å°å·¥ç¨‹å‹å¥½ã€‚è¿™æ„å‘³ç€æœ€ç»ˆç”¨æˆ·åœ¨è´­ä¹°äº§å“æ—¶å¿…é¡»æ›´ä»”ç»†åœ°æŸ¥çœ‹ï¼Œä»¥ç¡®ä¿å®ƒä»¬ç¬¦åˆä»–ä»¬çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªå·¥å…·ä¸ç°æœ‰çš„äº‘åŸç”Ÿå †æ ˆé›†æˆä¸è‰¯ï¼Œæ²¡æœ‰è¢«æ„å»ºæ¥è§£å†³æ˜ç¡®çš„ç”¨ä¾‹ï¼ˆå³â€œå·¥ä½œè¦å®Œæˆçš„ä»»åŠ¡â€ï¼‰ï¼Œå¹¶ä¸”ä¸èƒ½ä»¥è‡ªåŠ©æœåŠ¡çš„æ–¹å¼ä½¿ç”¨ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½æ²¡æœ‰è€ƒè™‘åˆ°å¹³å°å·¥ç¨‹çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œåœ¨ä»»ä½•ï¼ˆå¹³å°å·¥ç¨‹ï¼‰æ·˜é‡‘çƒ­ä¸­ï¼Œæ€»æ˜¯æœ‰æœºä¼šå–é•å’Œé“²å­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;kubernetes-åº”è¯¥ä¿æŒä¸å®Œæ•´å¹¶ä¸æ–­å‘å±•&#34;&gt;Kubernetes åº”è¯¥ä¿æŒä¸å®Œæ•´ï¼ˆå¹¶ä¸æ–­å‘å±•ï¼‰&lt;/h2&gt;
&lt;p&gt;æˆ‘éå¸¸å–œæ¬¢ Tim Hockins åœ¨æœ€åä¸€å¤©çš„ä¸»é¢˜æ¼”è®²ï¼Œâ€œâ€œæ„¿æ™¯çš„æ„¿æ™¯ â€” Kubernetes åœ¨å…¶ç¬¬äºŒä¸ªåå¹´çš„è¡¨ç°â€ï¼Œä»–åœ¨æ¼”è®²ä¸­è°ˆåˆ°äº†åœ¨çŸ­æœŸå†…åšå‡ºå¦¥åä»¥è·å¾—é•¿æœŸæ„¿æ™¯çš„ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ç¤¾åŒºæœ¬å¯ä»¥å°è¯•è§£å†³æ‰€æœ‰äº‘åŸç”ŸæŒ‘æˆ˜ï¼Œå¹¶å°†æ‰€æœ‰å¹³å°å·¥å…·é›†æˆåˆ° Kubernetes ä¸­ã€‚ç„¶è€Œï¼ŒTim å¼ºè°ƒäº†è¿™åœ¨ OpenStack ä¸­å·²ç»å°è¯•è¿‡äº†â€¦å¹¶ä¸”ç»“æœå­˜ç–‘ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¦‚å¿µåœ¨ Tim Bannister çš„ä¸€æ¡æ¨æ–‡ä¸­å¾—åˆ°äº†å¾ˆå¥½çš„æ€»ç»“ï¼ŒTim åœ¨å¤§å±å¹•ä¸Šåˆ†äº«äº†è¿™æ¡æ¨æ–‡ï¼šâ€œKubernetes åº”è¯¥ä¿æŒä¸å®Œæ•´ã€‚â€å¼•ç”¨æˆ‘æœ€å–œæ¬¢çš„æ¼«ç”»/ç”µå½±ç³»åˆ—ä¹‹ä¸€ï¼ŒKubernetes ä¹Ÿè®¸æ˜¯â€œ&lt;a href=&#34;https://batmanfactor.com/not-the-hero-we-deserve-why-the-quote-is-significant/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Gotham éœ€è¦çš„è‹±é›„ï¼Œä½†ç°åœ¨æ­¤åˆ»ç†åº”æ‹¥æœ‰çš„è‹±é›„&lt;/a&gt;â€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ«å¿˜äº†å¼€å‘è€…ä½“éªŒ&#34;&gt;åˆ«å¿˜äº†å¼€å‘è€…ä½“éªŒï¼&lt;/h2&gt;
&lt;p&gt;å¾ˆé«˜å…´åœ¨ KubeCon NA çš„ä¸»é¢˜æ¼”è®²ä¸­çœ‹åˆ°å‡ æ¬¡æåˆ°å¼€å‘è€…ä½“éªŒå’Œé‡è¦æ€§ã€‚KubeCon å†æ¥æ˜¯ä¸€ä¸ªåŸºç¡€è®¾æ–½å’Œè¿ç»´ç„¦ç‚¹çš„äº‹ä»¶ï¼Œä½†æˆ‘ä»¬ä¸èƒ½å¿˜è®°æˆ‘ä»¬çš„ä¸»è¦ï¼ˆå¹³å°ï¼‰å®¢æˆ·ï¼šå¼€å‘è€…ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¸çŸ¥é“ä½ çš„ç”¨æˆ·æ˜¯è°ä»¥åŠä»–ä»¬æœ€å¤§çš„ç—›ç‚¹æ˜¯ä»€ä¹ˆï¼Œä½ æ— æ³•æˆåŠŸåœ°å®šä½ä½ çš„äº§å“ã€‚å¼€å‘è€…æ˜¯ä¸€ç¾¤èªæ˜çš„äººï¼Œå–œæ¬¢è§£å†³è‡ªå·±çš„é—®é¢˜ï¼Œè€Œä¸”å¾€å¾€ä½ çš„äº§å“å°†ä¸ä½¿ç”¨èƒ¶å¸¦å’ŒåŒ…çº¿ä½†èƒ½å¤Ÿâ€œè¶³å¤Ÿå¥½åœ°â€å®Œæˆå·¥ä½œçš„ç°çŠ¶è§£å†³æ–¹æ¡ˆæ­£é¢å¯¹å†³ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŠ å¤§å¯¹åº”ç”¨å¼€å‘å’Œé›†æˆçš„å…³æ³¨&#34;&gt;åŠ å¤§å¯¹åº”ç”¨å¼€å‘å’Œé›†æˆçš„å…³æ³¨&lt;/h2&gt;
&lt;p&gt;é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä¸€ç›´å¯¹ &lt;a href=&#34;https://dapr.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dapr&lt;/a&gt; ç¤¾åŒºçš„å·¥ä½œå°è±¡æ·±åˆ»ï¼Œå¯ä»¥è¯´ä»–ä»¬åœ¨çªæ˜¾äº‘åŸç”Ÿç¤¾åŒºå†…åº”ç”¨å¼€å‘è€…éœ€æ±‚æ–¹é¢å¤„äºé¢†å…ˆåœ°ä½ã€‚å¯¹äºä¸ç†Ÿæ‚‰ CNCF é¡¹ç›®çš„äººæ¥è¯´ï¼ŒDapr æä¾›äº†ç”¨äºé€šä¿¡ã€çŠ¶æ€å’Œå·¥ä½œæµçš„é›†æˆ APIã€‚å¯¹äºä¸€äº›æ‹¥æœ‰ä¸€äº›ç°å‘çš„äººæ¥è¯´ï¼Œå¯ä»¥å°†å…¶è§†ä¸ºäº‘æ—¶ä»£ä¼ä¸šä¸­é—´ä»¶ï¼ˆåšå¾—å¾ˆå¥½ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å³ä½¿åœ¨äº‘åŸç”Ÿç©ºé—´è¿…é€Ÿé‡‡ç”¨ AI/LLMsï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦å…³æ³¨å®šä¹‰æ­£ç¡®æŠ½è±¡çš„é—®é¢˜ï¼›å¦åˆ™ï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿç”Ÿæˆå¤§é‡éš¾ä»¥ç†è§£çš„ä»£ç ï¼&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ï¼ŒDapr æä¾›äº†æ„å»ºåˆ†å¸ƒå¼åº”ç”¨æ‰€éœ€çš„å‡ ä¸ªéå¸¸æœ‰ç”¨çš„æŠ½è±¡ï¼Œå¦‚å‘å¸ƒ - è®¢é˜…ã€çŠ¶æ€ç®¡ç†ã€åˆ†å¸ƒå¼é”ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å‚åŠ äº†å‡ æ¬¡ Dapr çš„è®²åº§å¹¶ç•™ä¸‹äº†æ·±åˆ»å°è±¡ã€‚å¦‚æœæˆ‘è¦æ„å»ºä¸€ä¸ªå…¨æ–°çš„äº‘åŸç”Ÿåº”ç”¨ï¼ˆç”šè‡³æ˜¯æ¼”å˜ä¸­çš„æ—§åº”ç”¨ï¼‰ï¼Œæˆ‘ä¼šé¦–å…ˆè€ƒè™‘è¿™ä¸ªé¡¹ç›®ï¼š&lt;/p&gt;
&lt;p&gt;å¼€æºç¤¾åŒºéå¸¸å¼ºå¤§ï¼ŒDiagrid çš„å›¢é˜Ÿæä¾›äº†å‡ ä¸ªå‡ºè‰²çš„å•†ä¸šè§£å†³æ–¹æ¡ˆï¼Œå‡å°‘äº†ç®¡ç†åç«¯åŸºç¡€è®¾æ–½çš„æ‘©æ“¦å’Œè¿è¥è´Ÿæ‹…ã€‚æˆ‘ä¸ &lt;a href=&#34;https://twitter.com/mfussell&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mark Fussell&lt;/a&gt; å’Œ &lt;a href=&#34;https://twitter.com/bibryam&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bilgin Ibryam&lt;/a&gt; è¿›è¡Œäº†å‡ æ¬¡å¾ˆå¥½çš„äº¤æµï¼Œæˆ‘é¼“åŠ±ä½ åœ¨ X ä¸Šå…³æ³¨ä»–ä»¬ã€‚æˆ‘çš„ InfoQ æœ‹å‹ Thomas Betts è¿˜æ’°å†™äº†å¯¹æœ€æ–°çš„ Diagrid å•†ä¸šå‘å¸ƒçš„æ‘˜è¦ï¼šâ€œ&lt;a href=&#34;https://www.infoq.com/news/2023/11/diagrid-managed-dapr/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Diagrid æ¨å‡º Catalystï¼Œä¸€ä¸ªæ— æœåŠ¡å™¨ã€å…¨æ‰˜ç®¡çš„ Dapr äº§å“&lt;/a&gt;ã€‚â€&lt;/p&gt;
&lt;h2 id=&#34;äº‘åŸç”Ÿé€šä¿¡æ†ç»‘æ˜¯å¦ç‹é“&#34;&gt;äº‘åŸç”Ÿé€šä¿¡ï¼šæ†ç»‘æ˜¯å¦ç‹é“ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æ­£å¦‚ Netscape çš„å‰é¦–å¸­æ‰§è¡Œå®˜ Jim Barksdale æ›¾ç»è‘—ååœ°è¯´è¿‡çš„ï¼Œåˆ›é€ åˆ©æ¶¦çš„æ–¹å¼åªæœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯æ†ç»‘ï¼Œå¦ä¸€ç§æ˜¯è§£ç»‘ã€‚è€Œåœ¨äº‘åŸç”Ÿç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¾ˆå¤šæ†ç»‘ï¼&lt;/p&gt;
&lt;p&gt;è¿™ç§è§‚å¯Ÿåœ¨äº‘åŸç”Ÿé€šä¿¡æ ˆé¢†åŸŸå°¤ä¸ºçªå‡ºã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å¤šæ¬¡è®¨è®ºè¿‡è¿™ä¸€ç‚¹ï¼ŒåŒ…æ‹¬æœ€è¿‘çš„æ¼”è®²ï¼šâ€œ&lt;a href=&#34;https://speakerdeck.com/danielbryantuk/devopscon-the-busy-platform-engineers-guide-to-api-gateways&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¿™ç¢Œçš„å¹³å°å·¥ç¨‹å¸ˆæŒ‡å—ï¼šAPI ç½‘å…³&lt;/a&gt;â€ ã€‚åœ¨è¿™ä¸ªæ ˆä¸­ï¼Œå¤§å¤šæ•°å¹³å°æ„å»ºè€…å°†éœ€è¦ä¸‰ä¸ªç»„ä»¶ï¼šAPI ç½‘å…³ï¼ˆç”¨äºå—åŒ—æµé‡ç®¡ç†ï¼‰ã€æœåŠ¡ç½‘æ ¼ï¼ˆç”¨äºä¸œè¥¿æµé‡ï¼‰å’Œå®¹å™¨æœ¬åœ°æ¥å£æˆ– CNIï¼ˆç”¨äºæ‰€æœ‰åº•å±‚è½¯ä»¶å®šä¹‰ç½‘ç»œï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/kubecon-chicago-key-takeaways/f3_hu4874f52d0f216b9017c8c9c34030c728_733513_97f683a665b5d587047105fb7a72c6bc.webp 400w,
               /blog/kubecon-chicago-key-takeaways/f3_hu4874f52d0f216b9017c8c9c34030c728_733513_e2518345718e96ef2aa16e08ffa97e19.webp 760w,
               /blog/kubecon-chicago-key-takeaways/f3_hu4874f52d0f216b9017c8c9c34030c728_733513_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/kubecon-chicago-key-takeaways/f3_hu4874f52d0f216b9017c8c9c34030c728_733513_97f683a665b5d587047105fb7a72c6bc.webp&#34;
               width=&#34;760&#34;
               height=&#34;480&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;æˆ‘ä¼šå¦è¨€æˆ‘çš„åè§â€”â€”æ›¾åœ¨ Ambassador Labs å·¥ä½œï¼Œåˆ¶é€  &lt;a href=&#34;https://www.getambassador.io/products/edge-stack/api-gateway&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Edge Stack&lt;/a&gt;ï¼Œå¹¶ä¸”æ˜¯ &lt;a href=&#34;https://linkerd.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Linkerd&lt;/a&gt; å›¢é˜Ÿçš„å¤§æ”¯æŒè€…â€”â€”æˆ‘å–œæ¬¢é€‰æ‹©â€œæœ€ä½³è§£å†³æ–¹æ¡ˆâ€å¹¶è¿›è¡Œé›†æˆã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå•†ä¸šè¶‹åŠ¿æ­£åœ¨æœç€æ†ç»‘æ–¹å‘å‘å±•ã€‚æˆ‘çœ‹åˆ°è¯¥é¢†åŸŸçš„å„ç§ä¾›åº”å•†åœ¨å…¶æœ€æ–°äº§å“ä¸­ä¸Šä¸‹ç§»åŠ¨ï¼Œä¾‹å¦‚ Isovalentï¼ˆCilium CNI çš„åˆ›å»ºè€…ï¼‰é€šè¿‡æ‹¥æŠ±æœåŠ¡ç½‘æ ¼å’Œ API ç½‘å…³è€Œå‘ä¸Šç§»åŠ¨ã€‚Solo é€šè¿‡å°† CNIï¼ˆCiliumï¼‰çº³å…¥å…¶ Istio æœåŠ¡ç½‘æ ¼å’Œ API ç½‘å…³äº§å“ä¸­è€Œå‘ä¸‹ç§»åŠ¨ã€‚Tetrateã€Kongã€Tykã€Traefik ç­‰å…¬å¸ä¹Ÿåœ¨è¿›è¡Œç±»ä¼¼çš„å°è¯•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ è¿½è¸ªï¼ˆå’Œå…³æ³¨ï¼‰è¿™ä¸ªå¾ªç¯ï¼ˆå’Œèµ„é‡‘ï¼‰ï¼Œæ˜æ™ºçš„åšæ³•ä¼¼ä¹æ˜¯å€¾å‘äºæ†ç»‘ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç›¸ä¿¡è¿™ç§å­¦ä¹ ä¸ä»…é€‚ç”¨äºäº‘åŸç”Ÿé€šä¿¡é¢†åŸŸã€‚æ€»çš„æ¥è¯´ï¼Œä¼ä¸šæ­£åœ¨å¯»æ±‚æ•´åˆä¾›åº”å•†ï¼Œå‡å°‘è‡ªå·±åŠ¨æ‰‹è§£å†³æ–¹æ¡ˆçš„æ€»ä½“æ‹¥æœ‰æˆæœ¬ï¼ˆTCOï¼‰ï¼Œå¹¶å°†äº‘æ”¯å‡ºæ‰¿è¯ºè½¬ç§»åˆ°äº‘å¸‚åœºå†…æä¾›çš„ç«¯åˆ°ç«¯è§£å†³æ–¹æ¡ˆä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç›¸å…³çš„è®¨è®ºä¸­ï¼Œç”± &lt;a href=&#34;https://twitter.com/danielbryantuk/status/1722034551650648507&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Keith Mattix&lt;/a&gt; ä¸»æŒçš„æœåŠ¡ç½‘æ ¼è¾©è®ºå°ç»„æ˜¯æˆ‘åœ¨ä¼šè®®ä¸Šæœ€å–œæ¬¢çš„ä¼šè¯ä¹‹ä¸€ã€‚ä¸é€šå¸¸çš„æ‰€æœ‰äººéƒ½åŒæ„çš„å½¢å¼ä¸åŒï¼Œå‚ä¸è€…æ²¡æœ‰ä¿ç•™ï¼Œå¯¼è‡´äº†ä¸€åœºæœ‰è¶£è€Œå¯Œæœ‰ä¿¡æ¯çš„è®¨è®ºï¼&lt;/p&gt;
&lt;h2 id=&#34;å®‰å…¨æ˜¯å¤§ç”Ÿæ„&#34;&gt;å®‰å…¨æ˜¯å¤§ç”Ÿæ„&lt;/h2&gt;
&lt;p&gt;æˆ‘å°†æœ€åçš„ä¸‰ä¸ªè¦ç‚¹ä¿æŒç®€çŸ­ï¼Œä½†æˆ‘æƒ³æåˆ°å±•å…é‡Œæ»¡æ˜¯å®‰å…¨è§£å†³æ–¹æ¡ˆï¼Œä»å®‰å…¨çš„ä¾›åº”é“¾è§£å†³æ–¹æ¡ˆåˆ°ç½‘ç»œå…¥ä¾µæ£€æµ‹å’Œæƒé™ç®¡ç†ã€‚è¿™ä¸ªé¢†åŸŸæœ‰å¾ˆå¤šå…´è¶£ï¼ˆå’Œèµ„é‡‘ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²è¿˜å¾ˆå¥½åœ°æ¶µç›–äº†è¿™äº›ä¸»é¢˜ï¼ŒKubeCon å…±åŒä¸»å¸­ &lt;a href=&#34;https://twitter.com/ffkiv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Frederick Kautz&lt;/a&gt; å’Œ CNCF çš„æˆå‘˜ä»¬å¼ºè°ƒäº†å®‰å…¨ï¼ˆä»¥åŠç›¸å…³çš„ CNCF é¡¹ç›®ï¼‰åœ¨ä¸»é¢˜æ¼”è®²ä¸­çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ›´åŠ å…³æ³¨å¯æŒç»­æ€§å¯è§‚æµ‹æ€§æ‰©å±•æ€§å’Œ-finops&#34;&gt;æ›´åŠ å…³æ³¨å¯æŒç»­æ€§ï¼šå¯è§‚æµ‹æ€§ã€æ‰©å±•æ€§å’Œ FinOps&lt;/h2&gt;
&lt;p&gt;å…³é”®æ¼”è®²ä¸­çªå‡ºçš„å¦ä¸€ä¸ªè¯é¢˜æ˜¯å¯æŒç»­æ€§ã€‚æœ‰ä¸€ä¸ªæœ‰è¶£çš„å°ç»„è®¨è®ºï¼šâ€œ&lt;a href=&#34;https://sched.co/1R4Tl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº‘ä¸­çš„ç¯å¢ƒå¯æŒç»­æ€§å¹¶éç¥è¯&lt;/a&gt;â€ ï¼Œç”šè‡³ AWS èµåŠ©çš„ä¸»é¢˜æ¼”è®²ä¹Ÿä¾§é‡äºè¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„è¯é¢˜ï¼Œé€šè¿‡å¯è§‚æµ‹æ€§ã€è‡ªåŠ¨æ‰©å±•å’Œ FinOps æ¥æ¢è®¨ç†è§£å’Œç›‘æ§ä½ çš„äº‘ï¼ˆç¢³ï¼‰è¶³è¿¹çš„åŸºæœ¬é©±åŠ¨å› ç´ æ˜¯å¾ˆå¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¯¹ FinOps è¿™ä¸ªä¸»é¢˜ä¸ç†Ÿæ‚‰çš„äººï¼Œæˆ‘ä» Roi Ravhon é‚£é‡Œå­¦åˆ°äº†å¾ˆå¤šï¼Œä»–åœ¨æˆ‘æœ€è¿‘ä¸ä»–å½•åˆ¶çš„ InfoQ æ’­å®¢ä¸­åˆ†äº«äº†ä¸€äº›å†…å®¹ï¼šâ€œ&lt;a href=&#34;https://www.infoq.com/podcasts/finops-cloud-cost-optimization/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Roi Ravhon è°ˆ FinOpsã€åº”ç”¨å•å…ƒç»æµå­¦å’Œäº‘æˆæœ¬ä¼˜åŒ–&lt;/a&gt;ã€‚â€&lt;/p&gt;
&lt;h2 id=&#34;ç¤¾åŒºç¤¾åŒºç¤¾åŒº&#34;&gt;ç¤¾åŒºï¼Œç¤¾åŒºï¼Œç¤¾åŒº&lt;/h2&gt;
&lt;p&gt;æˆ‘ä¸èƒ½å†™ä¸€ç¯‡ KubeCon æ€»ç»“è€Œä¸æåˆ°ç¤¾åŒºçš„åŠ›é‡ã€‚åœ¨ä¸»é¢˜æ¼”è®²ä¸­çœ‹åˆ°äº†è®¸å¤šæˆåŠŸæ•…äº‹å’Œå¥–é¡¹çœŸæ˜¯å¤ªæ£’äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å‚åŠ è¿™äº›æ´»åŠ¨çš„ä¸»è¦åŸå› ä¹‹ä¸€å°±æ˜¯ä¸ç¤¾åŒºçš„æˆå‘˜è§é¢å’Œäº¤æµã€‚èµ°å‘äº‘åŸç”Ÿçš„é“è·¯å¹¶ä¸æ€»æ˜¯å®¹æ˜“ï¼Œæˆ‘å–œæ¬¢ä¸åŒè¡Œäº¤æµæ•…äº‹ã€‚ä»Šå¹´æˆ‘æœ‰ç‚¹æ‡’ï¼Œç…§ç‰‡æ²¡æ‹å¤šå°‘ï¼Œä½†æˆ‘çš„ devrel æœ‹å‹ Marino Wijay å’Œ Daniel Oh å¸®æˆ‘æ‹äº†ä¸€äº›ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿˜æœ‰æœºä¼šä¸æˆ‘æƒ³è§çš„æ¯ä¸ªäººäº¤æµï¼ˆKubeCon å¾ˆå¿™ï¼ï¼‰ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³å®‰æ’ä¸€ä¸ª Zoom ä¼šè¯ï¼Œå¯ä»¥é€šè¿‡ç¤¾äº¤åª’ä½“ä¸æˆ‘è”ç³»ã€‚å¦åˆ™ï¼Œå¸Œæœ›æˆ‘ä»¬å¾ˆå¿«åœ¨ä¼šè®®ä¸Šè§é¢ï¼&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æ­£å¦‚æˆ‘åœ¨æ–‡ç« å¼€å¤´æåˆ°çš„ï¼Œå‚åŠ è¿™æ¬¡ KubeCon è®©æˆ‘æ„Ÿåˆ°éå¸¸æ„‰å¿«ã€‚ç¤¾åŒºå’Œå‘¨å›´çš„æ”¯æŒä½“ç³»æ˜¾ç„¶æ­£åœ¨ä¸æ–­å‘å±•ï¼Œç°åœ¨æˆ‘ä»¬é¢ä¸´çš„å›°éš¾ä»»åŠ¡æ˜¯åœ¨æ ‡å‡†åŒ–å’Œåˆ›æ–°ä¹‹é—´å–å¾—å¹³è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç›¸ä¿¡äº‘åŸç”Ÿçš„æœªæ¥å…‰æ˜æ— é™ã€‚ç„¶è€Œï¼Œæˆ‘è®¤ä¸ºæˆ‘ä»¬å°†åœ¨æœªæ¥çœ‹åˆ°æ›´å¤šç§ç±»çš„ AI/LLMs ğŸ™‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æœåŠ¡ç½‘æ ¼çš„æ§åˆ¶å¹³é¢å’Œè¾¹ç¼˜ä»£ç†çš„é‡è¦æ€§</title>
      <link>https://cloudnative.to/blog/the-importance-of-control-planes-with-service-mesh/</link>
      <pubDate>Wed, 12 Sep 2018 12:38:52 +0800</pubDate>
      <guid>https://cloudnative.to/blog/the-importance-of-control-planes-with-service-mesh/</guid>
      <description>&lt;p&gt;æœ¬æ–‡ä¸ºç¿»è¯‘æ–‡ç« ï¼Œ&lt;a href=&#34;https://dzone.com/articles/the-importance-of-control-planes-with-service-mesh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†å¸¦æ‚¨äº†è§£ä¸ºä»€ä¹ˆæœåŠ¡ç½‘æ ¼å’Œè¾¹ç¼˜ä»£ç†å¦‚æ­¤é‡è¦ä»¥åŠå®ƒä»¬ä¸æŒç»­äº¤ä»˜çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£ç°ä»£äº‘æ¶æ„å¦‚ä½•ä½¿ç”¨å¾®æœåŠ¡å…·æœ‰çš„è®¸å¤šä¼˜åŠ¿ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿä»¥ CI/CD æ–¹å¼äº¤ä»˜ä¸šåŠ¡è½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å»å¹´ï¼ŒMatt Klein å†™äº†ä¸€ç¯‡ç²¾å½©çš„åšå®¢â€œ&lt;a href=&#34;https://blog.envoyproxy.io/service-mesh-data-plane-vs-control-plane-2774e720f7fc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æœåŠ¡ç½‘æ ¼ä¸­çš„æ•°æ®å¹³é¢ä¸æ§åˆ¶å¹³é¢&lt;/a&gt;â€ã€‚å°½ç®¡æˆ‘å·²ç»å¾ˆç†Ÿæ‚‰â€œæ§åˆ¶é¢æ¿â€è¿™ä¸ªæœ¯è¯­ï¼ŒMatt å†æ¬¡åŠ æ·±äº†æˆ‘å¯¹è¿™ä¸ªæ¦‚å¿µçš„ç†è§£ä»¥åŠä¸è½¯ä»¶æŒç»­äº¤ä»˜æœ‰å…³çš„é‡è¦æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å…¥å£/è¾¹ç¼˜ç½‘å…³å’ŒæœåŠ¡ç½‘æ ¼å‘¨å›´çš„éƒ¨ç½²æ§åˆ¶ï¼ˆå’Œç»†å¾®å·®åˆ«ï¼‰æ–¹é¢ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹‹å‰å†™è¿‡å…³äºè¾¹ç¼˜ä»£ç†å’Œ API ç½‘å…³åœ¨è½¯ä»¶äº¤ä»˜ä¸­å¯ä»¥å‘æŒ¥çš„ä½œç”¨ï¼ŒæŒç»­äº¤ä»˜ï¼šAPI ç½‘å…³æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåƒ Envoy è¿™æ ·çš„ç°ä»£ä»£ç†åœ¨â€œäº‘åŸç”Ÿâ€åº”ç”¨ç¨‹åºæ“ä½œä¸­æ‰€äº§ç”Ÿçš„å½±å“ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å‡ æ¬¡è®¨è®ºã€‚æˆ‘å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œå°½ç®¡å¾®æœåŠ¡ä¸ºå…·æœ‰åŠ¨æ€ç¼–æ’çš„å®¹å™¨å’Œäº‘æŠ€æœ¯çš„ä½¿ç”¨æä¾›äº†æ–°çš„æœºä¼šï¼Œä½†æ˜¯å‰©ä¸‹çš„æ ¸å¿ƒæŒ‘æˆ˜å°±æ˜¯æ§åˆ¶å¹³é¢å¿…é¡»è¿›è¡Œè°ƒæ•´æ‰èƒ½è·Ÿä¸Šå˜åŒ–ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ§åˆ¶å¹³é¢å’Œè§’è‰²&#34;&gt;æ§åˆ¶å¹³é¢å’Œè§’è‰²&lt;/h2&gt;
&lt;p&gt;åœ¨ Matt çš„æ–‡ç« ä¸­ï¼Œä»–æŒ‡å‡ºæœåŠ¡ç½‘æ ¼æ§åˆ¶å¹³é¢â€œä¸ºç½‘æ ¼ä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„æ•°æ®å¹³é¢æä¾›ç­–ç•¥å’Œé…ç½®â€ï¼Œå¹¶ä¸”â€œæ§åˆ¶å¹³é¢å°†æ‰€æœ‰æ•°æ®å¹³é¢è½¬å˜ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿã€‚â€æœ€ç»ˆï¼Œæ§åˆ¶å¹³é¢çš„ç›®æ ‡æ˜¯è®¾ç½®å°†ç”±æ•°æ®å¹³é¢åˆ¶å®šçš„ç­–ç•¥ã€‚æ§åˆ¶å¹³é¢å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ï¼ŒAPI è°ƒç”¨å’Œç”¨æˆ·ç•Œé¢æ¥å®ç°ã€‚é€‰æ‹©çš„å®ç°æ–¹æ³•é€šå¸¸å–å†³äºç”¨æˆ·çš„è§’è‰²ï¼Œä»¥åŠä»–ä»¬çš„ç›®æ ‡å’ŒæŠ€æœ¯èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œäº§å“æ‰€æœ‰è€…å¯èƒ½æƒ³è¦åœ¨åº”ç”¨ç¨‹åºä¸­å‘å¸ƒæ–°åŠŸèƒ½ï¼Œè¿™é‡Œ UI é€šå¸¸æ˜¯æœ€åˆé€‚çš„æ§åˆ¶å¹³é¢ï¼Œå› ä¸ºè¿™å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿçš„å¯ç†è§£è§†å›¾å¹¶ä¸”è¿˜æä¾›ä¸€äº›å¯¼è½¨ã€‚ä½†æ˜¯ï¼Œå¯¹äºæƒ³è¦é…ç½®ä¸€ç³»åˆ—ä½çº§é˜²ç«å¢™è§„åˆ™çš„ç½‘ç»œè¿ç»´äººå‘˜ï¼Œä½¿ç”¨ CLI æˆ–é…ç½®æ–‡ä»¶å°†æä¾›æ›´ç»†ç²’åº¦ï¼ˆé«˜çº§ç”¨æˆ·é£æ ¼ï¼‰æ§åˆ¶ï¼Œå¹¶ä¸”è¿˜ä¾¿äºè‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;æ§åˆ¶å¹³é¢çš„é€‰æ‹©ä¹Ÿå¯èƒ½å—æ‰€éœ€æ§åˆ¶èŒƒå›´çš„å½±å“ã€‚æˆ‘çš„åŒäº‹&lt;a href=&#34;https://www.infoq.com/news/2017/11/service-oriented-development&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Rafi ä¹‹å‰åœ¨ QCon SF è®¨è®ºè¿‡è¿™ä¸ªé—®é¢˜&lt;/a&gt;ï¼Œé›†ä¸­æˆ–åˆ†æ•£è¿ç»´çš„è¦æ±‚è‚¯å®šä¼šå½±å“æ§åˆ¶å¹³é¢çš„å®æ–½ã€‚è¿™ä¹Ÿç›´æ¥å…³ç³»åˆ°æ§åˆ¶å½±å“åº”è¯¥æ˜¯æœ¬åœ°çš„è¿˜æ˜¯å…¨å±€çš„ã€‚ä¾‹å¦‚ï¼Œè¿ç»´å›¢é˜Ÿå¯èƒ½å¸Œæœ›æŒ‡å®šå…¨å±€åˆç†çš„é»˜è®¤å€¼å’Œå®‰å…¨æªæ–½ã€‚ä½†æ˜¯ï¼Œåœ¨å‰çº¿å·¥ä½œçš„å¼€å‘å›¢é˜Ÿéœ€è¦å¯¹å…¶æœ¬åœ°æœåŠ¡è¿›è¡Œç»†ç²’åº¦æ§åˆ¶ï¼Œå¹¶ä¸”å¯èƒ½ï¼ˆå¦‚æœä»–ä»¬æ­£åœ¨æ¥å—â€œè‡ªç”±å’Œè´£ä»»â€æ¨¡å¼ï¼‰è¦†ç›–å®‰å…¨æªæ–½çš„èƒ½åŠ›ã€‚Matt è¿˜åœ¨æœ€è¿‘çš„&lt;a href=&#34;https://www.infoq.com/news/2018/07/qcon-klein-service-mesh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;QCon çº½çº¦æ¼”è®²&lt;/a&gt;ä¸­è°ˆåˆ°äº†æœ¬åœ°/å…¨å±€äº’åŠ¨ï¼Œå¹¶å±•ç¤ºäº†Lyftå›¢é˜Ÿä¸ºæœåŠ¡åˆ°æœåŠ¡å’Œè¾¹ç¼˜/å…¥å£ä»£ç†åˆ›å»ºçš„ä»ªè¡¨æ¿ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/the-importance-of-control-planes-with-service-mesh/006tNbRwgy1fv6sw7u1sxj30m80p577s_hue93806e6243b47c11bf7c67b62fcd7ee_94151_7664f5cc97c379c6f8947347a5b718b2.webp 400w,
               /blog/the-importance-of-control-planes-with-service-mesh/006tNbRwgy1fv6sw7u1sxj30m80p577s_hue93806e6243b47c11bf7c67b62fcd7ee_94151_08ccba45c8a44a4d25b4d2fde042ed84.webp 760w,
               /blog/the-importance-of-control-planes-with-service-mesh/006tNbRwgy1fv6sw7u1sxj30m80p577s_hue93806e6243b47c11bf7c67b62fcd7ee_94151_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/the-importance-of-control-planes-with-service-mesh/006tNbRwgy1fv6sw7u1sxj30m80p577s_hue93806e6243b47c11bf7c67b62fcd7ee_94151_7664f5cc97c379c6f8947347a5b718b2.webp&#34;
               width=&#34;672&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;ä¸œè¥¿å‘æµé‡ä¸å—åŒ—å‘æµé‡&#34;&gt;ä¸œè¥¿å‘æµé‡ä¸å—åŒ—å‘æµé‡&lt;/h2&gt;
&lt;p&gt;è½¯ä»¶åº”ç”¨ä¸­æµé‡æœ‰ä¸¤ç§å…¸å‹åˆ†ç±»ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯å—åŒ—å‘æµé‡ï¼Œé€šå¸¸ç§°ä¸ºå…¥å£æµé‡ï¼Œæµé‡æµå‘å¤–éƒ¨ç³»ç»Ÿæˆ–è€…å¤–éƒ¨æœåŠ¡è°ƒç”¨å†…éƒ¨ç³»ç»Ÿã€‚å¦å¤–ä¸€ä¸ªæ˜¯ä¸œè¥¿å‘æµé‡ï¼Œé€šå¸¸ç§°ä¸ºæ•°æ®ä¸­å¿ƒå†…éƒ¨æµé‡ï¼Œè¿™æ˜¯åœ¨ï¼ˆå¯èƒ½æ˜¯è™šæ‹ŸåŒ–çš„ï¼‰å†…éƒ¨ç½‘ç»œè¾¹ç•Œå†…æµåŠ¨çš„æµé‡&lt;/p&gt;
&lt;p&gt;æ‰€è°“ä¸œè¥¿å‘ï¼Œå¤§å®¶èƒ½ç†è§£å§ï¼Ÿä¸œè¥¿å‘æŒ‡æœåŠ¡é—´é€šè®¯ï¼Œä¹Ÿå°±æ˜¯ A æœåŠ¡è°ƒç”¨ B æœåŠ¡ã€‚å¯¹åº”çš„è¿˜æœ‰å—åŒ—å‘ï¼Œå—åŒ—å‘é€šå¸¸æ˜¯æŒ‡ä»å¤–éƒ¨ç½‘ç»œè¿›æ¥è°ƒç”¨æœåŠ¡ï¼Œå¦‚èµ° API Gateway è°ƒç”¨æœåŠ¡ã€‚åœ¨ä¸œè¥¿å‘é€šè®¯ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šéœ€è¦ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„é€”å¾„ï¼Œæ¯”å¦‚è¯´åœ¨è¿™ä¸ªå›¾ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªé›†ç¾¤ï¼Œä¸¤ä¸ªé›†ç¾¤å„æœ‰å„è‡ªçš„æœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚æˆ‘ä»¬é€šè¿‡å¢å¼º Pilot çš„æ–¹å¼æ‰“é€šä¸¤ä¸ªæ³¨å†Œä¸­å¿ƒï¼Œå¯ä»¥çŸ¥é“å¯¹æ–¹æœ‰ä»€ä¹ˆæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/the-importance-of-control-planes-with-service-mesh/00704eQkgy1fsy0kakg35j30qo0f0dpi_huda81314663064cc0e01f4d9721dba08c_100771_5bc2e6905e485456be5f31ec9a4b54de.webp 400w,
               /blog/the-importance-of-control-planes-with-service-mesh/00704eQkgy1fsy0kakg35j30qo0f0dpi_huda81314663064cc0e01f4d9721dba08c_100771_1165d2020628bbbf4c58f16b26195d5e.webp 760w,
               /blog/the-importance-of-control-planes-with-service-mesh/00704eQkgy1fsy0kakg35j30qo0f0dpi_huda81314663064cc0e01f4d9721dba08c_100771_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/the-importance-of-control-planes-with-service-mesh/00704eQkgy1fsy0kakg35j30qo0f0dpi_huda81314663064cc0e01f4d9721dba08c_100771_5bc2e6905e485456be5f31ec9a4b54de.webp&#34;
               width=&#34;760&#34;
               height=&#34;428&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å›¾ç‰‡æ¥è‡ªæ•–å°å‰‘çš„åˆ†äº«&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç°ä»£äº‘åŸç”Ÿåº”ç”¨ç¨‹åºä¸­ï¼Œä¸¤ä¸ªç‹¬ç«‹çš„ç»„ä»¶é€šå¸¸æ§åˆ¶è¿™äº›æµé‡ï¼šAPI ç½‘å…³æˆ–è¾¹ç¼˜ä»£ç†å¤„ç†å—åŒ—æµé‡ï¼Œç›¸å¯¹çš„ service mesh å¤„ç†ä¸œè¥¿å‘æµé‡ã€‚åœ¨ Kubernetes åŸŸå†…ï¼ŒAmbassador å¼€æº API ç½‘å…³å¯ä»¥å¤„ç†å…¥å£æµé‡ï¼Œè€Œ&lt;a href=&#34;https://istio.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Istio&lt;/a&gt;å¼€æ”¾å¹³å°å¯ä»¥å¤„ç†è·¨æœåŠ¡æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå—åŒ—å‘å’Œä¸œè¥¿å‘ä»£ç†ç»„ä»¶ï¼Œåº•å±‚ç½‘ç»œæŠ€æœ¯å¯ä»¥æ˜¯ç›¸åŒçš„ï¼ˆä¾‹å¦‚ä½¿ç”¨&lt;a href=&#34;https://www.envoyproxy.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Envoy&lt;/a&gt;ï¼‰ã€‚ä½†æ˜¯ï¼Œæ§åˆ¶å¹³é¢é€šå¸¸æ˜¯ä¸åŒçš„ï¼ŒåŸºäºä¸ç³»ç»Ÿäº¤äº’çš„è§’è‰²ã€‚&lt;/p&gt;
&lt;p&gt;Ambassador æ§åˆ¶é¢æ¿çš„ä¸»è¦ç›®æ ‡æ˜¯å¼€å‘äººå‘˜ï¼Œå¹¶å…è®¸å°†ç®€å•çš„æ³¨é‡Šæ·»åŠ åˆ° Kubernetes é…ç½®ä¸­ä»¥æ§åˆ¶æ ¸å¿ƒéƒ¨ç½²åŠŸèƒ½ï¼Œå¦‚è·¯ç”±ã€é‡‘ä¸é›€å‘å¸ƒã€é€Ÿç‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Istio å…³æ³¨çš„ä¸»è¦è§’è‰²æ˜¯è¿ç»´äººå‘˜ï¼Œå¹¶ä¸”æ§åˆ¶å¹³é¢å…è®¸æŒ‡å®šé¢å¤–çš„ Kubernetes èµ„æºä»¥ä¿ƒè¿›æµé‡ç®¡ç†ï¼ˆåŒ…æ‹¬æ•…éšœæ³¨å…¥ï¼‰ã€å®‰å…¨ï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶å’Œè®¤è¯å®‰å…¨ï¼‰å’Œé¥æµ‹ï¼ˆåŒ…æ‹¬åˆ†å¸ƒå¼è¿½è¸ªå’Œå„ç›‘æ§æŒ‡æ ‡ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»“è®ºåˆ†æ­§æˆ–è¶‹åŒ&#34;&gt;ç»“è®ºï¼šåˆ†æ­§æˆ–è¶‹åŒ&lt;/h2&gt;
&lt;p&gt;Lyft ä½¿ç”¨ Envoy ä½œä¸ºè¾¹ç¼˜ä»£ç†å’Œ service meshï¼Œæˆ‘è¿˜å¬åˆ°æœ‰å·¥ç¨‹å¸ˆä½¿ç”¨ Ambassador æ¥ç®¡ç†æœåŠ¡é—´ï¼ˆä¸œè¥¿å‘ï¼‰é€šä¿¡çš„æŠ¥é“ï¼Œä»¥åŠ Istio å¤„ç†å…¥å£æµé‡ï¼ˆç”šè‡³åœ¨&lt;a href=&#34;https://www.infoq.com/news/2018/08/istio-1.0-service-mesh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;v1.0 å‘å¸ƒ&lt;/a&gt;çš„æ–°ç½‘å…³åŠŸèƒ½ä¹‹å‰ï¼‰ï¼Œç„¶è€Œï¼Œç›®å‰ Ambassador å’Œ Istio æ‰€ä»£è¡¨çš„ä»£ç†æŠ€æœ¯æ§åˆ¶å¹³é¢çš„ä¸¤ç§æ–¹æ³•ä¼¼ä¹ä¸ºå¼€å‘å’Œè¿ç»´å„è‡ªçš„è§’è‰²æä¾›äº†å¥½å¤„ã€‚é‰´äºæˆ‘ä»¬å¯¹ç°ä»£å®¹å™¨ç½‘ç»œçš„æ•´ä½“çŸ¥è¯†å’Œç»éªŒçŠ¶å†µï¼Œæˆ‘è¿˜ä¸ç¡®ä¿¡æœ‰ä¸€ä¸ªç®€å•çš„ä¸€åˆ€åˆ‡è§£å†³æ–¹æ¡ˆã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºåœ¨ç”¨äºç®¡ç†å—åŒ—å’Œä¸œè¥¿æµé‡çš„ç»Ÿä¸€æ§åˆ¶å¹³é¢ç»ˆæè§£å†³æ–¹æ¡ˆå‡ºç°ä¹‹å‰å¯èƒ½å‡ºç°åˆ†æ­§ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é€Ÿç‡é™åˆ¶ç³»åˆ— part4â€”ä¸º Ambassador API ç½‘å…³è®¾è®¡é€Ÿç‡é™åˆ¶æœåŠ¡</title>
      <link>https://cloudnative.to/blog/designing-a-rate-limiting-service-for-ambassador-part-4/</link>
      <pubDate>Wed, 11 Jul 2018 15:32:40 +0800</pubDate>
      <guid>https://cloudnative.to/blog/designing-a-rate-limiting-service-for-ambassador-part-4/</guid>
      <description>&lt;p&gt;æœ¬æ–‡ä¸ºç¿»è¯‘æ–‡ç« ï¼Œ&lt;a href=&#34;https://blog.getambassador.io/designing-a-rate-limiting-service-for-ambassador-f460e9fabedb&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.getambassador.io/rate-limiting-a-useful-tool-with-distributed-systems-6be2b1a4f5f4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å…ˆå‰&lt;/a&gt;å…³äºé€Ÿç‡é™åˆ¶æ–‡ç« ä¸»è¦æè¿°å¦‚ä½•æ„å»ºå¹¶éƒ¨ç½²åŸºäº Java çš„é€Ÿç‡é™åˆ¶æœåŠ¡ï¼Œè¯¥æœåŠ¡å¯ä»¥å’Œå¼€æºçš„ Ambassador API ç½‘å…³ä»¥åŠ Kubernetes é›†æˆï¼ˆæ–‡ç« çš„&lt;a href=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1&#34;&gt;ç¬¬ 1 éƒ¨åˆ†&lt;/a&gt;å’Œ&lt;a href=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2&#34;&gt;ç¬¬ 2 éƒ¨åˆ†&lt;/a&gt;è¯·è§è¿™é‡Œï¼‰ã€‚å¤§å®¶æˆ–è®¸ä¼šç–‘æƒ‘æ€ä¹ˆæ ·æ‰èƒ½æ›´å¥½åœ°è®¾è®¡é€Ÿç‡é™åˆ¶æœåŠ¡ï¼Œå°¤å…¶æ˜¯å¦‚ä½•ä¿è¯ Ambassador ä»¥åŠå…¶åº•å±‚çš„ Envoy ä»£ç†çš„çµæ´»æ€§ï¼Ÿè¿™ç¯‡æ–‡ç« å°†ç»™å¤§å®¶å¯å‘ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è®¾ç½®åœºæ™¯&#34;&gt;è®¾ç½®åœºæ™¯&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ è¿˜æ²¡æœ‰é˜…è¯»è¿™ä¸ªç³»åˆ—çš„ç¬¬ 3 éƒ¨åˆ†â€œ&lt;a href=&#34;https://cloudnative.to/blog/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-part3&#34;&gt;åŸºäº Ambassador API ç½‘å…³å®ç° Java é€Ÿç‡é™åˆ¶æœåŠ¡&lt;/a&gt;â€ï¼Œæˆ‘å»ºè®®ä½ å…ˆé˜…è¯»ï¼ˆæ–‡ç« çš„&lt;a href=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1&#34;&gt;ç¬¬ 1 éƒ¨åˆ†&lt;/a&gt;å’Œ&lt;a href=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2&#34;&gt;ç¬¬ 2 éƒ¨åˆ†&lt;/a&gt;è¯·è§è¿™é‡Œï¼‰ã€‚å…¶ä¸­æœ€å…³é”®çš„æ˜¯&lt;a href=&#34;https://www.getambassador.io/reference/services/rate-limit-service&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ambassador API ç½‘å…³&lt;/a&gt;ï¼Œå…¶å°±åƒå…¶åº•å±‚ä½¿ç”¨çš„&lt;a href=&#34;https://www.envoyproxy.io/docs/envoy/latest/api-v1/route_config/rate_limits&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Envoy ä»£ç†&lt;/a&gt;ä¸€æ ·ï¼Œé€šè¿‡è¯·æ±‚å¦ä¸€ä¸ªæœåŠ¡æ¥å†³å®šä¸€ä¸ªè¯·æ±‚çš„é€Ÿç‡æ˜¯å¦éœ€è¦è¢«é™åˆ¶ã€‚è¿™æ˜¯å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆå’Œå•ä¸€åŸåˆ™ï¼‰è®¾è®¡çš„è‰¯å¥½å®ç°ã€‚åŒæ—¶ç”±äº Ambassador å¯ä½œä¸º Kubernetes åŸç”Ÿ API ç½‘å…³ï¼Œå› æ­¤ä½ å¯ä»¥å¾ˆæ–¹ä¾¿å°† rate limiter éƒ¨ç½²ä¸º Kubernetes åŸºç¡€æœåŠ¡ï¼Œç”¨æ¥ç®¡ç†å¹³å°çš„å®¹é”™ç‰¹æ€§ï¼ŒåŒæ—¶å…¶ä¹Ÿå¾ˆå®¹æ˜“è¿›è¡Œæ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹æ–‡å‡è®¾ä½ å·²æˆåŠŸå°† Ambassador éƒ¨ç½²è¿› Kubernetes é›†ç¾¤ï¼ŒåŒæ—¶ä¹Ÿæ ¹æ®æˆ‘å…ˆå‰æ–‡ç« ä¸­æ‰€æè¿°çš„é‚£æ ·å®Œæˆé€Ÿç‡é™åˆ¶æœåŠ¡éƒ¨ç½²ã€‚ä»¥ä¸‹æ˜¯åŸºäº Java å¼€å‘çš„é€Ÿç‡é™åˆ¶æœåŠ¡å…¶æ‰€ä½¿ç”¨çš„ Kubernetes é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    getambassador.io/config: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      apiVersion: ambassador/v0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      kind: RateLimitService
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name: ratelimiter_svc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      service: &lt;span class=&#34;s2&#34;&gt;&amp;#34;ratelimiter:50051&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  type: ClusterIP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  selector:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - protocol: TCP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    port: &lt;span class=&#34;m&#34;&gt;50051&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    name: http
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: apps/v1beta2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Deployment
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  replicas: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  selector:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    matchLabels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      app: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  template:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        app: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      containers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: ratelimiter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        image: danielbryantuk/ratelimiter:0.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - containerPort: &lt;span class=&#34;m&#34;&gt;50051&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æè¿°ç¬¦descriptor&#34;&gt;æè¿°ç¬¦ï¼ˆdescriptorï¼‰&lt;/h2&gt;
&lt;p&gt;Ambassador ä¸­é€Ÿç‡é™åˆ¶åŠŸèƒ½çš„çµæ´»æ€§ä¸»è¦é€šè¿‡åœ¨ Kubernetes é…ç½®ä¸ŠæŒ‡å®šæè¿°ç¬¦å’Œè¯·æ±‚å¤´å®ç°ï¼Œè¿™äº›å‚æ•°ä¼šè¢«ä¼ é€’åˆ°é€Ÿç‡é™åˆ¶æœåŠ¡å®ä¾‹ä¸­ã€‚ä»¥ä¸‹æ–‡ä¸ºä¾‹ï¼Œé¦–å…ˆçœ‹ä¸€ä¸‹å…ˆå‰æ–‡ç« ä¸­æ¢è®¨è¿‡çš„ my shopfront åº”ç”¨ç¨‹åºçš„ Ambassador é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    service: ambassador
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: ambassador
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    getambassador.io/config: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      apiVersion: ambassador/v0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      kind:  Mapping
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name:  shopfront_stable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      prefix: /shopfront/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      service: shopfront:8010
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      rate_limits:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - descriptor: Example descriptor
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          headers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - &lt;span class=&#34;s2&#34;&gt;&amp;#34;X-MyHeader&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - descriptor: Y header descriptor
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          headers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - &lt;span class=&#34;s2&#34;&gt;&amp;#34;Y-MyHeader&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°åœ¨ rate_limits é…ç½®ä¸­æœ‰ä¸¤ä¸ª YAML å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸åŒçš„æè¿°ç¬¦å’Œè¯·æ±‚å¤´ã€‚æ ¹æ®&lt;a href=&#34;https://www.getambassador.io/user-guide/rate-limiting-tutorial#2-configure-ambassador-mappings&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ambassador é€Ÿç‡é™åˆ¶&lt;/a&gt;æ–‡æ¡£ä¸­æ‰€è¿°ï¼Œå½“è¯·æ±‚å¤´åœ¨é…ç½®ä¸­å®šä¹‰ï¼Œå¹¶å‡ºç°åœ¨è¯·æ±‚å…ƒæ•°æ®ä¸­ï¼Œå…¶æ‰èƒ½è¢«é€Ÿç‡é™åˆ¶ã€‚æ¯”å¦‚è¯´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè®¿é—® shopfront çš„è¯·æ±‚æ²¡æœ‰åŒ…å«è¯·æ±‚å¤´ï¼Œå…¶å°±ä¸ç¬¦åˆé€Ÿç‡é™åˆ¶æ¡ä»¶ï¼ˆå³ä¸ä¼šå¯¹åœ¨ Ambassador çš„å…¶ä»–é…ç½®ä¸­æ‰€å®šä¹‰çš„é€Ÿç‡é™åˆ¶æœåŠ¡ç”Ÿæ•ˆï¼‰&lt;/li&gt;
&lt;li&gt;é€šè¿‡è¯·æ±‚å¤´â€œX-MyHeader:123â€å‘ shopfront æœåŠ¡å‘å‡ºçš„è¯·æ±‚å¯èƒ½å—åˆ°é€Ÿç‡é™åˆ¶ã€‚é€Ÿç‡é™åˆ¶æœåŠ¡å°†æ¥æ”¶ä¸â€œX-MyHeaderâ€è¯·æ±‚å¤´ç›¸åŒ¹é…çš„ rate_limits å…ƒç´ æ‰€å…³è”çš„æè¿°ç¬¦ä¿¡æ¯ï¼Œå¹¶ä»¥â€œgeneric_keyâ€ä¸ºåï¼Œè¿™é‡Œå€¼ä¸ºâ€œExample descriptorâ€ã€‚å› æ­¤ï¼Œé€Ÿç‡é™åˆ¶æœåŠ¡å°†æ”¶åˆ°å¦‚ä¸‹è¯·æ±‚å…ƒæ•°æ®ï¼š[{â€œgeneric_keyâ€,â€œExample descriptorâ€},{â€œX-MyHeaderâ€,â€123â€}]&lt;/li&gt;
&lt;li&gt;é€šè¿‡è¯·æ±‚å¤´â€œY-MyHeader:ABCâ€å‘ shopfront æœåŠ¡å‘å‡ºçš„è¯·æ±‚å¯èƒ½å—åˆ°é€Ÿç‡é™åˆ¶ã€‚é€Ÿç‡é™åˆ¶æœåŠ¡å°†æ¥æ”¶ä¸â€œY-MyHeaderâ€è¯·æ±‚å¤´ç›¸åŒ¹é…çš„ rate_limits å…ƒç´ æ‰€å…³è”çš„æè¿°ç¬¦ä¿¡æ¯ï¼Œå¹¶ä»¥â€œgeneric_keyâ€ä¸ºåï¼Œè¿™é‡Œå€¼ä¸ºâ€œY header descriptorâ€ã€‚å› æ­¤ï¼Œé€Ÿç‡é™åˆ¶æœåŠ¡å°†æ”¶åˆ°å¦‚ä¸‹è¯·æ±‚å…ƒæ•°æ®ï¼š[{â€œgeneric_keyâ€,â€œY header descriptorâ€},{â€œY-MyHeaderâ€,â€ABCâ€}]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ˜¯å¦è¿›è¡Œé€Ÿç‡é™åˆ¶æ˜¯ç”±é€Ÿç‡é™åˆ¶æœåŠ¡å†³å®šçš„ï¼Œè¯¥æœåŠ¡åªéœ€åœ¨ Envoy çš„&lt;a href=&#34;https://github.com/envoyproxy/envoy/blob/master/source/common/ratelimit/ratelimit.proto&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ratelimit.proto&lt;/a&gt; gRPC æ¥å£ä¸­è¿”å›çš„é€‚å½“å€¼ï¼šOK, OVER_LIMIT æˆ– UNKNOWN å³å¯ã€‚æ ¹æ®ä¸Šæ–‡æè¿°ï¼Œä½ å¯ä»¥åœ¨ä¸¤ä¸ªåœ°æ–¹æ·»åŠ åŒ…å«æè¿°ç¬¦å’Œè¯·æ±‚å¤´çš„è¯·æ±‚å…ƒæ•°æ®ï¼Œä½¿å…¶å¯åœ¨é€Ÿç‡é™åˆ¶æœåŠ¡ä¸­ä½¿ç”¨ï¼šå¯ä»¥åœ¨éƒ¨ç½²æ—¶æ·»åŠ åˆ° Ambassador Kubernetes é…ç½®ä¸­ï¼›æˆ–åœ¨ç¨‹åºè¿è¡Œæ—¶æ·»åŠ ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é€Ÿç‡é™åˆ¶æœåŠ¡å…ƒæ•°æ®æ ·ä¾‹&#34;&gt;é€Ÿç‡é™åˆ¶æœåŠ¡å…ƒæ•°æ®æ ·ä¾‹&lt;/h2&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ã€‚å‡è®¾ä½ çš„ä¼ä¸šå·²ç»åˆ›å»ºäº†ä¸€ä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºï¼Œè¯¥ç¨‹åºé€šè¿‡ Ambassador API ç½‘å…³ä¸åç«¯æœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œå¹¶ä¸”ä½ å¸Œæœ›å¯¹æ™®é€šç”¨æˆ·å’Œæµ‹è¯•ç”¨æˆ·ä½¿ç”¨ä¸åŒçš„è§„åˆ™è¿›è¡Œé€Ÿç‡é™åˆ¶ï¼ŒåŒæ—¶ä½ ä¹Ÿå¸Œæœ›å¯¹æœªè®¤è¯ç”¨æˆ·ä¹Ÿè¿™ä¹ˆè¿›è¡Œã€‚ä½ å¯ä»¥åœ¨è¯·æ±‚å¤´ä¸­è®¿é—® UserID å’Œ UserType æ•°æ®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    service: BackendService
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: BackendService
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    getambassador.io/config: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      apiVersion: ambassador/v0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      kind:  Mapping
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name:  backend_app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      prefix: /app/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      service: backend_app:8010
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      rate_limits:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - descriptor: Mobile app ingress - authenticated
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          headers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            -&lt;span class=&#34;s2&#34;&gt;&amp;#34;UserID&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            -&lt;span class=&#34;s2&#34;&gt;&amp;#34;UserType&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        - descriptor: Mobile app ingress - unauthenticated
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»»ä½•åŒ…å«è¯·æ±‚å¤´â€œUserIDâ€å’Œâ€œUserTypeâ€çš„è¯·æ±‚éƒ½å°†è¢«è½¬å‘åˆ°é€Ÿç‡é™åˆ¶æœåŠ¡ï¼ŒåŒæ—¶è¯·æ±‚ä¹ŸåŒ…å«ï¼ˆgeneric_keyï¼‰æè¿°ç¬¦â€œMobile app ingress - authenticatedâ€ã€‚æœªåŒ…å«è¯·æ±‚å¤´çš„è¯·æ±‚ä¼šè¢«ç¬¬äºŒä¸ªæè¿°ç¬¦æ•è·ï¼Œå¹¶è¢«è½¬å‘åˆ°åªåŒ…å«ï¼ˆgeneric_keyï¼‰æè¿°ç¬¦â€œMobile app ingress - unauthenticatedâ€çš„é€Ÿç‡é™åˆ¶æœåŠ¡ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡ä»»æ„è¯­è¨€çš„ç®—æ³•å®ç°ä¸Šè¿°é€Ÿç‡é™åˆ¶åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æ­£åœ¨è€ƒè™‘&lt;a href=&#34;https://eng.lyft.com/announcing-ratelimit-c2e8f3182555&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inspiration&lt;/a&gt;ï¼Œæˆ–&lt;a href=&#34;https://github.com/lyft/ratelimit&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç°æˆå¯ç”¨çš„ Ambassador é™é€ŸæœåŠ¡&lt;/a&gt;ï¼Œè¯·åŠ¡å¿…ç•™å¿ƒ Envoy æ–‡æ¡£å’Œ Lyft GitHub åº“ã€‚å°¤å…¶æ˜¯ Lyft å‚è€ƒ Envoy æ‰€å®ç°çš„&lt;a href=&#34;https://github.com/lyft/ratelimit&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;é€Ÿç‡é™åˆ¶&lt;/a&gt;æ–¹æ¡ˆéå¸¸å®ç”¨ï¼Œå®ƒæ—¢å¯ä½œä¸ºå¯æ’æ‹”çš„è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè§£å†³æ–¹æ¡ˆçš„æŒ‡å—ç”¨äºåœ¨è‡ªå®šä¹‰é€Ÿç‡é™åˆ¶æœåŠ¡ä¸­å®ç°é…ç½®åŠ è½½å’Œè¿è¡Œæ—¶åŠ è½½ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨å…ˆå‰æ–‡ç« â€œ&lt;a href=&#34;https://blog.getambassador.io/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-e09d542455da&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;åŸºäº Ambassador API ç½‘å…³å®ç° Java é€Ÿç‡é™åˆ¶æœåŠ¡&lt;/a&gt;â€ä¸­æ‰¾åˆ°æœ‰å…³åœ¨ Kubernetes ä¸­å®‰è£… Ambassador API ç½‘å…³å’Œé…ç½®é€Ÿç‡é™åˆ¶çš„æ•™ç¨‹ã€‚åŒæ ·ï¼Œæ¬¢è¿ä½ åœ¨&lt;a href=&#34;https://gitter.im/datawire/ambassador&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ambassador Gitter&lt;/a&gt;æé—®ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é€Ÿç‡é™åˆ¶ part3â€”åŸºäº Ambassador API ç½‘å…³å®ç° Java é€Ÿç‡é™åˆ¶æœåŠ¡</title>
      <link>https://cloudnative.to/blog/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-part3/</link>
      <pubDate>Wed, 04 Jul 2018 12:26:02 +0800</pubDate>
      <guid>https://cloudnative.to/blog/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-part3/</guid>
      <description>&lt;p&gt;æœ¬æ–‡ä¸ºç¿»è¯‘æ–‡ç« ï¼Œ&lt;a href=&#34;https://blog.getambassador.io/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-e09d542455da&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäº Kubernetes äº‘åŸç”Ÿçš„&lt;a href=&#34;https://www.getambassador.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ambassador API&lt;/a&gt;ç½‘å…³æ‰€æä¾›çš„é€Ÿç‡é™åˆ¶åŠŸèƒ½æ˜¯å®Œå…¨å¯å®šåˆ¶çš„ï¼Œå…¶å…è®¸ä»»ä½•å®ç° gRPC æœåŠ¡ç«¯ç‚¹çš„æœåŠ¡è‡ªè¡Œå†³å®šæ˜¯å¦éœ€è¦å¯¹è¯·æ±‚è¿›è¡Œé™åˆ¶ã€‚æœ¬æ–‡åœ¨å…ˆå‰&lt;a href=&#34;rate-limiting-a-useful-tool-with-distributed-systems-part1.md&#34;&gt;ç¬¬ 1 éƒ¨åˆ†&lt;/a&gt;å’Œ&lt;a href=&#34;rate-limiting-for-api-gateway-daniel-bryant-part2.md&#34;&gt;ç¬¬ 2 éƒ¨åˆ†&lt;/a&gt;çš„åŸºç¡€ä¸Šï¼Œé˜è¿°å¦‚ä½•ä¸º Ambassador API ç½‘å…³åˆ›å»ºå’Œéƒ¨ç½²ç®€å•çš„åŸºäº Java çš„é€Ÿç‡é™åˆ¶æœåŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;éƒ¨ç½²-docker-java-shop&#34;&gt;éƒ¨ç½² Docker Java Shop&lt;/h2&gt;
&lt;p&gt;åœ¨æˆ‘ä¹‹å‰çš„æ•™ç¨‹â€œ&lt;a href=&#34;https://blog.getambassador.io/deploying-java-apps-with-kubernetes-and-the-ambassador-api-gateway-c6e9d9618f1b&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä½¿ç”¨ Kubernetes å’Œ Ambassador API ç½‘å…³éƒ¨ç½² Java åº”ç”¨&lt;/a&gt;â€ä¸­ï¼Œæˆ‘å°†å¼€æºçš„ Ambassador API ç½‘å…³æ·»åŠ åˆ°ç°æœ‰çš„ä¸€ä¸ªéƒ¨ç½²äº Kubernetes çš„ Javaï¼ˆSpring Boot å’Œ Dropwizardï¼‰æœåŠ¡ä¸­ã€‚å¦‚æœä½ ä¹‹å‰ä¸äº†è§£è¿™ä¸ªï¼Œå»ºè®®ä½ å…ˆé˜…è¯»ä¸‹æ­¤æ•™ç¨‹åŠå…¶ä»–ç›¸å…³å†…å®¹æ¥ç†Ÿæ‚‰åŸºç¡€çŸ¥è¯†ã€‚
æœ¬æ–‡å‡å®šä½ ç†Ÿæ‚‰å¦‚ä½•æ„å»ºåŸºäº Java çš„å¾®æœåŠ¡å¹¶å°†å…¶éƒ¨ç½²åˆ° Kubernetesï¼ŒåŒæ—¶å·²ç»å®Œæˆå®‰è£…æ‰€æœ‰çš„å¿…å¤‡ç»„ä»¶ï¼ˆæˆ‘åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨&lt;a href=&#34;https://docs.docker.com/docker-for-mac/edge-release-notes/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Docker for Mac Edge&lt;/a&gt;ï¼Œå¹¶å¯ç”¨å…¶å†…ç½®çš„ Kubernetes æ”¯æŒã€‚è‹¥ä½¿ç”¨ minikube æˆ–è¿œç¨‹ç¾¤é›†åº”è¯¥ä¹Ÿç±»ä¼¼ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…ˆå†³æ¡ä»¶&#34;&gt;å…ˆå†³æ¡ä»¶&lt;/h2&gt;
&lt;p&gt;éœ€è¦åœ¨æœ¬åœ°å®‰è£…ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker for Desktopï¼šæˆ‘ä½¿ç”¨ edge community edition (18.04.0-ce)ï¼Œå†…ç½®äº†å¯¹æœ¬åœ° Kubernetes é›†ç¾¤çš„æ”¯æŒã€‚ç”±äº Java åº”ç”¨å¯¹å†…å­˜æœ‰ä¸€å®šè¦æ±‚ï¼Œæˆ‘è¿˜å°† Docker å¯ç”¨å†…å­˜å¢åŠ åˆ° 8Gã€‚&lt;/li&gt;
&lt;li&gt;ç¼–è¾‘å™¨é€‰æ‹©ï¼šAtom æˆ–è€… VS codeï¼›å½“å†™ Java ä»£ç æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ IntelliJã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨è¿™é‡Œè·å–æœ€æ–°ç‰ˆæœ¬çš„â€œDocker Java Shopâ€æºä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/danielbryantuk/oreilly-docker-java-shopping&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/danielbryantuk/oreilly-docker-java-shopping&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ SSH å…‹éš†ä»“åº“ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ git clone git@github.com:danielbryantuk/oreilly-docker-java-shopping.git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¬¬ä¸€é˜¶æ®µçš„æœåŠ¡å’Œéƒ¨ç½²æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-ç¬¬ä¸€é˜¶æ®µæ¶æ„&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://raw.githubusercontent.com/servicemesher/website/master/content/blog/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-part3/78a165e1gy1fsvwpjxbzuj20hi0gjdga.jpg&#34; alt=&#34;ç¬¬ä¸€é˜¶æ®µæ¶æ„&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ç¬¬ä¸€é˜¶æ®µæ¶æ„
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒDocker Java Shopping åº”ç”¨ç¨‹åºä¸»è¦ç”±ä¸‰ä¸ªæœåŠ¡ç»„æˆã€‚åœ¨å…ˆå‰çš„æ•™ç¨‹ä¸­ï¼Œä½ å·²ç»æ·»åŠ  Ambassador API ç½‘å…³ä½œä¸ºç³»ç»Ÿçš„â€œfront doorâ€ï¼ˆå¤§é—¨ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒAmbassador API ç½‘å…³ç›´æ¥ä½¿ç”¨ Web 80 å·ç«¯å£ï¼Œå› æ­¤éœ€è¦ç¡®ä¿æœ¬åœ°è¿è¡Œçš„å…¶ä»–åº”ç”¨æ²¡æœ‰å ç”¨è¯¥ç«¯å£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ambassador-api-ç½‘å…³é€Ÿç‡é™åˆ¶å…¥é—¨&#34;&gt;Ambassador API ç½‘å…³é€Ÿç‡é™åˆ¶å…¥é—¨&lt;/h2&gt;
&lt;p&gt;æˆ‘åœ¨æœ¬æ•™ç¨‹çš„ä»“åº“ä¸­å¢åŠ äº†ä¸€ä¸ªæ–°æ–‡ä»¶å¤¹â€œ&lt;a href=&#34;https://github.com/danielbryantuk/oreilly-docker-java-shopping/tree/master/kubernetes-ambassador-ratelimit&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubernetes-ambassador-ratelimit&lt;/a&gt;â€ï¼Œç”¨äºåŒ…å« Kubernetes ç›¸å…³é…ç½®ã€‚è¯·é€šè¿‡å‘½ä»¤è¡Œå¯¼èˆªåˆ°æ­¤ç›®å½•ã€‚æ­¤ç›®å½•åº”åŒ…å«å¦‚ä¸‹æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master *&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; oreilly-docker-java-shopping $ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; kubernetes-ambassador-ratelimit/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master *&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; kubernetes-ambassador-ratelimit $ ll
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;total &lt;span class=&#34;m&#34;&gt;48&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; drwxr-xr-x &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;256&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 09:27 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; drwxr-xr-x &lt;span class=&#34;m&#34;&gt;19&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;608&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 09:27 ..
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; -rw-r â€” r â€” &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;2033&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 09:27 ambassador-no-rbac.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; -rw-r â€” r â€” &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;698&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 10:30 ambassador-rate-limiter.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; -rw-r â€” r â€” &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;476&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 10:30 ambassador-service.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; -rw-r â€” r â€” &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;711&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 09:27 productcatalogue-service.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; -rw-r â€” r â€” &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;659&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 10:02 shopfront-service.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; -rw-r â€” r â€” &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; danielbryant staff &lt;span class=&#34;m&#34;&gt;678&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; Apr 09:27 stockmanager-service.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æäº¤ Kubernetes é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€šè¿‡ä»¥ä¸Šå‘½ä»¤éƒ¨ç½²ï¼Œè¿™ä¸ä¹‹å‰æ¶æ„çš„åŒºåˆ«åœ¨äºæ·»åŠ äº†&lt;code&gt;ratelimiter&lt;/code&gt;æœåŠ¡ã€‚è¿™ä¸ªæœåŠ¡æ˜¯ç”¨ Java ç¼–å†™çš„ï¼Œä¸”æ²¡æœ‰ä½¿ç”¨å¾®æœåŠ¡æ¡†æ¶ã€‚å®ƒå‘å¸ƒäº†ä¸€ä¸ª gRPC ç«¯ç‚¹ï¼Œå¯ä¾› Ambassador æ¥ä½¿ç”¨ä»¥å®ç°é€Ÿç‡é™åˆ¶ã€‚è¿™ç§æ–¹æ¡ˆå…è®¸çµæ´»å®šåˆ¶é€Ÿç‡é™åˆ¶ç®—æ³•ï¼ˆå…³äºè¿™ç‚¹çš„å¥½å¤„è¯·æŸ¥çœ‹æˆ‘&lt;a href=&#34;https://blog.getambassador.io/rate-limiting-for-api-gateways-892310a2da02&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä»¥å‰çš„æ–‡ç« &lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-é™é€Ÿæ¶æ„&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;https://raw.githubusercontent.com/servicemesher/website/master/content/blog/implementing-a-java-rate-limiting-service-for-the-ambassador-api-gateway-part3/78a165e1gy1fsvwvs0d8kj20hi0gj74v.jpg&#34; alt=&#34;é™é€Ÿæ¶æ„&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      é™é€Ÿæ¶æ„
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;æ¢ç´¢éƒ¨ç½²äº-kubernetes-çš„é™é€Ÿå™¨æœåŠ¡&#34;&gt;æ¢ç´¢éƒ¨ç½²äº Kubernetes çš„é™é€Ÿå™¨æœåŠ¡&lt;/h2&gt;
&lt;p&gt;ä¸ä»»ä½•å…¶ä»–æœåŠ¡ä¸€æ ·ï¼Œéƒ¨ç½²åˆ° Kubernetes çš„é™é€ŸæœåŠ¡ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ°´å¹³æ‰©å±•ã€‚ä»¥ä¸‹æ˜¯ Kubernetes é…ç½®æ–‡ä»¶&lt;code&gt;ambassador-rate-limiter.yaml&lt;/code&gt;çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nn&#34;&gt;---&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ratelimiter&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;getambassador.io/config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      apiVersion: ambassador/v0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      kind: RateLimitService
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      name: ratelimiter_svc
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      service: &amp;#34;ratelimiter:50051&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ratelimiter&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ClusterIP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;selector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ratelimiter&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;protocol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;50051&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;---&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ReplicationController&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ratelimiter&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;replicas&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ratelimiter&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ratelimiter&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;danielbryantuk/ratelimiter:0.3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;containerPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;50051&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œä¸éœ€è¦å…³æ³¨æœ€å Docker Image å¤„çš„&lt;code&gt;danielbryantuk/ratelimiter:0.3&lt;/code&gt; ï¼Œè€Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ­¤æœåŠ¡åœ¨é›†ç¾¤ä½¿ç”¨ 50051 TCP ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;ambassador-service.yaml&lt;/code&gt;é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿˜æ›´æ–°äº† Ambassador Kubernetes annotations é…ç½®ï¼Œä»¥ç¡®ä¿èƒ½é€šè¿‡åŒ…å«&lt;code&gt;rate_limits&lt;/code&gt;å±æ€§æ¥é™åˆ¶å¯¹ shopfront æœåŠ¡çš„è¯·æ±‚ã€‚æˆ‘è¿˜æ·»åŠ äº†ä¸€äº›é¢å¤–çš„å…ƒæ•°æ®&lt;code&gt;- descriptor: Example descriptor&lt;/code&gt;ï¼Œè¿™å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ›´è¯¦ç»†åœ°è§£é‡Šã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å°†å…ƒæ•°æ®ä¼ é€’åˆ°é€Ÿç‡é™åˆ¶æœåŠ¡ï¼Œè¿™ç§æ–¹æ³•ä¸é”™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nn&#34;&gt;---&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ambassador&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ambassador&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;getambassador.io/config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      apiVersion: ambassador/v0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      kind:  Mapping
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      name:  shopfront_stable
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      prefix: /shopfront/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      service: shopfront:8010
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      rate_limits:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;        - descriptor: Example descriptor&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ kubectl å‘½ä»¤æ¥æ£€æŸ¥éƒ¨ç½²æ˜¯å¦æˆåŠŸï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master *&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; kubernetes-ambassador-ratelimit $ kubectl get svc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME               TYPE           CLUSTER-IP       EXTERNAL-IP   PORT&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;S&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;          AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ambassador         LoadBalancer   10.105.253.3     localhost     80:30051/TCP     1d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ambassador-admin   NodePort       10.107.15.225    &amp;lt;none&amp;gt;        8877:30637/TCP   1d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubernetes         ClusterIP      10.96.0.1        &amp;lt;none&amp;gt;        443/TCP          16d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;productcatalogue   ClusterIP      10.109.48.26     &amp;lt;none&amp;gt;        8020/TCP         1d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ratelimiter        ClusterIP      10.97.122.140    &amp;lt;none&amp;gt;        50051/TCP        1d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;shopfront          ClusterIP      10.98.207.100    &amp;lt;none&amp;gt;        8010/TCP         1d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;stockmanager       ClusterIP      10.107.208.180   &amp;lt;none&amp;gt;        8030/TCP         1d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;6 ä¸ªä¸šåŠ¡æœåŠ¡çœ‹èµ·æ¥éƒ½ä¸é”™ï¼ˆå»é™¤ Kubernetes æœåŠ¡ï¼‰ï¼šåŒ…å« 3 ä¸ª Java æœåŠ¡ï¼Œ2 ä¸ª Ambassador æœåŠ¡å’Œ 1 ä¸ª ratelimiter æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ curl å‘½ä»¤å¯¹ shopfront çš„æœåŠ¡ç«¯ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œå…¶åº”ç»‘å®šåœ¨å¤–éƒ¨ IP localhost çš„ 80 ç«¯å£ä¸Šï¼ˆå¦‚ä¸Šæ–‡æ‰€ç¤ºï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;(master *) kubernetes-ambassador-ratelimit $ curl localhost/shopfront/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;html&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lang=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;xmlns=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/1999/xhtml&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;charset=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- jQuery (necessary for Bootstrap&amp;#39;s JavaScript plugins) --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- Include all compiled plugins (below), or include individual files as needed --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;js/bootstrap.min.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;(master *) kubernetes-ambassador-ratelimit $
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ ä¼šæ³¨æ„åˆ°è¿™é‡Œæ˜¾ç¤ºäº†ä¸€äº› HTMLï¼Œè¿™åªæ˜¯ Docker Java Shop çš„é¦–é¡µã€‚è™½ç„¶å¯ä»¥é€šè¿‡æµè§ˆå™¨åœ¨&lt;a href=&#34;http://localhost/shopfront/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://localhost/shopfront/&lt;/a&gt;è®¿é—®ï¼Œå¯¹äºæˆ‘ä»¬çš„é€Ÿç‡é™åˆ¶å®éªŒï¼Œæœ€å¥½è¿˜æ˜¯ä½¿ç”¨ curl å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é€Ÿç‡é™åˆ¶æµ‹è¯•&#34;&gt;é€Ÿç‡é™åˆ¶æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;å¯¹äºè¿™ç§æ¼”ç¤ºæ€§è´¨çš„é€Ÿç‡é™åˆ¶æœåŠ¡ï¼Œè¿™é‡Œä»…å¯¹æœåŠ¡æœ¬èº«è¿›è¡Œé™åˆ¶ã€‚æ¯”å¦‚å½“é€Ÿç‡é™åˆ¶æœåŠ¡éœ€è¦è®¡ç®—æ˜¯å¦éœ€è¦é™åˆ¶è¯·æ±‚æ—¶ï¼Œå”¯ä¸€éœ€è¦è€ƒè™‘çš„æŒ‡æ ‡æ˜¯åœ¨ä¸€æ®µæ—¶é—´å†…é’ˆå¯¹ç‰¹å®šåç«¯çš„è¯·æ±‚æ•°é‡ã€‚åœ¨ä»£ç å®ç°ä¸­ä½¿ç”¨&lt;a href=&#34;https://en.wikipedia.org/wiki/Token_bucket&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä»¤ç‰Œæ¡¶ç®—æ³•&lt;/a&gt;ã€‚å‡è®¾æ¡¶ä¸­ä»¤ç‰Œå®¹é‡ä¸º 20ï¼Œå¹¶ä¸”æ¯ç§’é’Ÿçš„è¡¥å…… 10 ä¸ªä»¤ç‰Œã€‚ç”±äºé€Ÿç‡é™åˆ¶ä¸è¯·æ±‚ç›¸å…³è”ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥æ¯ç§’å‘å‡º 10 æ¬¡ API è¯·æ±‚ï¼Œè¿™æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼ŒåŒæ—¶ç”±äºå­˜å‚¨æ¡¶æœ€åˆåŒ…å« 20 ä¸ªä»¤ç‰Œï¼Œä½ å¯ä»¥æš‚æ—¶è¶…è¿‡æ­¤å¹¶å‘æ•°é‡ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æœ€åˆé¢å¤–çš„ä»¤ç‰Œä½¿ç”¨å®Œï¼Œå¹¶ä¸”ä½ ä»åœ¨å°è¯•æ¯ç§’å‘å‡º 10 ä¸ªä»¥ä¸Šè¯·æ±‚ï¼Œé‚£ä¹ˆä½ å°†æ”¶åˆ° HTTP 429â€œToo Many Requestsâ€çŠ¶æ€ç ã€‚è¿™æ—¶ï¼ŒAmbassador API ç½‘å…³ä¸ä¼šå†å°†è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘çœ‹ä¸‹å¦‚ä½•é€šè¿‡ curl å‘å‡ºå¤§é‡è¯·æ±‚æ¥æ¨¡æ‹Ÿè¿™ä¸ªæ“ä½œã€‚é¿å…æ˜¾ç¤ºçš„ HTML é¡µé¢ï¼ˆé€šè¿‡&lt;code&gt;-output /dev/null&lt;/code&gt;å‚æ•°ï¼‰åŠ curl è¯·æ±‚ï¼ˆé€šè¿‡&lt;code&gt;--silent&lt;/code&gt;å‚æ•°ï¼‰ï¼Œä½†éœ€è¦æ˜¾ç¤ºç¬¦åˆé¢„æœŸçš„ HTTP å“åº”çŠ¶æ€ï¼ˆé€šè¿‡&lt;code&gt;--â€Šshow-errorâ€Š --fail&lt;/code&gt;å‚æ•°ï¼‰ã€‚ä¸‹æ–‡é€šè¿‡ä¸€ä¸ª bash å¾ªç¯è„šæœ¬ï¼Œå¹¶è®°å½•æ—¶é—´è¾“å‡ºï¼ˆä»¥æ˜¾ç¤ºå‘å‡ºè¯·æ±‚çš„æ—¶é—´ï¼‰ï¼Œä»¥æ­¤æ¥åˆ›å»ºä¸€ä¸ªéå¸¸ç²—é¢—ç²’åº¦çš„è´Ÿè½½å‘ç”Ÿå™¨ï¼ˆå¯ä»¥é€šè¿‡&lt;code&gt;CTRL-C&lt;/code&gt;æ¥ç»ˆæ­¢å¾ªç¯ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; curl --silent --output /dev/null --show-error --fail http://localhost/shopfront/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master *&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; kubernetes-ambassador-ratelimit $ &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; curl --silent --output /dev/null --show-error --fail http://localhost/shopfront/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:31 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:31 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:31 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:31 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:35 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;22&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; The requested URL returned error: &lt;span class=&#34;m&#34;&gt;429&lt;/span&gt; Too Many Requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:35 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;22&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; The requested URL returned error: &lt;span class=&#34;m&#34;&gt;429&lt;/span&gt; Too Many Requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:35 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:35 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;22&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; The requested URL returned error: &lt;span class=&#34;m&#34;&gt;429&lt;/span&gt; Too Many Requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:35 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;22&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; The requested URL returned error: &lt;span class=&#34;m&#34;&gt;429&lt;/span&gt; Too Many Requests
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tue &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt; Apr &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt; 14:16:35 BST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^C
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä½ æ‰€è§ï¼Œä»è¾“å‡ºæ—¥å¿—æ¥çœ‹ï¼Œå‰å‡ ä¸ªè¯·æ±‚æ˜¾ç¤ºæ—¥æœŸä¸”æ²¡æœ‰é”™è¯¯ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚è¿‡ä¸äº†å¤šä¹…ï¼Œå½“åœ¨æˆ‘æµ‹è¯•çš„ Mac ä¸Šçš„è¯·æ±‚å¾ªç¯è¶…è¿‡æ¯ç§’ 10 æ¬¡ï¼ŒHTTP 429 é”™è¯¯ä¾¿å¼€å§‹å‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæˆ‘é€šå¸¸ä½¿ç”¨&lt;a href=&#34;https://httpd.apache.org/docs/2.4/programs/ab.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt; Apache Benchmarking â€œabâ€&lt;/a&gt; è´Ÿè½½ç”Ÿæˆå·¥å…·æ¥è¿›è¡Œè¿™ç§ç®€å•å®éªŒï¼Œä½†è¿™å·¥å…·åœ¨è°ƒç”¨æœ¬åœ° localhost ä¼šæœ‰é—®é¢˜ï¼ˆåŒæ—¶ Docker é…ç½®ä¹Ÿç»™æˆ‘å¸¦æ¥äº†é¢å¤–é—®é¢˜ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ£€éªŒé€Ÿç‡é™åˆ¶å™¨æœåŠ¡&#34;&gt;æ£€éªŒé€Ÿç‡é™åˆ¶å™¨æœåŠ¡&lt;/h2&gt;
&lt;p&gt;Ambassador Java é™é€ŸæœåŠ¡çš„æºä»£ç åœ¨æˆ‘ GitHub å¸æˆ·çš„&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ambassador-java-rate-limiter&lt;/a&gt;ä»“åº“ä¸­ã€‚å…¶ä¸­ä¹ŸåŒ…å«ç”¨äºæ„å»ºæˆ‘æ¨é€åˆ° DockerHub ä¸­å®¹å™¨é•œåƒçš„&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/Dockerfile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dockerfile&lt;/a&gt;ã€‚ä½ å¯ä»¥ä»¥æ­¤ Dockerfile ä½œä¸ºæ¨¡æ¿è¿›è¡Œä¿®æ”¹ï¼Œç„¶åæ„å»ºå’Œæ¨é€è‡ªå·±çš„é•œåƒè‡³ DockerHubã€‚ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹åœ¨ Docker Java Shopping ä»“åº“ä¸­çš„&lt;a href=&#34;https://github.com/danielbryantuk/oreilly-docker-java-shopping/blob/master/kubernetes-ambassador-ratelimit/ambassador-rate-limiter.yaml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ambassador-rate-limiter.yaml&lt;/a&gt;æ–‡ä»¶æ¥æ‰©å±•ä½¿ç”¨ä½ è‡ªå·±çš„é€Ÿç‡é™åˆ¶æœåŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç ”ç©¶-java-ä»£ç &#34;&gt;ç ”ç©¶ Java ä»£ç &lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æ·±å…¥ç ”ç©¶ Java ä»£ç ï¼Œæœ€éœ€è¦å…³æ³¨çš„ç±»åº”è¯¥æ˜¯&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/src/main/java/io/datawire/ambassador/ratelimiter/simpleimpl/RateLimitServer.java&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RateLimiterServer&lt;/a&gt;ï¼Œå®ƒå®ç°äº†åœ¨ Ambassador API ä¸­ä½¿ç”¨çš„&lt;a href=&#34;https://www.datawire.io/envoyproxy/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Envoy ä»£ç†&lt;/a&gt;æ‰€å®šä¹‰çš„é€Ÿç‡é™åˆ¶ gRPC æ¥å£ã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ª&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/src/main/proto/ratelimit.proto&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ratelimit.proto&lt;/a&gt;æ¥å£çš„å‰¯æœ¬ï¼Œå…¶é€šè¿‡ Maven &lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/pom.xml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pom.xml&lt;/a&gt;ä¸­å®šä¹‰çš„ gRPC Java æ„å»ºå·¥å…·æ¥æ„å»ºä½¿ç”¨ã€‚ä»£ç ä¸»è¦æ¶‰åŠä¸‰ç‚¹ï¼šå®ç° gRPC æ¥å£ï¼Œè¿è¡Œ gRPC æœåŠ¡å™¨ï¼Œå¹¶å®ç°é€Ÿç‡é™åˆ¶ã€‚ä¸‹é¢è®©æˆ‘ä»¬æ¥è¿›ä¸€æ­¥åˆ†æã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®ç°é€Ÿç‡é™åˆ¶-grpc-æ¥å£&#34;&gt;å®ç°é€Ÿç‡é™åˆ¶ gRPC æ¥å£&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹&lt;code&gt;RateLimitServer&lt;/code&gt;ä¸­çš„å†…éƒ¨ç±»&lt;code&gt;RateLimiterImpl&lt;/code&gt;ï¼Œå…¶å¯¹&lt;code&gt;RateLimitServiceGrpc.RateLimitServiceImplBase&lt;/code&gt;è¿›è¡Œæ‰©å±•ï¼Œä½ å¯ä»¥çœ‹åˆ°æ­¤æŠ½è±¡ç±»ä¸­çš„ä¸‹åˆ—æ–¹æ³•è¢«é‡å†™ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;shouldRateLimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rateLimitRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StreamObserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;responseStreamObserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œä½¿ç”¨çš„å¾ˆå¤šå‘½åè§„çº¦æ¥è‡ªäº Java gRPC åº“ï¼Œè¿›ä¸€æ­¥ä¿¡æ¯è¯·å‚é˜…&lt;a href=&#34;https://grpc.io/docs/tutorials/basic/java.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gRPC Java æ–‡æ¡£&lt;/a&gt;ã€‚å°½ç®¡è¿™æ ·ï¼Œå¦‚æœæŸ¥çœ‹&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/src/main/proto/ratelimit.proto&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ratelimit.proto&lt;/a&gt;æ–‡ä»¶ï¼Œä½ å¯ä»¥æ¸…æ¥šçœ‹åˆ°å¾ˆå¤šå‘½åæ ¹ï¼Œè¿™äº›å‘½åæ ¹å®šä¹‰äº†åœ¨ Ambassador ä¸­ä½¿ç”¨çš„ Envoy ä»£ç†æ‰€éœ€è¦çš„é€Ÿç‡é™åˆ¶æ¥å£ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥çœ‹åˆ°æ­¤æ–‡ä»¶ä¸­å®šä¹‰çš„æ ¸å¿ƒæœåŠ¡åä¸º&lt;code&gt;RateLimitService&lt;/code&gt;ï¼ˆç¬¬ 9 è¡Œï¼‰ï¼Œå¹¶ä¸”åœ¨æœåŠ¡&lt;code&gt;rpc ShouldRateLimit (RateLimitRequest) returns (RateLimitResponse) {}&lt;/code&gt;ï¼ˆç¬¬ 11 è¡Œï¼‰ä¸­å®šä¹‰äº†ä¸€ä¸ª RPC æ–¹æ³•ï¼Œå®ƒåœ¨ Java ä¸­å®ç°é€šè¿‡ä¸Šé¢æ‰€å®šä¹‰çš„&lt;code&gt;shouldRateLimit&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰å…´è¶£ï¼Œå¯ä»¥çœ‹çœ‹é‚£äº›ç”±&lt;code&gt;protobuf-maven-plugin&lt;/code&gt;ï¼ˆ&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/pom.xml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pom.xml&lt;/a&gt;çš„ç¬¬ 99 è¡Œï¼‰ç”Ÿæˆçš„ Java gRPC ä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿è¡Œ-grpc-æœåŠ¡å™¨&#34;&gt;è¿è¡Œ gRPC æœåŠ¡å™¨&lt;/h3&gt;
&lt;p&gt;ä¸€æ—¦ä½ å®ç°äº†ç”¨&lt;code&gt;ratelimit.proto&lt;/code&gt;å®šä¹‰çš„ gRPC æ¥å£ï¼Œä¸‹ä¸€ä»¶äº‹æƒ…å°±æ˜¯åˆ›å»ºä¸€ä¸ª gRPC æœåŠ¡å™¨ç”¨æ¥ç›‘å¬å’Œå›å¤è¯·æ±‚ã€‚å¯ä»¥æ ¹æ®&lt;code&gt;main&lt;/code&gt;æ–¹æ³•è°ƒç”¨é“¾æ¥æŸ¥çœ‹&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/src/main/java/io/datawire/ambassador/ratelimiter/simpleimpl/RateLimitServer.java&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RateLimitServer&lt;/a&gt;çš„å†…å®¹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œ&lt;code&gt;main&lt;/code&gt;æ–¹æ³•åˆ›å»ºä¸€ä¸ª&lt;code&gt;RateLimitServer&lt;/code&gt;ç±»çš„å®ä¾‹ï¼Œè°ƒç”¨&lt;code&gt;start()&lt;/code&gt;æ–¹æ³•ï¼Œå†è°ƒç”¨&lt;code&gt;blockUntilShutdown()&lt;/code&gt;æ–¹æ³•ã€‚è¿™å°†å¯åŠ¨ä¸€ä¸ªåº”ç”¨å®ä¾‹ï¼Œå¹¶åœ¨æŒ‡å®šçš„æœåŠ¡ç«¯ç‚¹ä¸Šå‘å¸ƒ gRPC æ¥å£ï¼ŒåŒæ—¶ä¾¦å¬è¯·æ±‚ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®ç°-java-é€Ÿç‡é™åˆ¶&#34;&gt;å®ç° Java é€Ÿç‡é™åˆ¶&lt;/h3&gt;
&lt;p&gt;è´Ÿè´£é€Ÿç‡é™åˆ¶è¿‡ç¨‹çš„å®é™… Java ä»£ç åŒ…å«åœ¨&lt;code&gt;RateLimiterImpl&lt;/code&gt;å†…éƒ¨ç±»çš„&lt;code&gt;shouldRateLimit()&lt;/code&gt;æ–¹æ³•ï¼ˆç¬¬ 75 è¡Œï¼‰ä¸­ã€‚æˆ‘æ²¡æœ‰è‡ªå·±å®ç°ç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨åŸºäº&lt;a href=&#34;https://en.wikipedia.org/wiki/Token_bucket&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä»¤ç‰Œæ¡¶ç®—æ³•&lt;/a&gt;çš„ Java é€Ÿåº¦é™åˆ¶å¼€æºåº“&lt;a href=&#34;https://github.com/vladimir-bukhtoyarov/bucket4j&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bucket4j&lt;/a&gt;ã€‚ç”±äºæˆ‘é™åˆ¶äº†å¯¹æ¯ä¸ªæœåŠ¡çš„è¯·æ±‚ï¼Œå› æ­¤æ¯ä¸ªå­˜å‚¨æ¡¶ä¸æœåŠ¡åç§°æ‰€ç»‘å®šã€‚å¯¹æ¯ä¸ªæœåŠ¡çš„è¯·æ±‚éƒ½ä¼šä»å…¶æ‰€å…³è”çš„å­˜å‚¨æ¡¶ä¸­åˆ é™¤ä¸€ä¸ªä»¤ç‰Œã€‚åœ¨æœ¬æ¡ˆä¾‹ä¸­ï¼Œæ¡¶æ²¡æœ‰å­˜å‚¨åœ¨å¤–éƒ¨æ•°æ®åº“ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„&lt;code&gt;ConcurrentHashMap&lt;/code&gt;ä¸­ã€‚å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ç±»ä¼¼ Redis çš„å¤–éƒ¨æŒä¹…åŒ–å­˜å‚¨æ–¹æ¡ˆæ¥å®ç°æ¨ªå‘æ‰©å±•ã€‚è¿™é‡Œå¿…é¡»æ³¨æ„ï¼Œå¦‚æœåœ¨ä¸æ›´æ”¹æ¯ä¸ªæœåŠ¡æ¡¶é™åˆ¶çš„å‰æä¸‹æ°´å¹³æ‰©å±•é€Ÿç‡é™åˆ¶æœåŠ¡ï¼Œé‚£ä¹ˆå°†ç›´æ¥å¯¼è‡´ï¼ˆéé€Ÿç‡é™åˆ¶ï¼‰è¯·æ±‚æ•°é‡çš„å¢åŠ ï¼Œä½†å®é™…æœåŠ¡å¯æ”¯æŒçš„è¯·æ±‚æ•°é‡æ²¡æœ‰å¢åŠ ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»º bucket4j å­˜å‚¨æ¡¶çš„&lt;code&gt;RateLimiterImpl&lt;/code&gt;å¤§è‡´ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Bucket&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createNewBucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;overdraft&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;Refill&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;refill&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Refill&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;smooth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Duration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ofSeconds&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;Bandwidth&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;limit&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Bandwidth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;classic&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;overdraft&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;refill&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Bucket4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;addLimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;limit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä¸‹é¢å¯ä»¥çœ‹åˆ°&lt;code&gt;shouldRateLimit&lt;/code&gt;æ–¹æ³•çš„ä»£ç ï¼Œå®ƒåªæ˜¯ç®€å•åœ°å°è¯•æ‰§è¡Œ&lt;code&gt;tryConsume(1)&lt;/code&gt;ä½¿ç”¨æ¡¶ä¸­ä¸€ä¸ªä»¤ç‰Œï¼Œå¹¶è¿”å›é€‚å½“çš„ HTTP å“åº”ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;shouldRateLimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rateLimitRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StreamObserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;responseStreamObserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;logDebug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rateLimitRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;destServiceName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;extractDestServiceNameFrom&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rateLimitRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;Bucket&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getServiceBucketFor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;destServiceName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Code&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;tryConsume&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Code&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;OK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Code&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;OVER_LIMIT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Ratelimit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RateLimitResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rateLimitResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;generateRateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;responseStreamObserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;onNext&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rateLimitResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;responseStreamObserver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;onCompleted&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»£ç æ¯”è¾ƒå®¹æ˜“è§£é‡Šã€‚å¦‚æœå½“å‰è¯·æ±‚ä¸éœ€è¦è¿›è¡Œé€Ÿç‡é™åˆ¶ï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›&lt;code&gt;Ratelimit.RateLimitResponse.Code.OK; &lt;/code&gt;å¦‚æœå½“å‰è¯·æ±‚ç”±äºé€Ÿåº¦é™åˆ¶è€Œè¢«æ‹’ç»ï¼Œåˆ™æ­¤æ–¹æ³•è¿”å›&lt;code&gt;Ratelimit.RateLimitResponse.Code.OVER_LIMIT&lt;/code&gt;ã€‚æ ¹æ®æ­¤ gRPC æœåŠ¡çš„å“åº”ï¼ŒAmbassador API ç½‘å…³å°†è¯·æ±‚ä¼ é€’ç»™åç«¯æœåŠ¡ï¼Œæˆ–è€…ä¸­æ–­è¯·æ±‚å¹¶è¿”å› HTTP çŠ¶æ€ç  429â€œToo Many Requestsâ€è€Œä¸å†è°ƒç”¨åç«¯æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç®€å•æ¡ˆä¾‹åªå¯ä»¥é˜²æ­¢ä¸€ä¸ªæœåŠ¡çš„è®¿é—®è¿‡è½½ï¼Œä½†ä¹Ÿå¸Œæœ›è¿™èƒ½å¤Ÿé˜æ˜é€Ÿç‡é™åˆ¶çš„æ ¸å¿ƒæ¦‚å¿µï¼Œè¿›è€Œå¯ä»¥ç›¸å¯¹å®¹æ˜“å®ç°åŸºäºè¯·æ±‚å…ƒæ•°æ®ï¼ˆä¾‹å¦‚ç”¨æˆ· ID ç­‰ï¼‰çš„é€Ÿç‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸‹ä¸€é˜¶æ®µ&#34;&gt;ä¸‹ä¸€é˜¶æ®µ&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•åœ¨ Java ä¸­åˆ›å»ºé€Ÿç‡é™åˆ¶æœåŠ¡ï¼Œå¹¶è½»æ˜“ä¸ Ambassador ç½‘å…³æ‰€é›†æˆã€‚å¦‚æœéœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥åŸºäºä»»ä½•è‡ªå®šä¹‰çš„é€Ÿç‡é™åˆ¶ç®—æ³•å®ç°ã€‚åœ¨æœ¬ç³»åˆ—çš„æœ€åä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæ‚¨å°†æ›´æ·±å…¥åœ°äº†è§£ Envoy é€Ÿç‡é™åˆ¶ APIï¼Œä»¥ä¾¿è¿›ä¸€æ­¥å­¦ä¹ å¦‚ä½•è®¾è®¡é€Ÿç‡é™åˆ¶æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿åœ¨ Ambassador Gitter æˆ–é€šè¿‡&lt;a href=&#34;https://twitter.com/danielbryantuk/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;@danielbryantuk&lt;/a&gt;åŠ&lt;a href=&#34;https://twitter.com/datawireio?lang=en&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;@datawireio&lt;/a&gt;è”ç³»ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é€Ÿç‡é™åˆ¶ part2â€”ä½œç”¨äº API ç½‘å…³çš„é€Ÿç‡é™åˆ¶</title>
      <link>https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/</link>
      <pubDate>Tue, 03 Jul 2018 12:11:49 +0800</pubDate>
      <guid>https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/</guid>
      <description>&lt;p&gt;æœ¬æ–‡ä¸ºç¿»è¯‘æ–‡ç« ï¼Œ&lt;a href=&#34;https://blog.getambassador.io/rate-limiting-for-api-gateways-892310a2da02&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬é€Ÿç‡é™åˆ¶ç³»åˆ—çš„&lt;a href=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1&#34;&gt;ç¬¬ä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä¸­ï¼Œä»‹ç»äº†å®æ–½é€Ÿç‡é™åˆ¶çš„åŠ¨æœºï¼Œå¹¶è®¨è®ºäº†å‡ ç§å®æ–½æ–¹æ¡ˆï¼ˆå–å†³äºä½ æ˜¯å¦åŒæ—¶ä½œä¸ºé€šä¿¡çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯ï¼‰ä»¥åŠç›¸å…³çš„æƒè¡¡ã€‚æœ¬æ–‡ä¼šæ›´åŠ æ·±å…¥åœ°æ¢è®¨ API ç½‘å…³é€Ÿç‡é™åˆ¶çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆ-api-ç½‘å…³éœ€è¦é€Ÿç‡é™åˆ¶&#34;&gt;ä¸ºä»€ä¹ˆ API ç½‘å…³éœ€è¦é€Ÿç‡é™åˆ¶&lt;/h2&gt;
&lt;p&gt;åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘è®¨è®ºäº†åœ¨ä½•å¤„å®æ–½é€Ÿç‡é™åˆ¶çš„å‡ ä¸ªé€‰é¡¹ï¼šå‘é€ç«¯ã€æ¥æ”¶ç«¯æˆ–ä¸­é—´å±‚ï¼ˆå­—é¢æ„æ€å¯ä»¥ç†è§£ä¸ºå‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¸­é—´çš„æœåŠ¡ï¼‰ã€‚
















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof0emvx9j20oj04jgli_huaacb742d5c34e65a89b1645d1f4973f3_10190_17888f6a28555005d1e6d6ba74a7abc9.webp 400w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof0emvx9j20oj04jgli_huaacb742d5c34e65a89b1645d1f4973f3_10190_979d2708e832522337f2b29ff039f801.webp 760w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof0emvx9j20oj04jgli_huaacb742d5c34e65a89b1645d1f4973f3_10190_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof0emvx9j20oj04jgli_huaacb742d5c34e65a89b1645d1f4973f3_10190_17888f6a28555005d1e6d6ba74a7abc9.webp&#34;
               width=&#34;760&#34;
               height=&#34;140&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

å½“é€šè¿‡å…¬å…± API æš´éœ²ä½ çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œé€šå¸¸ä½ å¿…é¡»åœ¨æ¥æ”¶ç«¯æˆ–ä¸­é—´å±‚ä¸­å®æ–½é€Ÿç‡é™åˆ¶ã€‚å³ä½¿ä½ æ§åˆ¶äº†æºä»£ç ï¼ˆå®¢æˆ·ç«¯ï¼‰åº”ç”¨ç¨‹åºï¼Œä½ ä¹Ÿå¸Œæœ›é˜²æ­¢ä¼šå¯¼è‡´è¿‡å¤š API è¯·æ±‚çš„é”™è¯¯äº§ç”Ÿï¼ŒåŒæ—¶åº”ä»˜å¯èƒ½ä¼šè¯•å›¾ç ´åå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„ä¸è‰¯è¡Œä¸ºè€…ã€‚
















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof2hv9hgj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_870098643d1688cdba58e32939984b87.webp 400w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof2hv9hgj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_6e38d8ebbab178d7101a0374c44d7871.webp 760w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof2hv9hgj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof2hv9hgj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_870098643d1688cdba58e32939984b87.webp&#34;
               width=&#34;704&#34;
               height=&#34;245&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;Stripe åšå®¢æœ‰ä¸€ç¯‡ç²¾å½©çš„å…³äºâ€œ&lt;a href=&#34;https://stripe.com/blog/rate-limiters&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç”¨é™é€Ÿå™¨æ‰©å±•ä½ çš„ API&lt;/a&gt;â€çš„æ–‡ç« ï¼Œæˆ‘å°†åœ¨æœ¬æ–‡ä¸­å¼•ç”¨è¿™ç¯‡æ–‡ç« ï¼Œé‚£ç¯‡æ–‡ç« çš„å¼€å¤´éƒ¨åˆ†è®¨è®ºäº†é€Ÿç‡é™åˆ¶ä¼šå¦‚ä½•å¸®åŠ©ä½ åœ¨ä»¥ä¸‹æƒ…å†µä¸­è®©ä½ çš„ API æ›´åŠ å¯é ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸä½ç”¨æˆ·åˆ¶é€ äº†æµé‡æ´ªå³°ï¼Œå¯¼è‡´ä½ çš„åº”ç”¨è¿‡è½½ï¼Œè€Œä½ çš„åº”ç”¨æ­¤æ—¶è¿˜éœ€è¦ä¸ºå…¶ä»–ç”¨æˆ·æä¾›æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;æŸä½ç”¨æˆ·å› ä¸ºä½¿ç”¨äº†è¡Œä¸ºä¸å½“çš„è„šæœ¬ï¼Œæ— æ„ä¸­å‘ä½ å‘é€äº†å¾ˆå¤šè¯·æ±‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™æ¯”ä½ æƒ³è±¡çš„è¦æ›´é¢‘ç¹ - æˆ‘æ›¾ç»äº²è‡ªåˆ›å»ºçš„å‹æµ‹è„šæœ¬å°±æ„å¤–è§¦å‘äº†æ‹’ç»æœåŠ¡ï¼ï¼‰ã€‚åˆæˆ–è€…ï¼Œæ›´ç³Ÿçš„æƒ…å†µæ˜¯ï¼ŒæŸä½ç”¨æˆ·è¯•å›¾æ•…æ„è®©ä½ çš„æœåŠ¡å™¨è¿‡è½½ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·å‘ä½ å‘é€å¾ˆå¤šä¼˜å…ˆçº§è¾ƒä½çš„è¯·æ±‚ï¼Œè€Œä½ éœ€è¦ç¡®ä¿å®ƒä¸ä¼šå½±å“é«˜ä¼˜å…ˆçº§çš„é€šä¿¡ã€‚ä¾‹å¦‚ï¼Œå‘é€å¤§é‡åˆ†ææ•°æ®è¯·æ±‚çš„ç”¨æˆ·å¯èƒ½ä¼šå½±å“å…¶ä»–ç”¨æˆ·çš„å…³é”®äº‹åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿä¸­å‡ºç°äº†æŸäº›å†…éƒ¨é—®é¢˜ï¼Œå› æ­¤æ— æ³•æä¾›æ‰€æœ‰å¸¸è§„æµé‡æœåŠ¡ï¼Œå¹¶ä¸”éœ€è¦ä¸¢å¼ƒä½ä¼˜å…ˆçº§çš„è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ Datawire å·¥ä½œæœŸé—´ï¼Œæˆ‘ä»¬é€šå¸¸èƒ½å¤Ÿç¬¬ä¸€æ‰‹åœ°å‘ç°ä»¥ä¸Šè¿™äº›æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åœ¨é‚£äº›æš´éœ²â€œå…è´¹â€å…¬å…± API çš„å…¬å¸æˆ–è€…ç»„ç»‡ä¸­ï¼ŒåŒæ—¶åœ¨è¿™äº›ç»„ç»‡ä¸­ï¼Œä¹Ÿå­˜åœ¨ç€æ˜ç¡®çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå³è®©ä»˜è´¹ç”¨æˆ·ä¼˜å…ˆä½¿ç”¨æµé‡ï¼Œå¹¶ä¸”é˜²æ­¢ä¸è‰¯è¡Œä¸ºè€…ï¼ˆæ— è®ºæ˜¯æœ‰æ„æˆ–æ— æ„ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é€Ÿç‡é™åˆ¶å’Œè´Ÿè½½å‰Šå‡çš„åŸºç¡€çŸ¥è¯†&#34;&gt;é€Ÿç‡é™åˆ¶å’Œè´Ÿè½½å‰Šå‡çš„åŸºç¡€çŸ¥è¯†&lt;/h2&gt;
&lt;p&gt;åŸºæœ¬ä¸Šï¼Œè¦ç†è§£é€Ÿç‡é™åˆ¶çš„æ¦‚å¿µå¾ˆç®€å•ã€‚å¯¹äºæ¯ä¸ªè¦é™åˆ¶çš„è¯·æ±‚å±æ€§ï¼Œåªéœ€ç»Ÿè®¡å±æ€§çš„å”¯ä¸€å®ä¾‹å‡ºç°æ¬¡æ•°ï¼Œå¹¶åœ¨æ¯ä¸ªæ—¶é—´å•ä½è¶…è¿‡æŒ‡å®šçš„è®¡æ•°æ—¶æ‹’ç»æœåŠ¡ç›¸å…³çš„è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³é™åˆ¶æ¯ä¸ªå®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚æ•°é‡ï¼Œä½ å°†ä½¿ç”¨â€œå®¢æˆ·ç«¯æ ‡è¯†â€å±æ€§ï¼ˆå¯èƒ½é€šè¿‡å­—ç¬¦ä¸²é”®å€¼ä¸º &lt;code&gt;clientID&lt;/code&gt; çš„è¯·æ±‚å‚æ•°æˆ–ç›´æ¥åŒ…å«åœ¨è¯·æ±‚å¤´éƒ¨ä¸­ï¼‰ï¼Œå¹¶ä¸ºæ ‡è¯†ç¬¦ä¿ç•™ä¸€ä¸ªè®¡æ•°å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½ è¿˜å¯ä»¥æŒ‡å®šå•ä½æ—¶é—´çš„æœ€å¤§è¯·æ±‚æ•°ï¼Œå¹¶ä¸”å®šä¹‰ä¸€ä¸ªè®¡æ•°é€’å‡ç®—æ³•ï¼Œè€Œä¸æ˜¯åœ¨æ¯ä¸ªå•ä½æ—¶é—´å¼€å§‹æ—¶é‡ç½®è®¡æ•°å™¨ï¼ˆç¨åä¼šè¯¦ç»†ä»‹ç»ï¼‰ã€‚å½“è¯·æ±‚åˆ°è¾¾ API ç½‘å…³æ—¶ï¼Œå®ƒä¼šé€’å¢ç›¸åº”çš„è¯·æ±‚è®¡æ•°å™¨å¹¶æ£€æŸ¥è¿™ä¸ªé€’å¢æ˜¯å¦è¶…è¿‡å•ä½æ—¶é—´å†…æœ€å¤§å…è®¸è¯·æ±‚æ•°ã€‚å¦‚æœè¶…è¿‡ï¼Œåˆ™æ‹’ç»è¿™ä¸ªè¯·æ±‚ï¼Œæœ€å¸¸è§çš„æƒ…å†µæ˜¯å‘è°ƒç”¨å®¢æˆ·ç«¯è¿”å› &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;â€œToo Many Requestsâ€HTTP 429 çŠ¶æ€ç &lt;/a&gt;ã€‚
















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof4rdz1qj20lg07jt8w_huf5a9eb12dec080ef7b405482e3193537_22355_475d899739f9c75ba2f4784623d5b239.webp 400w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof4rdz1qj20lg07jt8w_huf5a9eb12dec080ef7b405482e3193537_22355_01dca38eecc3eecfdca84c116f2402cb.webp 760w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof4rdz1qj20lg07jt8w_huf5a9eb12dec080ef7b405482e3193537_22355_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof4rdz1qj20lg07jt8w_huf5a9eb12dec080ef7b405482e3193537_22355_475d899739f9c75ba2f4784623d5b239.webp&#34;
               width=&#34;760&#34;
               height=&#34;267&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä¸é€Ÿç‡é™åˆ¶å¯†åˆ‡ç›¸å…³çš„æ˜¯â€œè´Ÿè½½å‰Šå‡â€ã€‚ä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºåˆ¤å®šæ‹’ç»è¯·æ±‚çš„æ¡ä»¶ã€‚é€Ÿç‡é™åˆ¶æ˜¯åŸºäºå•ä¸ªè¯·æ±‚çš„å±æ€§ï¼ˆä¾‹å¦‚ clientIdï¼‰ï¼Œè€Œè´Ÿè½½å‰Šå‡æ˜¯åŸºäºåº”ç”¨çš„æ€»ä½“çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œå¤„äºé«˜è´Ÿè½½çš„æ•°æ®åº“ï¼‰ã€‚å¦‚æœç³»ç»Ÿä»å¤„äºéƒ¨åˆ†è¿è¡ŒçŠ¶æ€ï¼Œä½†æ˜¯éœ€è¦æ—¶é—´æ¥æ¢å¤ï¼ˆæˆ–ä¿®å¤ï¼‰ï¼Œåˆ™åœ¨æµé‡å…¥å£ç‚¹å‰Šå‡è´Ÿè½½å¯ä»¥å¤§é‡å‡å°‘çº¿ä¸Šäº‹æ•…ã€‚
















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof5go9vvj20mq07dt8y_hu6485f23e60e2e8e9568294bae27898e8_25036_7895fec259eb9dccabd6c575e18244f1.webp 400w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof5go9vvj20mq07dt8y_hu6485f23e60e2e8e9568294bae27898e8_25036_04198db154d7c4b6b0f87673fbf5d560.webp 760w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof5go9vvj20mq07dt8y_hu6485f23e60e2e8e9568294bae27898e8_25036_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof5go9vvj20mq07dt8y_hu6485f23e60e2e8e9568294bae27898e8_25036_7895fec259eb9dccabd6c575e18244f1.webp&#34;
               width=&#34;760&#34;
               height=&#34;246&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;api-ç½‘å…³å­˜åœ¨çš„æŒ‘æˆ˜&#34;&gt;API ç½‘å…³å­˜åœ¨çš„æŒ‘æˆ˜&lt;/h2&gt;
&lt;p&gt;å¤§å¤šæ•°å¼€æºå’Œå•†ä¸š API ç½‘å…³éƒ½æä¾›é€Ÿç‡é™åˆ¶ï¼Œä½†åœ¨ä¼—å¤šå®ç°ä¸­ï¼Œæ™®éå­˜åœ¨çš„æŒ‘æˆ˜ä¹‹ä¸€å°±æ˜¯å¯æ‰©å±•æ€§ã€‚åœ¨å•ä¸ªè®¡ç®—å®ä¾‹ä¸Šè¿è¡Œ API ç½‘å…³ç›¸å¯¹ç®€å•ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥å°†é€Ÿç‡é™åˆ¶çš„è®¡æ•°å™¨ä¿ç•™åœ¨å•æœºå†…å­˜ä¸­ã€‚æ¯”å¦‚ä½ æ˜¯å¯¹ clientId è¿›è¡Œé€Ÿç‡é™åˆ¶ï¼Œåˆ™åªéœ€åœ¨å†…å­˜æ˜ å°„ä¸­æ£€æŸ¥å¹¶è®¾ç½®ï¼ˆå¢åŠ ï¼‰å…³è” clientId çš„æ•´æ•°è®¡æ•°å™¨å³å¯ã€‚ä½†æ˜¯ï¼Œæ­¤æ–¹æ³•ä¸èƒ½æ‰©å±•å•ä¸ªå®ä¾‹åˆ°ç½‘å…³å®ä¾‹é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è§è¿‡ä¸€äº›å¼€å‘äººå‘˜è¯•å›¾é€šè¿‡ä½¿ç”¨ç²˜æ€§ä¼šè¯æˆ–å°†å¯å…è®¸è¯·æ±‚çš„æ€»æ•°é™¤ä»¥é€Ÿç‡é™åˆ¶å®ä¾‹çš„æ•°é‡æ¥è§£å†³æ­¤é™åˆ¶ã€‚ä½†æ˜¯ï¼Œè¿™æ ·åšçš„é—®é¢˜åœ¨äºï¼Œåœ¨é«˜åº¦åŠ¨æ€çš„â€œäº‘åŸç”Ÿâ€ç¯å¢ƒä¸­éƒ¨ç½²å’Œè¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™äº›æ–¹æ³•éƒ½æ— æ³•å¯é åœ°å·¥ä½œï¼Œå› ä¸ºåœ¨è¿™ç§ç¯å¢ƒä¸­ï¼Œå®ä¾‹éšæ—¶ä¼šè¢«é”€æ¯å¹¶æŒ‰éœ€é‡å»ºï¼Œæˆ–æ˜¯åŠ¨æ€æ‰©å®¹çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…‹æœæ­¤é™åˆ¶çš„æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨æŸç§å½¢å¼çš„é«˜æ€§èƒ½é›†ä¸­å¼æ•°æ®å­˜å‚¨æ¥ç®¡ç†è¯·æ±‚è®¡æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨ Lyftï¼Œè¯¥å›¢é˜Ÿä½¿ç”¨ &lt;a href=&#34;https://redis.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Redis&lt;/a&gt;ï¼ˆå¤§æ¦‚æ˜¯ä½œä¸ºé«˜å¯ç”¨çš„ Redis Sentinel é›†ç¾¤è¿è¡Œï¼‰ï¼Œé€šè¿‡ä»–ä»¬çš„ Envoy ä»£ç†ç»Ÿè®¡&lt;a href=&#34;https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/global_rate_limiting.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;é€Ÿç‡é™åˆ¶çš„æŒ‡æ ‡&lt;/a&gt;ï¼Œè€Œè¯¥ä»£ç†é€šè¿‡ sidecar æ¨¡å¼éƒ¨ç½²åˆ°æ‰€æœ‰æœåŠ¡å’Œæ•°æ®å­˜å‚¨ä¸Šã€‚è¿™ç§æ–¹æ³•éœ€è¦æ³¨æ„ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨ Redis çš„æ£€æŸ¥å’Œè®¾ç½®æ“ä½œçš„åŸå­æ€§æ–¹é¢ã€‚å‡ºäºæ€§èƒ½åŸå› é€šå¸¸å»ºè®®é¿å…ä½¿ç”¨é”æœºåˆ¶ï¼Œè€Œ &lt;a href=&#34;https://gist.github.com/ptarjan/e38f45f2dfe601419ca3af937fff574d&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Stripe&lt;/a&gt; å’Œ &lt;a href=&#34;https://blog.figma.com/an-alternative-approach-to-rate-limiting-f8a06cf7c94c&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Figma&lt;/a&gt; é€šè¿‡åœ¨ Redis å¼•æ“ä¸­ä½¿ç”¨ Lua è„šæœ¬åŠŸèƒ½ä¿è¯åŸå­æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªç»å¸¸é‡åˆ°çš„æŒ‘æˆ˜æ¶‰åŠå¦‚ä½•æå–è¯·æ±‚ï¼ˆå…ƒï¼‰æ•°æ®ç”¨äºå†³ç­–é€Ÿç‡é™åˆ¶ï¼Œæˆ–è€…æŒ‡å®šï¼ˆæˆ–å®ç°ï¼‰ç”¨äºç¡®å®šæ˜¯å¦åº”è¯¥æ‹’ç»ç‰¹å®šè¯·æ±‚çš„ç›¸å…³ç®—æ³•ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä½ å¸Œæœ›èƒ½å¤Ÿé€šè¿‡å®¢æˆ·ç«¯å±æ€§ï¼ˆä¾‹å¦‚è¯·æ±‚ HTTP æ–¹æ³•ï¼Œä½ç½®ï¼Œè®¾å¤‡ç­‰ï¼‰å’Œåå°å±æ€§ï¼ˆä¾‹å¦‚æœåŠ¡ç«¯ç‚¹ï¼Œç”±ç”¨æˆ·è¿˜æ˜¯åº”ç”¨ç¨‹åºå‘èµ·çš„è¯·æ±‚ç­‰ç±»ä¼¼çš„è¯­ä¹‰ä¿¡æ¯ä»¥åŠæœŸæœ›çš„æœ‰æ•ˆè´Ÿè½½ï¼‰æ¥å†³ç­–é€Ÿç‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é€šè¿‡å¤–éƒ¨æœåŠ¡å®æ–½é€Ÿç‡é™åˆ¶&#34;&gt;é€šè¿‡å¤–éƒ¨æœåŠ¡å®æ–½é€Ÿç‡é™åˆ¶&lt;/h2&gt;
&lt;p&gt;é’ˆå¯¹ä¸Šä¸€èŠ‚è®¨è®ºçš„è®¸å¤šæŒ‘æˆ˜ï¼Œ&lt;a href=&#34;https://eng.lyft.com/announcing-ratelimit-c2e8f3182555&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Lyft å·¥ç¨‹å›¢é˜Ÿ&lt;/a&gt;å»å¹´æå‡ºäº†ä¸€ä¸ªæœ‰è¶£çš„è§£å†³æ–¹æ¡ˆï¼Œå½“æ—¶ä»–ä»¬è°ˆè®ºäº†ä»–ä»¬å¦‚ä½•ä½¿ç”¨ Envoy ä»£ç†ï¼ˆæˆ‘ä»¬ç°åœ¨å«çš„åå­—ï¼‰ä½œä¸ºæœåŠ¡ç½‘æ ¼ï¼Œé€šè¿‡ä¸ºæ¯ä¸ªè¯·æ±‚è°ƒç”¨å¤–éƒ¨ &lt;a href=&#34;https://github.com/lyft/ratelimit&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RateLimit&lt;/a&gt; æœåŠ¡æ¥å®ç°é™åˆ¶é€Ÿç‡ã€‚RateLimit æœåŠ¡ç¬¦åˆ&lt;a href=&#34;https://github.com/lyft/ratelimit/blob/master/proto/ratelimit/ratelimit.proto&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿™é‡Œ&lt;/a&gt;å®šä¹‰çš„é€Ÿç‡é™åˆ¶ Protobuf åè®®ï¼Œè€Œè¿™å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªé€Ÿç‡é™åˆ¶ APIã€‚Datawire å›¢é˜Ÿå·²ç»åœ¨ Envoy ä»£ç†ä¹‹ä¸Šæ„å»ºäº†å¼€æº Ambassador API ç½‘å…³ï¼ŒåŒæ—¶æœ€è¿‘ &lt;a href=&#34;https://twitter.com/alex_gervais&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Alex Gervais&lt;/a&gt; å·²ç»ä¸º Ambassador æä¾›äº†ç›¸åŒçš„&lt;a href=&#34;https://blog.getambassador.io/ambassador-adds-rate-limiting-support-in-0-31-595cc8f91e49&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;é€Ÿç‡é™åˆ¶æ”¯æŒ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä½ ç°åœ¨å¯ä»¥è®¿é—®ä¸€ä¸ªåŸºäº Protobuf é€Ÿç‡é™åˆ¶æœåŠ¡ APIï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„è¯­è¨€ï¼ˆæˆ–è‡³å°‘æ˜¯ä»»ä½•æ”¯æŒ Protobuf çš„ç°ä»£åŒ–è¯­è¨€ï¼‰æ¥å®ç°æ‹¥æœ‰é€Ÿç‡é™åˆ¶çš„æœåŠ¡ã€‚ä½ ç°åœ¨è¿˜å¯ä»¥å®Œå…¨è‡ªç”±åœ°åœ¨æœåŠ¡ä¸­å®ç°ä»»ä½•ä½ å–œæ¬¢çš„é€Ÿç‡é™åˆ¶ç®—æ³•ï¼Œå¹¶ä¸”åŸºäºä»»ä½•ä½ æƒ³è¦ä¼ é€’ç»™æœåŠ¡çš„å…ƒæ•°æ®æ¥åˆ¶å®šé€Ÿç‡é™åˆ¶ç­–ç•¥ã€‚Lyft RateLimit æœåŠ¡ä¸­çš„&lt;a href=&#34;https://github.com/lyft/ratelimit#user-content-examples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç¤ºä¾‹&lt;/a&gt;æä¾›äº†ä¸€äº›æœ‰è¶£çš„çµæ„Ÿï¼å€¼å¾—ä¸€æçš„æ˜¯ï¼Œç”±äº Ambassador API ç½‘å…³åœ¨ Kubernetes å†…éƒ¨è¿è¡Œï¼Œä½ åˆ›å»ºçš„ä»»ä½•é™åˆ¶é€Ÿç‡çš„æœåŠ¡éƒ½å¯ä»¥åˆ©ç”¨ Kubernetes æ¥å¤„ç†æ‰©å±•å’Œå®¹é”™ã€‚
















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof69xqimj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_aecff21725ce0546cd3dd1ab42af329e.webp 400w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof69xqimj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_21f1e4ac38c720d7c9ccb06fd73db0b8.webp 760w,
               /blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof69xqimj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-for-api-gateway-daniel-bryant-part2/855e972fly1fsof69xqimj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_aecff21725ce0546cd3dd1ab42af329e.webp&#34;
               width=&#34;620&#34;
               height=&#34;410&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;å…³äºç³»åˆ—æ–‡ç« çš„ä¸‹ä¸€ç¯‡&#34;&gt;å…³äºç³»åˆ—æ–‡ç« çš„ä¸‹ä¸€ç¯‡&lt;/h2&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„é€Ÿç‡é™åˆ¶ç³»åˆ—çš„ç¬¬äºŒç¯‡æ–‡ç« ä¸­ï¼Œé˜è¿°äº†åœ¨ API ç½‘å…³å®æ–½é€Ÿç‡é™åˆ¶å’Œè´Ÿè½½å‰Šå‡çš„åŠ¨æœºï¼Œå¹¶ä¸”è¿˜æ¢è®¨äº†å®æ–½è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„ä¸€äº›æŒ‘æˆ˜ã€‚åœ¨æ–‡ç« çš„æœ€åä¸€èŠ‚ä¸­ï¼Œæˆ‘æå‡ºäº†ä¸€äº›åœ¨ç°ä»£äº‘å¹³å°ï¼ˆå¦‚ Kubernetesï¼ŒECS ç­‰ï¼‰ä¸­éƒ¨ç½²é›†æˆæœ‰é€Ÿç‡é™åˆ¶ API ç½‘å…³çš„æƒ³æ³•ï¼Œå¹¶è®¨è®ºäº†å¦‚ä½•ä½¿ç”¨å¤–éƒ¨æœåŠ¡æ¥å®ç°è¿™ä¸€åˆ‡ï¼Œä»¥è¾¾åˆ°åœ¨å®æ–½ä½ å¯¹é€Ÿç‡é™åˆ¶ç®—æ³•çš„è¦æ±‚çš„åŒæ—¶ï¼Œè¿˜èƒ½æä¾›å¾ˆå¤§çµæ´»æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å‘¨æˆ‘ä»¬å°†å‘å¸ƒæœ¬ç³»åˆ—çš„æœ€åä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åˆ©ç”¨ Java ä¸º Ambassador API ç½‘å…³å®æ–½é€Ÿç‡é™åˆ¶æœåŠ¡ï¼ˆ&lt;a href=&#34;https://github.com/danielbryantuk/ambassador-java-rate-limiter/blob/master/src/main/java/io/datawire/ambassador/ratelimiter/simpleimpl/RateLimitServer.java&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä»£ç é“¾æ¥&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œè¯·éšæ—¶é€šè¿‡ç”µå­é‚®ä»¶å‘é€ä»»ä½•é—®é¢˜ï¼Œæˆ–åˆ° Ambassador çš„ &lt;a href=&#34;https://gitter.im/datawire/ambassador&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Gitter é¢‘é“&lt;/a&gt;ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é€Ÿç‡é™åˆ¶ part1â€”åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€ä¸ªå®ç”¨å·¥å…·</title>
      <link>https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/</link>
      <pubDate>Fri, 29 Jun 2018 15:51:19 +0800</pubDate>
      <guid>https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/</guid>
      <description>&lt;p&gt;åœ¨è®¡ç®—é¢†åŸŸï¼Œé€Ÿç‡é™åˆ¶é€šå¸¸ç”¨äºæ§åˆ¶æœåŠ¡å‘èµ·æˆ–æ¶ˆè€—çš„æ“ä½œé€Ÿç‡ï¼Œæˆ–è€…æ˜¯è¯·æ±‚å‘é€æˆ–æ¥æ”¶çš„æµé‡ã€‚å¦‚æœä½ æœ‰ä¸€å¹´ä»¥ä¸Šçš„è½¯ä»¶å¼€å‘ç»éªŒï¼Œé‚£ä¹ˆä½ åº”è¯¥ä¼šé‡åˆ°è¿™ä¸ªæ¦‚å¿µã€‚ä½†æ˜¯ï¼Œå’Œå¾ˆå¤šè½¯ä»¶æ¶æ„æ‰€é¢ä¸´çš„æŒ‘æˆ˜ä¸€æ ·ï¼Œæ¯”èµ·å®é™…å‡ºç°çš„é—®é¢˜ï¼Œéœ€è¦æ€è€ƒçš„é—®é¢˜ä¼šæ›´å¤šã€‚æœ¬æ–‡æ¦‚è¿°äº†ç°ä»£åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºä¸­çš„ä¸€äº›å…³äºé€Ÿç‡é™åˆ¶çš„å®ç°æ–¹æ¡ˆã€ä¼˜åŠ¿å’ŒæŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦é€Ÿç‡é™åˆ¶&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦é€Ÿç‡é™åˆ¶ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å®ç°é€Ÿç‡é™åˆ¶ä¸»è¦æ˜¯ç”±äºä»¥ä¸‹ä¸‰ä¸ªåŸå› ï¼šé€šè¿‡èµ„æºèŠ‚åˆ¶é˜²æ­¢ï¼ˆæœ‰æ„æ— æ„çš„ï¼‰æ‹’ç»æœåŠ¡ï¼Œé™åˆ¶ï¼ˆæ½œåœ¨çš„ï¼‰çº§è”æ•…éšœçš„å½±å“ï¼Œä»¥åŠé™åˆ¶æˆ–è®¡é‡èµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.twitter.com/en/docs/basics/rate-limiting&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Twitter&lt;/a&gt; æˆ– &lt;a href=&#34;https://go.developer.ebay.com/api-call-limits&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ebay&lt;/a&gt; è¿™æ ·çš„ä¼ä¸šç»„ç»‡ä½¿ç”¨äº†ä¸€ç§ç±»ä¼¼çš„æ‹’ç»æœåŠ¡é˜²æ²»æ¨¡å¼ï¼šåœ¨ SaaS API ä¹‹å‰æ”¾ç½®ä¸€ä¸ªé€Ÿç‡é™åˆ¶å™¨ï¼Œä»¥æ­¤æ¥é¿å…é’ˆå¯¹ API åç«¯çš„æ‹’ç»æœåŠ¡æ¶æ„æ”»å‡»ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¸ºæ‰€æœ‰æ¶ˆè´¹è€…æä¾›ä¸€è‡´çš„æœåŠ¡ã€‚åœ¨é‚£äº›æ”¯ä»˜ APIï¼ˆå¦‚ &lt;a href=&#34;https://stripe.com/blog/rate-limiters&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Stripe&lt;/a&gt; ï¼‰çš„å‡è´Ÿç­–ç•¥ä¸­å¯ä»¥ä½¿ç”¨é€Ÿç‡é™åˆ¶æ¥é˜²æ­¢çº§è”æ•…éšœï¼ˆé€šè¿‡ç³»ç»Ÿä¸­çš„ä¸€äº›ç»„ä»¶éƒ¨åˆ†é™çº§ï¼‰ã€‚åŒæ ·ï¼Œå½“ä¸ºå¤–éƒ¨ä¿¡æ¯æºè½®è¯¢å¥åº·æ£€æŸ¥è¿™äº›æ–°æ•°æ®æ—¶ï¼Œä¹Ÿä¼šä½¿ç”¨é™åˆ¶ï¼ˆæˆ–è®¡é‡ï¼‰æ¨¡å¼ã€‚è¿™æ ·æˆ‘ä»¬åªéœ€è¦å®šæœŸè·å–æ•°æ®ï¼Œå¹¶å¯ä»¥ä¸ºå¯åŠ¨çš„æ¯ä¸ªè¯·æ±‚ä»˜è´¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•é€‰æ‹©&#34;&gt;å¦‚ä½•é€‰æ‹©ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åŸºäºç®€åŒ–çš„åŸåˆ™ï¼Œæˆ‘ä»¬å‡è®¾æ­£åœ¨å¤„ç†ç‚¹å¯¹ç‚¹é€šä¿¡æ¨¡å‹ä¸­çš„é€Ÿç‡é™åˆ¶ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œä½ å¯ä»¥åœ¨æ•°æ®å‘é€çš„â€œå‘é€ç«¯â€æˆ–æ•°æ®æ¶ˆè´¹â€œæ¥æ”¶ç«¯â€ä¸­çš„ä»»ä½•åœ°æ–¹å®æ–½é€Ÿç‡é™åˆ¶ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–â€œä¸­é—´ä»¶â€é€‰é¡¹ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-å‘é€ç«¯å’Œæ¥æ”¶ç«¯&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;å‘é€ç«¯å’Œæ¥æ”¶ç«¯&#34; srcset=&#34;
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq2gb6qhj20lp05wmx4_hud1c9d7e810d14ba7fd378f4b3d3fa352_13116_8704f8902076d1215bb254b6ec5397a7.webp 400w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq2gb6qhj20lp05wmx4_hud1c9d7e810d14ba7fd378f4b3d3fa352_13116_1efe89658a28bf2ddb6c831ea25cc713.webp 760w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq2gb6qhj20lp05wmx4_hud1c9d7e810d14ba7fd378f4b3d3fa352_13116_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq2gb6qhj20lp05wmx4_hud1c9d7e810d14ba7fd378f4b3d3fa352_13116_8704f8902076d1215bb254b6ec5397a7.webp&#34;
               width=&#34;760&#34;
               height=&#34;206&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      å‘é€ç«¯å’Œæ¥æ”¶ç«¯
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å¯ä»¥æ§åˆ¶å‘é€ç«¯å‘é€è¯·æ±‚çš„é€Ÿç‡ï¼šé€šè¿‡å®šä¹‰æ—¶é—´é™åˆ¶å¾ªç¯æ¥å®šæœŸå‘é€ API è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥æ§åˆ¶æ¥æ”¶ç«¯æ¥æ”¶è¯·æ±‚çš„é€Ÿç‡ï¼šåœ¨å½“å‰ä»»åŠ¡/çº¿ç¨‹å¤„ç†å®Œæˆä¹‹å‰æ‹’ç»æ–°çš„å…¥ç«™ HTTP è¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-æ§åˆ¶é€Ÿç‡&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;æ§åˆ¶é€Ÿç‡&#34; srcset=&#34;
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq7eltt3j20rc06tdfv_hua95a442ddca69898b2a777dbeea58e15_20302_7a376d704b2dcb26e5c875ab6e852537.webp 400w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq7eltt3j20rc06tdfv_hua95a442ddca69898b2a777dbeea58e15_20302_50ab79915b3a0b51293dede48717becf.webp 760w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq7eltt3j20rc06tdfv_hua95a442ddca69898b2a777dbeea58e15_20302_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq7eltt3j20rc06tdfv_hua95a442ddca69898b2a777dbeea58e15_20302_7a376d704b2dcb26e5c875ab6e852537.webp&#34;
               width=&#34;760&#34;
               height=&#34;189&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      æ§åˆ¶é€Ÿç‡
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å¯ä»¥ä½¿ç”¨ä¸­é—´å±‚æ¥ç¼“å†²å‘é€çš„è¯·æ±‚ï¼šé€šè¿‡å°†è¯·æ±‚æ”¾å…¥é˜Ÿåˆ—ï¼ˆå¯ä»¥é€šè¿‡å®šä¹‰ä¸åŒä¼˜å…ˆçº§ï¼Œä¸ºè¯·æ±‚æä¾›ä¸åŒçº§åˆ«çš„ SLAï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-è¯·æ±‚ç¼“å†²&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;è¯·æ±‚ç¼“å†²&#34; srcset=&#34;
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq8on7a0j20lr07eaa2_hu2383703908aa2b716d48bb44f695dec4_14061_3ed6bb986c80704eded93d904883b09d.webp 400w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq8on7a0j20lr07eaa2_hu2383703908aa2b716d48bb44f695dec4_14061_26b550869fcbbaa21c2f0a03f5716d9b.webp 760w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq8on7a0j20lr07eaa2_hu2383703908aa2b716d48bb44f695dec4_14061_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq8on7a0j20lr07eaa2_hu2383703908aa2b716d48bb44f695dec4_14061_3ed6bb986c80704eded93d904883b09d.webp&#34;
               width=&#34;760&#34;
               height=&#34;258&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      è¯·æ±‚ç¼“å†²
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ å¯ä»¥ä½¿ç”¨ä¸­é—´å±‚æ¥é™åˆ¶å‘é€çš„è¯·æ±‚ï¼šé€šè¿‡ä½¿ç”¨æŸç§å½¢å¼çš„ä»£ç†æˆ–ç½‘å…³ã€‚è¿™æ ·å½“ä¸‹æ¸¸æœåŠ¡ä¸å†æ¥å—è¯·æ±‚æ—¶ï¼Œå®ƒä¼šåˆ‡æ¢è‡³æ–­è·¯å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-ä¸­é—´å±‚&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;ä¸­é—´å±‚&#34; srcset=&#34;
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq9qjzycj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_a6e555c470d15e421362e7a6fc75de8e.webp 400w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq9qjzycj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_33b282b13c729cacd3ba4ee4b9010ba3.webp 760w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq9qjzycj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmq9qjzycj20jk06tdgn_hu9a55e17f793ed0c5833126b5d562d46a_18968_a6e555c470d15e421362e7a6fc75de8e.webp&#34;
               width=&#34;704&#34;
               height=&#34;245&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ä¸­é—´å±‚
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•æƒè¡¡&#34;&gt;å¦‚ä½•æƒè¡¡ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦è§£å†³ä¸Šè¿°é—®é¢˜çš„ç³»ç»Ÿï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹æ–¹æ¡ˆï¼Œå¹¶æ¸…æ¥šå®šä¹‰åœ¨å“ªäº›åœ°æ–¹ï¼ˆåŠç›¸åº”ç»„ä»¶ï¼‰éœ€è¦å®ç°é€Ÿç‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ åªæ§åˆ¶å…¶ä¸­ä¸€ç«¯ï¼ˆæ¯”å¦‚åªæ§åˆ¶æ¥æ”¶ç«¯æˆ–åªå¼€æ”¾å…¬ç”¨ APIï¼‰ï¼Œé‚£ä¹ˆä½ çš„é€‰æ‹©ä½™åœ°å°±ä¼šå—åˆ°é™åˆ¶ï¼Œå› ä¸ºä½ ä¸èƒ½ä¾èµ–ç°æœ‰çš„è®¾è®¡æŒ‡å—æˆ–è®¾è®¡åŸåˆ™ï¼ˆå³ä½¿ç³»ç»Ÿä¸åŒ…å«æ¶æ„ä½¿ç”¨è€…ï¼‰ã€‚å³ä½¿ä½ åŒæ—¶æ§åˆ¶äº†ä¸¤ç«¯ï¼Œä½ å¯èƒ½ä»ç„¶æƒ³è¦å®ç°â€œåŒä¿é™©â€ï¼Œå®ç°åŒæ—¶åŒ…æ‹¬ä¸¤ç«¯çš„é€Ÿç‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–éœ€è¦æƒè¡¡ç‚¹åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;h3 id=&#34;å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„å¤„ç†é€Ÿç‡é™åˆ¶çš„èƒ½åŠ›&#34;&gt;å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„å¤„ç†é€Ÿç‡é™åˆ¶çš„èƒ½åŠ›&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰æ—¶ç”±äºå¼€å‘æ¨¡å‹æˆ–å¯ç”¨èµ„æºé™åˆ¶ç­‰åŸå› ï¼Œä¸å¯èƒ½åœ¨ç»„ä»¶å†…å®æ–½æœ‰æ•ˆçš„é€Ÿç‡é™åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå•ä¸ªç»„ä»¶çš„é€Ÿç‡é™åˆ¶å¯èƒ½æ— æ³•æä¾›æ‰€éœ€çš„åŠŸèƒ½ï¼ˆè‡³å°‘åœ¨ä¸€å®šç¨‹åº¦ä¸Šéœ€è¦å…¶ä»–åè°ƒï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„é€Ÿç‡é™åˆ¶äº†æŸä¸ªè¯·æ±‚å‘é€ç«¯è¿›è¡Œè¿æ¥ï¼Œä½ éœ€è¦æ¨ªå‘æ‰©å±•è‡³ä¸¤ä¸ªå‘é€ç«¯æ¥æ»¡è¶³éœ€æ±‚ï¼Œè¿™æ ·å¯¼è‡´å…è®¸çš„å‘é€ç«¯å˜ä¸ºä¸¤ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;ä½ å¯èƒ½ä¹Ÿä¸å¸Œæœ›åç«¯æœåŠ¡å·¥ç¨‹å¸ˆå¼€å‘é€Ÿç‡é™åˆ¶åŠŸèƒ½ï¼Œå› ä¸ºè¿™æ ·å¯èƒ½ä¼šç”±äºå®šåˆ¶å¼€å‘è€Œå¼•èµ·ä¸åŒæŠ€æœ¯æ ˆçš„å·®å¼‚ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåº”ç”¨ç¨‹åºè´Ÿè½½è¿‡é‡ï¼Œå¯èƒ½éœ€è¦å°†æ‰€æœ‰é€Ÿç‡é™åˆ¶åŠŸèƒ½æ”¾åˆ°åº”ç”¨å¤–ï¼Œä»¥é¿å…åœ¨åº”ç”¨ä¸­æ‰§è¡Œé€Ÿç‡é™åˆ¶åŠŸèƒ½å¯¼è‡´å…¶æ€§èƒ½æŸå¤±ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ç›¸ä¿¡ä½ å¬è¯´è¿‡â€œå•ä¸€èŒè´£â€åŸåˆ™ã€‚å› æ­¤åœ¨ç²—é¢—ç²’åº¦æ¶æ„çº§åˆ«ï¼Œä½ å¯èƒ½ä¼šè¦æ±‚åœ¨åº”ç”¨å¤–çš„ç»„ä»¶é‡Œæä¾›åƒé€Ÿç‡é™åˆ¶è¿™æ ·çš„è¾…åŠ©åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶çš„æ•…éšœæ¨¡å¼&#34;&gt;é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶çš„æ•…éšœæ¨¡å¼&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä½ æœ‰å¿…è¦çŸ¥é“é€Ÿç‡é™åˆ¶æœåŠ¡å´©æºƒï¼ˆæœåŠ¡å¯åŠ¨å¤±è´¥æˆ–è¢«å…³é—­ï¼‰æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå¦‚æœæœåŠ¡èƒ½ç¼“å†²è¯·æ±‚ï¼Œä½ å¯èƒ½éœ€è¦å®šä¹‰æœåŠ¡é‡å¯ç­–ç•¥ï¼ˆæœŸé—´çš„è¯·æ±‚éœ€è¦è¢«ç¼“å†²è‡³ç£ç›˜ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶çš„ç®—æ³•çµæ´»æ€§&#34;&gt;é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶çš„ç®—æ³•çµæ´»æ€§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªå·±å®ç°åŸºäºå‘é€ç«¯æˆ–æ¥æ”¶ç«¯é€Ÿç‡é™åˆ¶åŠŸèƒ½çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºæ˜¯ä½ å¯ä»¥å®Œå…¨æ§åˆ¶é€Ÿç‡é™åˆ¶ç®—æ³•çš„å®ç°æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œ&lt;a href=&#34;https://en.wikipedia.org/wiki/Token_bucket&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä»¤ç‰Œæ¡¶&lt;/a&gt; ã€ &lt;a href=&#34;https://blog.figma.com/an-alternative-approach-to-rate-limiting-f8a06cf7c94c&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å›ºå®šçª—å£&lt;/a&gt; ã€ &lt;a href=&#34;https://blog.figma.com/an-alternative-approach-to-rate-limiting-f8a06cf7c94c&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ»‘åŠ¨çª—å£&lt;/a&gt; ä»¥åŠé€šè¿‡è¯·æ±‚ï¼ˆå…ƒï¼‰æ•°æ®æ¥è¿›è¡Œç®—æ³•å†³ç­–ã€‚&lt;/li&gt;
&lt;li&gt;ä½ éœ€è¦ç»å¸¸è¯„ä¼°å“ªäº›ç®—æ³•å¯ä»¥ä¸å¤–éƒ¨é€Ÿç‡é™åˆ¶æœåŠ¡ä¸€èµ·â€œå¼€ç®±å³ç”¨â€ï¼ŒåŒæ—¶ç¡®å®šæ˜¯å¦éœ€è¦å…¶ä»–å¤–éƒ¨æ•°æ®ï¼ˆåŒ…æ‹¬å…³è”çš„å…ƒæ•°æ®å¤„ç†ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ¡ˆä¾‹&#34;&gt;æ¡ˆä¾‹&lt;/h2&gt;
&lt;p&gt;æ›´å…·ä½“ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿è¡Œä¸€ä¸ªä»»åŠ¡æ¥è°ƒç”¨ç¬¬ä¸‰æ–¹-sdkæ¯æ¬¡è°ƒç”¨éƒ½å…·æœ‰è¯·æ±‚é™åˆ¶åŒæ—¶æŒ‰è®¡é‡æ”¶è´¹å³ä½ æ§åˆ¶å‘é€ç«¯ä½†æ— æ³•æ§åˆ¶æ¥æ”¶ç«¯&#34;&gt;è¿è¡Œä¸€ä¸ªä»»åŠ¡æ¥è°ƒç”¨ç¬¬ä¸‰æ–¹ SDKï¼Œæ¯æ¬¡è°ƒç”¨éƒ½å…·æœ‰è¯·æ±‚é™åˆ¶ï¼ŒåŒæ—¶æŒ‰è®¡é‡æ”¶è´¹ï¼ˆå³ä½ æ§åˆ¶å‘é€ç«¯ï¼Œä½†æ— æ³•æ§åˆ¶æ¥æ”¶ç«¯ï¼‰ã€‚&lt;/h3&gt;
&lt;p&gt;å¯¹äºè¯·æ±‚é™åˆ¶å’ŒæŒ‰è®¡é‡æ”¶è´¹çš„æ–¹æ¡ˆï¼Œæˆ‘å¸Œæœ›å®æ–½æœ¬åœ°ï¼ˆå‘é€ç«¯ï¼‰é€Ÿç‡é™åˆ¶ã€‚å‡è®¾è¯·æ±‚è¶…è¿‡äº†é€Ÿç‡é™åˆ¶ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œæˆ–è€…å¯èƒ½è¢«ï¼ˆæš‚æ—¶ï¼‰é˜»æ­¢ã€‚æˆ‘å› æ­¤éœ€è¦ç¡®è®¤ SLA æˆ–æ£€æŸ¥ç”Ÿäº§å®æ–½æ–‡æ¡£ã€‚æ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œæˆ‘éƒ½ä¸ä¼šå¸Œæœ›æˆ‘çš„åº”ç”¨ç¨‹åºç®€å•åœ°åœ¨ä¸æ–­å°è¯•å¾ªç¯è¿æ¥ï¼Œå› ä¸ºæ˜¯è¿™åªä¼šæµªè´¹æˆ‘çš„èµ„æºã€‚å¦‚æœå‘é€ç«¯æ²¡æœ‰åŸºäºè®¡é‡æ”¶è´¹çš„é€Ÿç‡é™åˆ¶ï¼Œæˆ‘ä¼šä»˜å‡ºå¾ˆå¤šé’±ï¼Œè€Œä¸”æ²¡æœ‰äººæ„¿æ„è¿™æ ·åšï¼&lt;/p&gt;
&lt;p&gt;åœ¨ Java è¯­è¨€ä¸­ï¼Œæˆ‘ç»å¸¸ä½¿ç”¨ Google å¼€æºçš„ Guava RateLimiter åº“æ¥è§£å†³è¿™ç±»é—®é¢˜ã€‚æˆ‘å†™çš„å‘é€ç«¯çš„åº”ç”¨ç¨‹åºç¤ºä¾‹å°±åƒä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-guava-æ¡ˆä¾‹&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;Guava æ¡ˆä¾‹&#34; srcset=&#34;
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqalcy5zj20kv03gglu_hu98388f137656d42f4cfa27a8bbb3c661_26655_6429da66ece8cf1bfffb43549bc25021.webp 400w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqalcy5zj20kv03gglu_hu98388f137656d42f4cfa27a8bbb3c661_26655_295b1b4ef6b98e408e510039a4d606b8.webp 760w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqalcy5zj20kv03gglu_hu98388f137656d42f4cfa27a8bbb3c661_26655_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqalcy5zj20kv03gglu_hu98388f137656d42f4cfa27a8bbb3c661_26655_6429da66ece8cf1bfffb43549bc25021.webp&#34;
               width=&#34;751&#34;
               height=&#34;124&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Guava æ¡ˆä¾‹
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªåŸºäº  &lt;a href=&#34;https://google.github.io/guava/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Guava RateLimiter JavaDoc&lt;/a&gt;  çš„ç®€å•ç¤ºä¾‹ï¼Œå®é™…ä¸Šæˆ‘å¯èƒ½åœ¨ä»»åŠ¡æ‰§è¡Œé€»è¾‘ä¸­å¢åŠ ä¸€äº›å¼‚å¸¸å¤„ç†å—ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æä¾›ä¸€ä¸ªå…¬å…±-apiå³ä½ æ§åˆ¶æ¥æ”¶ç«¯ä½†æ— æ³•æ§åˆ¶å…¨éƒ¨å‘é€ç«¯&#34;&gt;æä¾›ä¸€ä¸ªå…¬å…± APIï¼ˆå³ä½ æ§åˆ¶æ¥æ”¶ç«¯ï¼Œä½†æ— æ³•æ§åˆ¶ï¼ˆå…¨éƒ¨ï¼‰å‘é€ç«¯ï¼‰&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é˜²æ­¢ API åç«¯è¿‡è½½çš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡å¯¹æ¥æ”¶ç«¯è¿›è¡Œé€Ÿç‡é™åˆ¶ï¼Œæœ€å¥½æ˜¯å°†é™åˆ¶åŠŸèƒ½æ”¾åˆ°å¦‚ API ç½‘å…³è¿™ç±»å¤–éƒ¨æœåŠ¡ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-api-gateway&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;API Gateway&#34; srcset=&#34;
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqcco3umj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_e513efdbd3be7e85e0139bdc83b7ed12.webp 400w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqcco3umj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_2049796e649da019f66351f8ed3910ec.webp 760w,
               /blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqcco3umj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://cloudnative.to/blog/rate-limiting-a-useful-tool-with-distributed-systems-part1/78a165e1gy1fsmqcco3umj20h80bemxj_hu2a3766f1e4b0e2a3cfdc7242573887ba_23549_e513efdbd3be7e85e0139bdc83b7ed12.webp&#34;
               width=&#34;620&#34;
               height=&#34;410&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      API Gateway
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h2&gt;
&lt;p&gt;é€šè¿‡è¿™ç¯‡é€Ÿç‡é™åˆ¶æ–‡ç« çš„ä¸‰éƒ¨åˆ†ï¼Œæˆ‘ä»¬äº†è§£äº†é€Ÿç‡é™åˆ¶çš„åŠ¨æœºã€å¯ä»¥é€‰æ‹©çš„æ–¹æ¡ˆå’Œç›¸å…³çš„æƒè¡¡ã€‚åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å®ç° API ç½‘å…³çš„é€Ÿç‡é™åˆ¶ç®—æ³•ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å®¹å™¨ã€æœåŠ¡ç½‘æ ¼å’Œ API ç½‘å…³ï¼šä»è¾¹ç¼˜å¼€å§‹</title>
      <link>https://cloudnative.to/blog/containers-service-mesh-and-api-gateways-it-starts-at-the-edge/</link>
      <pubDate>Thu, 21 Jun 2018 18:00:58 +0800</pubDate>
      <guid>https://cloudnative.to/blog/containers-service-mesh-and-api-gateways-it-starts-at-the-edge/</guid>
      <description>&lt;p&gt;æœ¬æ–‡ä¸ºç¿»è¯‘æ–‡ç« ï¼Œ&lt;a href=&#34;https://devops.com/containers-service-mesh-and-api-gateways-it-starts-at-the-edge/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç‚¹å‡»æŸ¥çœ‹åŸæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.docker.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Docker&lt;/a&gt; å’Œ &lt;a href=&#34;https://kubernetes.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes&lt;/a&gt; ä¸ºä»£è¡¨çš„å®¹å™¨æŠ€æœ¯ç‚™æ‰‹å¯çƒ­ï¼Œç†ŸçŸ¥è¿™ä¸€æŠ€æœ¯é¢†åŸŸçš„ç”¨æˆ·ï¼Œä¸€å®šéƒ½çŸ¥é“ä¸‹ä¸€ä¸ªçƒ­ç‚¹ï¼šService Meshï¼Œå®ƒæ‰¿è¯ºå°†å¾®æœåŠ¡ä¹‹é—´çš„å†…éƒ¨ç½‘ç»œé€šä¿¡å‡ä¸€åŒ–ï¼Œå¹¶è§£å†³ä¸€ç³»åˆ—ç›‘æ§ã€æ•…éšœéš”ç¦»ç­‰é€šç”¨éåŠŸèƒ½æ€§éœ€æ±‚ã€‚åº•å±‚çš„ä»£ç†æœåŠ¡å™¨æŠ€æœ¯æ˜¯ Service Mesh çš„ç«‹èº«ä¹‹æœ¬ï¼Œè¿™ç§æŠ€æœ¯åœ¨ Service Mesh ä¹‹å¤–ï¼Œè¿˜èƒ½ä»¥ API ç½‘å…³çš„å½¢å¼åœ¨è¾¹ç¼˜ä¸ºä¸šåŠ¡ç³»ç»Ÿæä¾›ä¸€ç³»åˆ—çš„å¢å¼ºã€‚&lt;/p&gt;
&lt;p&gt;è™½è¯´ Service Mesh çš„çˆ†å‘ä¹‹åŠ¿è®©äººè¯¯ä»¥ä¸ºç½—é©¬æ˜¯ä¸€æ—¥å»ºæˆçš„ï¼Œäº‹å®ä¸Šï¼Œåœ¨è¿™ä¸€çƒ­ç‚¹æµ®å‡ºæ°´é¢ä¹‹å‰ï¼ŒåŒ…æ‹¬ &lt;a href=&#34;https://getnelson.github.io/nelson/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Verizon&lt;/a&gt;ã€&lt;a href=&#34;https://fabiolb.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;eBday&lt;/a&gt; ä»¥åŠ &lt;a href=&#34;https://code.facebook.com/posts/1906146702752923/open-sourcing-katran-a-scalable-network-load-balancer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Facebook&lt;/a&gt; åœ¨å†…çš„å¾ˆå¤šç»„ç»‡å·²ç»åœ¨åº”ç”¨åæ¥è¢«æˆ‘ä»¬ç§°ä¹‹ä¸º Service Mesh çš„æŠ€æœ¯äº†ã€‚è¿™äº›æ—©æœŸåº”ç”¨ Service Mesh çš„ç»„ç»‡ä¹‹ä¸€å°±æ˜¯ &lt;a href=&#34;https://www.microservices.com/talks/lyfts-envoy-monolith-service-mesh-matt-klein/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Lyft&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸€å®¶å¹´æ”¶å…¥è¶…è¿‡åäº¿ç¾å…ƒçš„ç¾å›½ç½‘çº¦è½¦å·¨å¤´ã€‚Lyft è¿˜æ˜¯å¼€æºè½¯ä»¶ &lt;a href=&#34;https://www.envoyproxy.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Envoy Proxy&lt;/a&gt; çš„è¯ç”Ÿåœ°ï¼ŒEnvoy åœ¨ Service Mesh ä¸–ç•Œä¸­ä¸¾è¶³è½»é‡ï¼ŒKubernetes åŸç”Ÿçš„ &lt;a href=&#34;https://istio.io/docs/concepts/what-is-istio/overview/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Istio æ§åˆ¶é¢&lt;/a&gt; å’Œ &lt;a href=&#34;https://www.getambassador.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ambassador API ç½‘å…³&lt;/a&gt; ä¹Ÿéƒ½å»ºç­‘åœ¨ Lyft çš„åŸºç¡€ä¹‹ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;soa-ç½‘ç»œçš„çƒ¦æ¼&#34;&gt;SOA ç½‘ç»œçš„çƒ¦æ¼&lt;/h2&gt;
&lt;p&gt;Matt Klein æ˜¯ Envoy Proxy çš„ä½œè€…ä¹‹ä¸€ï¼Œä»–å»å¹´çš„ä¸€æ¬¡è°ˆè¯ä¸­è¯´åˆ°ï¼ŒSOAï¼ˆé¢å‘æœåŠ¡çš„æ¶æ„ï¼‰å’Œå¾®æœåŠ¡ç½‘ç»œæ˜¯â€œ&lt;a href=&#34;https://www.microservices.com/talks/lyfts-envoy-monolith-service-mesh-matt-klein/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ··ä¹±çš„åºç„¶å¤§ç‰©&lt;/a&gt;â€ã€‚èº«å¤„å…¶ä¸­çš„æ¯ä¸ªåº”ç”¨éƒ½è¾“å‡ºäº†ä¸åŒçš„ç»Ÿè®¡å’Œæ—¥å¿—ï¼Œæ•´ä¸ªæœåŠ¡å †æ ˆå¦‚ä½•å¤„ç†è¯·æ±‚ç”Ÿæˆå“åº”çš„è¿‡ç¨‹ä¹Ÿæ˜¯æ— æ³•è·Ÿè¸ªçš„ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹è¿›è¡Œ Debug çš„å·¨å¤§éš¾åº¦ä¹Ÿå°±å¯ä»¥æƒ³è±¡äº†ã€‚åŒæ—¶å¯¹ç±»ä¼¼è´Ÿè½½å‡è¡¡å™¨ã€ç¼“å­˜ä»¥åŠç½‘ç»œæ‹“æ‰‘è¿™æ ·çš„åŸºç¡€è®¾æ–½ç»„ä»¶çš„ç›‘æ§èƒ½åŠ›ä¹Ÿæ˜¯å¾ˆæœ‰é™çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä»–è§‰å¾—ï¼šâ€œè¿™å¾ˆç—›è‹¦ï¼Œæˆ‘è®¤ä¸ºå¤šæ•°å…¬å¸éƒ½èµåŒ SOAï¼ˆå¾®æœåŠ¡ï¼‰æ˜¯ä¸ªå¯è§è¶‹åŠ¿ï¼Œåœ¨è¿™ä¸€è¶‹åŠ¿çš„è·µè¡Œè¿‡ç¨‹ä¸­ä¼šæ”¶è·å¾ˆå¤šï¼Œä½†æ˜¯å…¶ä¸­ä¹Ÿæ»¡æ˜¯ç—›è‹¦ã€‚ä¸»è¦çš„ç—›è‹¦æ¥æºå°±æ˜¯ Debugâ€ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¤§è§„æ¨¡ç»„ç»‡æ¥è¯´ï¼Œåˆ†å¸ƒå¼ Web åº”ç”¨çš„å¯é æ€§å’Œé«˜å¯ç”¨æ”¯æŒæ˜¯ä¸€ä¸ªæ ¸å¿ƒæŒ‘æˆ˜ã€‚è¿™ç§æŒ‘æˆ˜çš„åº”å¯¹æ–¹å¼ä¸­ï¼Œæ™®éåŒ…å«åŒ…å«é‡è¯•ã€è¶…æ—¶ã€é¢‘ç‡æ§åˆ¶å’Œç†”æ–­ç­‰åŠŸèƒ½é€»è¾‘çš„å„ç§å®ç°ã€‚å¾ˆå¤šç³»ç»Ÿï¼Œä¸è®ºå¼€æºä¸å¦ï¼Œéƒ½ä¼šä½¿ç”¨é”å®šç‰¹å®šè¯­è¨€ï¼ˆç”šè‡³é”å®šæ¡†æ¶ï¼‰çš„å½¢å¼æ¥å®ç°è¿™ç§æ–¹æ¡ˆï¼Œè¿™å°±æ„å‘³ç€å¼€å‘äººå‘˜ä¹ŸåŒæ—¶è¢«è¿›è¡Œé”å®šã€‚Klein å’Œä»–åœ¨ Lyft çš„å›¢é˜Ÿè®¤ä¸ºï¼Œä¸€å®šæœ‰æ›´å¥½çš„åŠæ³•ã€‚æœ€ç»ˆ Envoy é¡¹ç›®è¯ç”Ÿäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¤–éƒ¨å¹²é¢„è¾¹ç¼˜ä»£ç†çš„ä¼˜åŠ¿&#34;&gt;å¤–éƒ¨å¹²é¢„ï¼šè¾¹ç¼˜ä»£ç†çš„ä¼˜åŠ¿&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://eng.lyft.com/announcing-envoy-c-l7-proxy-and-communication-bus-92520b6c8191&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;2016 å¹´ 9 æœˆ&lt;/a&gt; ä»¥å¼€æºå½¢å¼å‘å¸ƒäº† Envoy Proxyï¼ŒKlein å’Œ Lyft å·¥ç¨‹å¸ˆå›¢é˜Ÿä¸€å¤•æˆåï¼Œä½†è¿™å¹¶éä¸€è¹´è€Œå°±ï¼ŒLyft æ¶æ„ä»æœ€åˆçš„æ··åˆ SOA æ¶æ„èµ·æ­¥ï¼ŒèŠ±è´¹äº†å››å¹´ï¼Œçªç ´å±‚å±‚é™©é˜»å‡çº§ä¸ºæœåŠ¡ç½‘æ ¼æ²»ç†ä¹‹ä¸‹çš„å¾®æœåŠ¡ä½“ç³»ã€‚2017 å¹´çš„&lt;a href=&#34;https://www.microservices.com/talks/mechanics-deploying-envoy-lyft-matt-klein/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¾®æœåŠ¡å®è·µè€…è™šæ‹Ÿå³°ä¼š&lt;/a&gt;ä¸Šï¼ŒKlein è®²è¿°äº†å‘æœåŠ¡ç½‘æ ¼è¿›è¡ŒæŠ€æœ¯è¿ç§»çš„è¿‡ç¨‹ä¸­é¢å¯¹åŸºæœ¬éœ€æ±‚å’Œç›¸å…³æŒ‘æˆ˜ï¼ŒåŠå…¶å•†ä¸šä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;Klein çš„ç¬¬ä¸€æ¬¡è‰°è‹¦å–èƒœæ˜¯â€œä»è¾¹ç¼˜ä»£ç†å¼€å§‹â€çš„ã€‚å¾®æœåŠ¡ä¸ºåŸºç¡€çš„ Web åº”ç”¨éœ€è¦åœ¨è¾¹ç¼˜æä¾›åå‘ä»£ç†ï¼Œä¸€æ–¹é¢å¯ä»¥é˜²æ­¢æš´éœ²å†…éƒ¨ä¸šåŠ¡æœåŠ¡æ¥å£ï¼ˆä¼šè¿åæ¾è€¦åˆåŸåˆ™ï¼‰ï¼Œå¦ä¸€æ–¹é¢ï¼Œæš´éœ²å¤§é‡æœåŠ¡ä¹Ÿæ„å‘³ç€å¤§é‡çš„ç‹¬ç«‹ URI ä»¥åŠ RPC ç«¯ç‚¹ï¼Œè¿™ä¼šæ¶ˆè€—å¤§é‡çš„è¿ç»´èµ„æºã€‚ç°å­˜çš„äº‘æ‰€æä¾›çš„è¾¹ç¼˜ä»£ç†æœåŠ¡å™¨æˆ–è€…ç½‘å…³éƒ½ä¸å¾ˆå¥½ï¼Œä¸åŒäº§å“å‘ˆç°ç»™å·¥ç¨‹å¸ˆçš„æ˜¯ä¸åŒçš„ã€æ˜“æ··æ·†çš„å·¥ä½œç•Œé¢ã€‚Klein å€¡è®®åœ¨è¾¹ç¼˜å®ç°ä¸€ä¸ªç°ä»£åŒ–çš„ä»£ç†æœåŠ¡ï¼Œåœ¨å…¶ä¸­æä¾›æ”¹è¿›çš„ç›‘æ§ã€è´Ÿè½½å‡è¡¡ä»¥åŠåŠ¨æ€è·¯ç”±èƒ½åŠ›ï¼Œä»¥æ­¤æ¥äº§ç”Ÿå•†ä¸šä»·å€¼ã€‚å·¥ç¨‹å¸ˆå›¢é˜Ÿç†è§£å’ŒæŒæ¡äº†è¾¹ç¼˜ä»£ç†çš„è¿ç»´ä¹‹åï¼Œå°±å¯ä»¥å‘å†…éƒ¨å›¢é˜Ÿè¿›è¡Œæ¨å¹¿ï¼Œæœ€ç»ˆå½¢æˆå†…éƒ¨çš„æœåŠ¡ç½‘æ ¼äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¾¹ç¼˜è¿›åŒ–ä»ä»£ç†åˆ°-api-ç½‘å…³&#34;&gt;è¾¹ç¼˜è¿›åŒ–ï¼šä»ä»£ç†åˆ° API ç½‘å…³&lt;/h2&gt;
&lt;p&gt;AppDirect æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯æä¾›äº‘ç«¯äº§å“å’ŒæœåŠ¡ç®¡ç†çš„å•†ä¸šå¹³å°ï¼Œé¢„è®¡å¹´æ”¶å…¥ 5000 ä¸‡ç¾å…ƒã€‚åœ¨ AppDirect æœ€è¿‘çš„åšå®¢ &lt;a href=&#34;https://www.appdirect.com/blog/evolution-of-the-appdirect-kubernetes-network-infrastructure&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Evolution of the AppDirect Kubernetes Network Infrastructure&lt;/a&gt; ä¸­ï¼Œä»–ä»¬ç€é‡ä»‹ç»äº†å’Œ Lyft ç±»ä¼¼çš„ç»å†ã€‚äº‘æŠ€æœ¯å’Œ Kubernetes ä¹‹ç±»çš„ç¼–æ’å¹³å°å¸¦æ¥çš„ä¸åªæ˜¯æœ‰è§„æ¨¡ã€å¼¹æ€§ä¹‹ç±»çš„å¥½å¤„ï¼Œè¿˜å› ä¸ºä¸ç”Ÿä¿±æ¥çš„æ˜“å˜å’ŒåŠ¨æ€ç‰¹æ€§ï¼Œæå‡ºäº†æ–°çš„æŒ‘æˆ˜ï¼šå¾®æœåŠ¡æ„å»ºçš„å•†ä¸šåŠŸèƒ½å¦‚ä½•åˆé€‚çš„åœ¨å…¬å…±ç«¯ç‚¹ä¸Šæä¾›æœåŠ¡ï¼Ÿ&lt;/p&gt;
&lt;p&gt;AppDirect å·¥ç¨‹å¸ˆå›¢é˜Ÿé‡‡ç”¨äº†ä¸€ç§å¯é çš„æ–¹æ³•æ¥åº”å¯¹æŒ‘æˆ˜ï¼Œé¦–å…ˆæŠŠé…ç½®çš„æ ¸å¿ƒéƒ¨åˆ†ï¼ˆä¾‹å¦‚æš´éœ²çš„æœåŠ¡ç«¯å£ï¼‰é™æ€åŒ–ï¼Œç„¶ååœ¨æ¯ä¸ªåº”ç”¨ä¹‹å‰éƒ¨ç½²è´Ÿè½½å‡è¡¡å™¨ã€‚æ¥ä¸‹æ¥çš„è¿­ä»£å°±æ˜¯ä½¿ç”¨ HashiCorp çš„åˆ†å¸ƒå¼é”®å€¼åº“ &lt;a href=&#34;https://www.consul.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Consul&lt;/a&gt; ç»“åˆæ”¯æŒçƒ­é‡è½½çš„ HAProxy åå‘ä»£ç†æ¥æä¾›æ›´å¥½çš„åŠ¨æ€ç®¡ç†èƒ½åŠ›ã€‚å›¢é˜Ÿçš„ç»ˆæç›®æ ‡æ˜¯ç”¨æ›´ä¸°å¯ŒåŠŸèƒ½çš„ API ç½‘å…³æ¥æä¾›æ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä¸­è¯´åˆ°ï¼šâ€œAPI ç½‘å…³çš„ç›®æ ‡æ˜¯åœ¨ä¸å˜æ›´å·²å…¬å¼€ API çš„è®¿é—®æ€§çš„æƒ…å†µä¸‹ï¼ˆè¿™ç§ä¸ç»å˜æ›´çš„å¯è®¿é—®æ€§ä¹ŸåŒ…å«äº†æ—§æœ‰çš„ URL ä»¥åŠå‹å•†çš„å®šåˆ¶åŸŸåç­‰ï¼‰ï¼Œé€šè¿‡æ³¨å…¥å’Œæ›¿æ¢çš„æ–¹å¼é€ä¸ªå®ç°è½¬æ¢è¿‡ç¨‹ã€‚â€&lt;/p&gt;
&lt;p&gt;åœ¨å¯¹ä¸€ç³»åˆ—çš„å¼€æºå’Œå•†ä¸šäº§å“è¿›è¡Œè¯„ä¼°ä¹‹åï¼ŒAppDirect å›¢é˜Ÿé€‰æ‹©äº†æ„å»ºåœ¨ Envoy proxy ä¹‹ä¸Šçš„ Kubernetes åŸç”Ÿçš„ Ambassador API ç½‘å…³äº§å“ï¼š&lt;/p&gt;
&lt;p&gt;â€œæ„å»ºäºæˆ‘ä»¬äº†è§£å’Œå–œçˆ±çš„ Kubernetes API ä¹‹ä¸Šçš„ Ambassadorï¼Œæ˜¯ä¸€ä¸ªè½»é‡ã€ç¨³å®šä»¥åŠæ²¡æœ‰å¤–éƒ¨æ•°æ®åº“ä¾èµ–çš„äº§å“ã€‚Ambassador å¾ˆç‹¬ç‰¹ï¼Œä½¿ç”¨ Kubernetes å¯¹è±¡æ ‡æ³¨åŠŸèƒ½æ¥å®šä¹‰è·¯ç”±é…ç½®ï¼ˆä¹Ÿå°±æ˜¯ä»¥æ­¤å®ç° &lt;a href=&#34;https://blog.envoyproxy.io/the-universal-data-plane-api-d15cec7a&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Envoy æ•°æ®é¢&lt;/a&gt;çš„æ§åˆ¶å¹³é¢ï¼‰â€â€”â€”å›¢é˜Ÿåšå®¢å¦‚æ˜¯è¯´ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ AppDirect è¿˜æ²¡æœ‰å®Œå…¨å®ç°å†…éƒ¨é€šä¿¡çš„ç½‘æ ¼åŒ–ï¼Œä½†æ˜¯å·²ç»æ„Ÿå—åˆ°äº† Envoy Proxy è¿™æ ·çš„æŠ€æœ¯æ‰€å¸¦æ¥çš„å¥½å¤„ï¼Œæ›´å­¦åˆ°äº†åœ¨äº§å“ä¸­åº”ç”¨è¿™äº›æŠ€æœ¯çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ˜Ÿç«ç‡åŸ&#34;&gt;æ˜Ÿç«ç‡åŸ&lt;/h2&gt;
&lt;p&gt;æœåŠ¡ç½‘æ ¼æŠ€æœ¯çš„å®ç°å’Œè¿ç§»è¿‡ç¨‹æ‰åˆšåˆšå¼€å§‹ï¼Œä½†æ˜¯å·²ç»å¯ä»¥è‚¯å®šï¼Œè¿™ä¸€æŠ€æœ¯å¼¥åˆäº† Kubernetes è¿™æ ·çš„ç°ä»£å®¹å™¨åŒ–å¹³å°ä¸­åº”ç”¨ä¹‹é—´çš„é¸¿æ²Ÿã€‚æœåŠ¡ç½‘æ ¼å¸¦æ¥çš„ï¼ŒåŒ…æ‹¬é¢‘ç‡æ§åˆ¶ã€æ–­è·¯å™¨ä»¥åŠç›‘æ§æ€§ç­‰åœ¨å†…çš„æ‰€æœ‰å¥½å¤„ï¼Œéƒ½å¯ä»¥ä»æœåŠ¡è¾¹ç¼˜å¼€å§‹äº«ç”¨ã€‚å¦‚æœæƒ³è¦å¯¹è¿™ä¸€æŠ€æœ¯è¿›è¡Œè¿›ä¸€æ­¥çš„æ¢ç´¢å’Œå­¦ä¹ ï¼Œåœ¨ç³»ç»Ÿè¾¹ç¼˜å¼€å§‹ï¼Œå†œæ‘åŒ…å›´åŸå¸‚æ˜¯ä¸€ç§è¡Œä¹‹æœ‰æ•ˆçš„ç­–ç•¥ã€‚è¿™ç§ç­–ç•¥æ— éœ€å…¨é¢éƒ¨ç½²ï¼Œå°±èƒ½è¿…é€Ÿçš„åœ¨ç›‘æ§ã€å¼¹æ€§ç­‰æ–¹é¢å±•ç¤ºå‡ºç‰¹æœ‰çš„å•†ä¸šä»·å€¼ã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
